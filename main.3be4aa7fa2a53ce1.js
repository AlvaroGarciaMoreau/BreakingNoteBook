"use strict";(self.webpackChunkBreakingNB=self.webpackChunkBreakingNB||[]).push([[792],{270:()=>{function St(n){return"function"==typeof n}function Hc(n){const t=n(r=>{Error.call(r),r.stack=(new Error).stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}const gl=Hc(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:\n${t.map((r,i)=>`${i+1}) ${r.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=t});function Gc(n,e){if(n){const t=n.indexOf(e);0<=t&&n.splice(t,1)}}class Lr{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;const{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(const s of t)s.remove(this);else t.remove(this);const{initialTeardown:r}=this;if(St(r))try{r()}catch(s){e=s instanceof gl?s.errors:[s]}const{_finalizers:i}=this;if(i){this._finalizers=null;for(const s of i)try{_l(s)}catch(o){e=e??[],o instanceof gl?e=[...e,...o.errors]:e.push(o)}}if(e)throw new gl(e)}}add(e){var t;if(e&&e!==this)if(this.closed)_l(e);else{if(e instanceof Lr){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=null!==(t=this._finalizers)&&void 0!==t?t:[]).push(e)}}_hasParent(e){const{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){const{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){const{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&Gc(t,e)}remove(e){const{_finalizers:t}=this;t&&Gc(t,e),e instanceof Lr&&e._removeParent(this)}}Lr.EMPTY=(()=>{const n=new Lr;return n.closed=!0,n})();const O6=Lr.EMPTY;function D5(n){return n instanceof Lr||n&&"closed"in n&&St(n.remove)&&St(n.add)&&St(n.unsubscribe)}function _l(n){St(n)?n():n.unsubscribe()}const qc={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1},b3={setTimeout(n,e,...t){const{delegate:r}=b3;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){const{delegate:e}=b3;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ly(n){b3.setTimeout(()=>{const{onUnhandledError:e}=qc;if(!e)throw n;e(n)})}function yl(){}const uy=k6("C",void 0,void 0);function k6(n,e,t){return{kind:n,value:e,error:t}}let R1=null;function Fa(n){if(qc.useDeprecatedSynchronousErrorHandling){const e=!R1;if(e&&(R1={errorThrown:!1,error:null}),n(),e){const{errorThrown:t,error:r}=R1;if(R1=null,t)throw r}}else n()}class C3 extends Lr{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,D5(e)&&e.add(this)):this.destination=V6}static create(e,t,r){return new Va(e,t,r)}next(e){this.isStopped?F6(function fy(n){return k6("N",n,void 0)}(e),this):this._next(e)}error(e){this.isStopped?F6(function dy(n){return k6("E",void 0,n)}(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?F6(uy,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const L5=Function.prototype.bind;function w3(n,e){return L5.call(n,e)}class R5{constructor(e){this.partialObserver=e}next(e){const{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){ho(r)}}error(e){const{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){ho(r)}else ho(e)}complete(){const{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){ho(t)}}}class Va extends C3{constructor(e,t,r){let i;if(super(),St(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let s;this&&qc.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&w3(e.next,s),error:e.error&&w3(e.error,s),complete:e.complete&&w3(e.complete,s)}):i=e}this.destination=new R5(i)}}function ho(n){qc.useDeprecatedSynchronousErrorHandling?function hy(n){qc.useDeprecatedSynchronousErrorHandling&&R1&&(R1.errorThrown=!0,R1.error=n)}(n):ly(n)}function F6(n,e){const{onStoppedNotification:t}=qc;t&&b3.setTimeout(()=>t(n,e))}const V6={closed:!0,next:yl,error:function N5(n){throw n},complete:yl},B6="function"==typeof Symbol&&Symbol.observable||"@@observable";function pa(n){return n}function z5(n){return 0===n.length?pa:1===n.length?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}let Qt=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){const r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){const s=function my(n){return n&&n instanceof C3||function py(n){return n&&St(n.next)&&St(n.error)&&St(n.complete)}(n)&&D5(n)}(t)?t:new Va(t,r,i);return Fa(()=>{const{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return new(r=O5(r))((i,s)=>{const o=new Va({next:a=>{try{t(a)}catch(c){s(c),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(t){var r;return null===(r=this.source)||void 0===r?void 0:r.subscribe(t)}[B6](){return this}pipe(...t){return z5(t)(this)}toPromise(t){return new(t=O5(t))((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return n.create=e=>new n(e),n})();function O5(n){var e;return null!==(e=n??qc.Promise)&&void 0!==e?e:Promise}const gy=Hc(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});let xt=(()=>{class n extends Qt{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){const r=new k5(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new gy}next(t){Fa(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const r of this.currentObservers)r.next(t)}})}error(t){Fa(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){Fa(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return(null===(t=this.observers)||void 0===t?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){const{hasError:r,isStopped:i,observers:s}=this;return r||i?O6:(this.currentObservers=null,s.push(t),new Lr(()=>{this.currentObservers=null,Gc(s,t)}))}_checkFinalizedStatuses(t){const{hasError:r,thrownError:i,isStopped:s}=this;r?t.error(i):s&&t.complete()}asObservable(){const t=new Qt;return t.source=this,t}}return n.create=(e,t)=>new k5(e,t),n})();class k5 extends xt{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.next)||void 0===r||r.call(t,e)}error(e){var t,r;null===(r=null===(t=this.destination)||void 0===t?void 0:t.error)||void 0===r||r.call(t,e)}complete(){var e,t;null===(t=null===(e=this.destination)||void 0===e?void 0:e.complete)||void 0===t||t.call(e)}_subscribe(e){var t,r;return null!==(r=null===(t=this.source)||void 0===t?void 0:t.subscribe(e))&&void 0!==r?r:O6}}function U6(n){return St(n?.lift)}function dr(n){return e=>{if(U6(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function On(n,e,t,r,i){return new _y(n,e,t,r,i)}class _y extends C3{constructor(e,t,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=t?function(a){try{t(a)}catch(c){e.error(c)}}:super._next,this._error=i?function(a){try{i(a)}catch(c){e.error(c)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:t}=this;super.unsubscribe(),!t&&(null===(e=this.onFinalize)||void 0===e||e.call(this))}}}function dt(n,e){return dr((t,r)=>{let i=0;t.subscribe(On(r,s=>{r.next(n.call(e,s,i++))}))})}function j6(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(null!=n&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]])}return t}function Vs(n){return this instanceof Vs?(this.v=n,this):new Vs(n)}function Bs(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var t,e=n[Symbol.asyncIterator];return e?e.call(n):(n=function Rr(n){var e="function"==typeof Symbol&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&"number"==typeof n.length)return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(n),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(s){t[s]=n[s]&&function(o){return new Promise(function(a,c){!function i(s,o,a,c){Promise.resolve(c).then(function(u){s({value:u,done:a})},o)}(a,c,(o=n[s](o)).done,o.value)})}}}"function"==typeof SuppressedError&&SuppressedError;const Ey=n=>n&&"number"==typeof n.length&&"function"!=typeof n;function uN(n){return St(n?.then)}function dN(n){return St(n[B6])}function fN(n){return Symbol.asyncIterator&&St(n?.[Symbol.asyncIterator])}function hN(n){return new TypeError(`You provided ${null!==n&&"object"==typeof n?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}const pN=function rle(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}();function mN(n){return St(n?.[pN])}function gN(n){return function vl(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=t.apply(n,e||[]),s=[];return i=Object.create(("function"==typeof AsyncIterator?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",function o(g){return function(y){return Promise.resolve(y).then(g,f)}}),i[Symbol.asyncIterator]=function(){return this},i;function a(g,y){r[g]&&(i[g]=function(C){return new Promise(function(w,N){s.push([g,C,w,N])>1||c(g,C)})},y&&(i[g]=y(i[g])))}function c(g,y){try{!function u(g){g.value instanceof Vs?Promise.resolve(g.value.v).then(d,f):p(s[0][2],g)}(r[g](y))}catch(C){p(s[0][3],C)}}function d(g){c("next",g)}function f(g){c("throw",g)}function p(g,y){g(y),s.shift(),s.length&&c(s[0][0],s[0][1])}}(this,arguments,function*(){const t=n.getReader();try{for(;;){const{value:r,done:i}=yield Vs(t.read());if(i)return yield Vs(void 0);yield yield Vs(r)}}finally{t.releaseLock()}})}function _N(n){return St(n?.getReader)}function ni(n){if(n instanceof Qt)return n;if(null!=n){if(dN(n))return function ile(n){return new Qt(e=>{const t=n[B6]();if(St(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(n);if(Ey(n))return function sle(n){return new Qt(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}(n);if(uN(n))return function ole(n){return new Qt(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ly)})}(n);if(fN(n))return yN(n);if(mN(n))return function ale(n){return new Qt(e=>{for(const t of n)if(e.next(t),e.closed)return;e.complete()})}(n);if(_N(n))return function cle(n){return yN(gN(n))}(n)}throw hN(n)}function yN(n){return new Qt(e=>{(function lle(n,e){var t,r,i,s;return function Z(n,e,t,r){return new(t||(t=Promise))(function(s,o){function a(d){try{u(r.next(d))}catch(f){o(f)}}function c(d){try{u(r.throw(d))}catch(f){o(f)}}function u(d){d.done?s(d.value):function i(s){return s instanceof t?s:new t(function(o){o(s)})}(d.value).then(a,c)}u((r=r.apply(n,e||[])).next())})}(this,void 0,void 0,function*(){try{for(t=Bs(n);!(r=yield t.next()).done;)if(e.next(r.value),e.closed)return}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=t.return)&&(yield s.call(t))}finally{if(i)throw i.error}}e.complete()})})(n,e).catch(t=>e.error(t))})}function P1(n,e,t,r=0,i=!1){const s=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(s),!i)return s}function ri(n,e,t=1/0){return St(e)?ri((r,i)=>dt((s,o)=>e(r,s,i,o))(ni(n(r,i))),t):("number"==typeof e&&(t=e),dr((r,i)=>function ule(n,e,t,r,i,s,o,a){const c=[];let u=0,d=0,f=!1;const p=()=>{f&&!c.length&&!u&&e.complete()},g=C=>u<r?y(C):c.push(C),y=C=>{s&&e.next(C),u++;let w=!1;ni(t(C,d++)).subscribe(On(e,N=>{i?.(N),s?g(N):e.next(N)},()=>{w=!0},void 0,()=>{if(w)try{for(u--;c.length&&u<r;){const N=c.shift();o?P1(e,o,()=>y(N)):y(N)}p()}catch(N){e.error(N)}}))};return n.subscribe(On(e,g,()=>{f=!0,p()})),()=>{a?.()}}(r,i,n,t)))}function I3(n=1/0){return ri(pa,n)}const Ho=new Qt(n=>n.complete());function vN(n){return n&&St(n.schedule)}function Ty(n){return n[n.length-1]}function U5(n){return St(Ty(n))?n.pop():void 0}function G6(n){return vN(Ty(n))?n.pop():void 0}function j5(n,e=0){return dr((t,r)=>{t.subscribe(On(r,i=>P1(r,n,()=>r.next(i),e),()=>P1(r,n,()=>r.complete(),e),i=>P1(r,n,()=>r.error(i),e)))})}function $5(n,e=0){return dr((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function bN(n,e){if(!n)throw new Error("Iterable cannot be null");return new Qt(t=>{P1(t,e,()=>{const r=n[Symbol.asyncIterator]();P1(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function Kr(n,e){return e?function yle(n,e){if(null!=n){if(dN(n))return function hle(n,e){return ni(n).pipe($5(e),j5(e))}(n,e);if(Ey(n))return function mle(n,e){return new Qt(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}(n,e);if(uN(n))return function ple(n,e){return ni(n).pipe($5(e),j5(e))}(n,e);if(fN(n))return bN(n,e);if(mN(n))return function gle(n,e){return new Qt(t=>{let r;return P1(t,e,()=>{r=n[pN](),P1(t,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){return void t.error(o)}s?t.complete():t.next(i)},0,!0)}),()=>St(r?.return)&&r.return()})}(n,e);if(_N(n))return function _le(n,e){return bN(gN(n),e)}(n,e)}throw hN(n)}(n,e):ni(n)}class Xi extends xt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}function nt(...n){return Kr(n,G6(n))}function H5(n={}){const{connector:e=(()=>new xt),resetOnError:t=!0,resetOnComplete:r=!0,resetOnRefCountZero:i=!0}=n;return s=>{let o,a,c,u=0,d=!1,f=!1;const p=()=>{a?.unsubscribe(),a=void 0},g=()=>{p(),o=c=void 0,d=f=!1},y=()=>{const C=o;g(),C?.unsubscribe()};return dr((C,w)=>{u++,!f&&!d&&p();const N=c=c??e();w.add(()=>{u--,0===u&&!f&&!d&&(a=Iy(y,i))}),N.subscribe(w),!o&&u>0&&(o=new Va({next:R=>N.next(R),error:R=>{f=!0,p(),a=Iy(g,t,R),N.error(R)},complete:()=>{d=!0,p(),a=Iy(g,r),N.complete()}}),ni(C).subscribe(o))})(s)}}function Iy(n,e,...t){if(!0===e)return void n();if(!1===e)return;const r=new Va({next:()=>{r.unsubscribe(),n()}});return ni(e(...t)).subscribe(r)}function Ri(n,e){return dr((t,r)=>{let i=null,s=0,o=!1;const a=()=>o&&!i&&r.complete();t.subscribe(On(r,c=>{i?.unsubscribe();let u=0;const d=s++;ni(n(c,d)).subscribe(i=On(r,f=>r.next(e?e(c,f,d,u++):f),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function My(n,e=pa){return n=n??vle,dr((t,r)=>{let i,s=!0;t.subscribe(On(r,o=>{const a=e(o);(s||!n(i,a))&&(s=!1,i=a,r.next(o))}))})}function vle(n,e){return n===e}function wn(n){for(let e in n)if(n[e]===wn)return e;throw Error("Could not find renamed property on target object.")}function G5(n,e){for(const t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function ii(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(ii).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const e=n.toString();if(null==e)return""+e;const t=e.indexOf("\n");return-1===t?e:e.substring(0,t)}function Sy(n,e){return null==n||""===n?null===e?"":e:null==e||""===e?n:n+" "+e}const ble=wn({__forward_ref__:wn});function Lt(n){return n.__forward_ref__=Lt,n.toString=function(){return ii(this())},n}function ct(n){return Ay(n)?n():n}function Ay(n){return"function"==typeof n&&n.hasOwnProperty(ble)&&n.__forward_ref__===Lt}function xy(n){return n&&!!n.\u0275providers}const wN="https://g.co/ng/security#xss";class J extends Error{constructor(e,t){super(function q5(n,e){return`NG0${Math.abs(n)}${e?": "+e:""}`}(e,t)),this.code=e}}function ft(n){return"string"==typeof n?n:null==n?"":String(n)}function Dy(n,e){throw new J(-201,!1)}function Go(n,e){null==n&&function st(n,e,t,r){throw new Error(`ASSERTION ERROR: ${n}`+(null==r?"":` [Expected=> ${t} ${r} ${e} <=Actual]`))}(e,n,null,"!=")}function pe(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function kt(n){return{providers:n.providers||[],imports:n.imports||[]}}function W5(n){return EN(n,Q5)||EN(n,TN)}function EN(n,e){return n.hasOwnProperty(e)?n[e]:null}function K5(n){return n&&(n.hasOwnProperty(Ly)||n.hasOwnProperty(Ale))?n[Ly]:null}const Q5=wn({\u0275prov:wn}),Ly=wn({\u0275inj:wn}),TN=wn({ngInjectableDef:wn}),Ale=wn({ngInjectorDef:wn});var Rt=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(Rt||{});let Ry;function Us(n){const e=Ry;return Ry=n,e}function MN(n,e,t){const r=W5(n);return r&&"root"==r.providedIn?void 0===r.value?r.value=r.factory():r.value:t&Rt.Optional?null:void 0!==e?e:void Dy(ii(n))}const kn=globalThis;class Me{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof t?this.__NG_ELEMENT_ID__=t:void 0!==t&&(this.\u0275prov=pe({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const q6={},ky="__NG_DI_FLAG__",Y5="ngTempTokenPath",Lle=/\n/gm,AN="__source";let M3;function Kc(n){const e=M3;return M3=n,e}function Ple(n,e=Rt.Default){if(void 0===M3)throw new J(-203,!1);return null===M3?MN(n,void 0,e):M3.get(n,e&Rt.Optional?null:void 0,e)}function de(n,e=Rt.Default){return(function IN(){return Ry}()||Ple)(ct(n),e)}function me(n,e=Rt.Default){return de(n,J5(e))}function J5(n){return typeof n>"u"||"number"==typeof n?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function Fy(n){const e=[];for(let t=0;t<n.length;t++){const r=ct(n[t]);if(Array.isArray(r)){if(0===r.length)throw new J(900,!1);let i,s=Rt.Default;for(let o=0;o<r.length;o++){const a=r[o],c=zle(a);"number"==typeof c?-1===c?i=a.token:s|=c:i=a}e.push(de(i,s))}else e.push(de(r))}return e}function W6(n,e){return n[ky]=e,n.prototype[ky]=e,n}function zle(n){return n[ky]}function z1(n){return{toString:n}.toString()}var X5=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(X5||{}),qo=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(qo||{});const Ba={},un=[],Z5=wn({\u0275cmp:wn}),Vy=wn({\u0275dir:wn}),By=wn({\u0275pipe:wn}),DN=wn({\u0275mod:wn}),O1=wn({\u0275fac:wn}),K6=wn({__NG_ELEMENT_ID__:wn}),LN=wn({__NG_ENV_ID__:wn});function RN(n,e,t){let r=n.length;for(;;){const i=n.indexOf(e,t);if(-1===i)return i;if(0===i||n.charCodeAt(i-1)<=32){const s=e.length;if(i+s===r||n.charCodeAt(i+s)<=32)return i}t=i+1}}function Uy(n,e,t){let r=0;for(;r<t.length;){const i=t[r];if("number"==typeof i){if(0!==i)break;r++;const s=t[r++],o=t[r++],a=t[r++];n.setAttribute(e,o,a,s)}else{const s=i,o=t[++r];PN(s)?n.setProperty(e,s,o):n.setAttribute(e,s,o),r++}}return r}function NN(n){return 3===n||4===n||6===n}function PN(n){return 64===n.charCodeAt(0)}function Q6(n,e){if(null!==e&&0!==e.length)if(null===n||0===n.length)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){const i=e[r];"number"==typeof i?t=i:0===t||zN(n,t,i,null,-1===t||2===t?e[++r]:null)}}return n}function zN(n,e,t,r,i){let s=0,o=n.length;if(-1===e)o=-1;else for(;s<n.length;){const a=n[s++];if("number"==typeof a){if(a===e){o=-1;break}if(a>e){o=s-1;break}}}for(;s<n.length;){const a=n[s];if("number"==typeof a)break;if(a===t){if(null===r)return void(null!==i&&(n[s+1]=i));if(r===n[s+1])return void(n[s+2]=i)}s++,null!==r&&s++,null!==i&&s++}-1!==o&&(n.splice(o,0,e),s=o+1),n.splice(s++,0,t),null!==r&&n.splice(s++,0,r),null!==i&&n.splice(s++,0,i)}const ON="ng-template";function Fle(n,e,t){let r=0,i=!0;for(;r<n.length;){let s=n[r++];if("string"==typeof s&&i){const o=n[r++];if(t&&"class"===s&&-1!==RN(o.toLowerCase(),e,0))return!0}else{if(1===s){for(;r<n.length&&"string"==typeof(s=n[r++]);)if(s.toLowerCase()===e)return!0;return!1}"number"==typeof s&&(i=!1)}}return!1}function kN(n){return 4===n.type&&n.value!==ON}function Vle(n,e,t){return e===(4!==n.type||t?n.value:ON)}function Ble(n,e,t){let r=4;const i=n.attrs||[],s=function $le(n){for(let e=0;e<n.length;e++)if(NN(n[e]))return e;return n.length}(i);let o=!1;for(let a=0;a<e.length;a++){const c=e[a];if("number"!=typeof c){if(!o)if(4&r){if(r=2|1&r,""!==c&&!Vle(n,c,t)||""===c&&1===e.length){if(ma(r))return!1;o=!0}}else{const u=8&r?c:e[++a];if(8&r&&null!==n.attrs){if(!Fle(n.attrs,u,t)){if(ma(r))return!1;o=!0}continue}const f=Ule(8&r?"class":c,i,kN(n),t);if(-1===f){if(ma(r))return!1;o=!0;continue}if(""!==u){let p;p=f>s?"":i[f+1].toLowerCase();const g=8&r?p:null;if(g&&-1!==RN(g,u,0)||2&r&&u!==p){if(ma(r))return!1;o=!0}}}}else{if(!o&&!ma(r)&&!ma(c))return!1;if(o&&ma(c))continue;o=!1,r=c|1&r}}return ma(r)||o}function ma(n){return 0==(1&n)}function Ule(n,e,t,r){if(null===e)return-1;let i=0;if(r||!t){let s=!1;for(;i<e.length;){const o=e[i];if(o===n)return i;if(3===o||6===o)s=!0;else{if(1===o||2===o){let a=e[++i];for(;"string"==typeof a;)a=e[++i];continue}if(4===o)break;if(0===o){i+=4;continue}}i+=s?1:2}return-1}return function Hle(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){const r=n[t];if("number"==typeof r)return-1;if(r===e)return t;t++}return-1}(e,n)}function FN(n,e,t=!1){for(let r=0;r<e.length;r++)if(Ble(n,e[r],t))return!0;return!1}function Gle(n,e){e:for(let t=0;t<e.length;t++){const r=e[t];if(n.length===r.length){for(let i=0;i<n.length;i++)if(n[i]!==r[i])continue e;return!0}}return!1}function VN(n,e){return n?":not("+e.trim()+")":e}function qle(n){let e=n[0],t=1,r=2,i="",s=!1;for(;t<n.length;){let o=n[t];if("string"==typeof o)if(2&r){const a=n[++t];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else 8&r?i+="."+o:4&r&&(i+=" "+o);else""!==i&&!ma(o)&&(e+=VN(s,i),i=""),r=o,s=s||!ma(r);t++}return""!==i&&(e+=VN(s,i)),e}function xn(n){return z1(()=>{const e=UN(n),t={...e,decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===X5.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||qo.Emulated,styles:n.styles||un,_:null,schemas:n.schemas||null,tView:null,id:""};jN(t);const r=n.dependencies;return t.directiveDefs=e7(r,!1),t.pipeDefs=e7(r,!0),t.id=function e0e(n){let e=0;const t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(const i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}(t),t})}function Yle(n){return Yt(n)||Ni(n)}function Jle(n){return null!==n}function Gt(n){return z1(()=>({type:n.type,bootstrap:n.bootstrap||un,declarations:n.declarations||un,imports:n.imports||un,exports:n.exports||un,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function BN(n,e){if(null==n)return Ba;const t={};for(const r in n)if(n.hasOwnProperty(r)){let i=n[r],s=i;Array.isArray(i)&&(s=i[1],i=i[0]),t[i]=r,e&&(e[i]=s)}return t}function ve(n){return z1(()=>{const e=UN(n);return jN(e),e})}function Yt(n){return n[Z5]||null}function Ni(n){return n[Vy]||null}function gs(n){return n[By]||null}function mo(n,e){const t=n[DN]||null;if(!t&&!0===e)throw new Error(`Type ${ii(n)} does not have '\u0275mod' property.`);return t}function UN(n){const e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||Ba,exportAs:n.exportAs||null,standalone:!0===n.standalone,signals:!0===n.signals,selectors:n.selectors||un,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:BN(n.inputs,e),outputs:BN(n.outputs)}}function jN(n){n.features?.forEach(e=>e(n))}function e7(n,e){if(!n)return null;const t=e?gs:Yle;return()=>("function"==typeof n?n():n).map(r=>t(r)).filter(Jle)}const Er=0,De=1,yt=2,er=3,ga=4,Y6=5,Zi=6,A3=7,Nr=8,Qc=9,x3=10,ht=11,J6=12,$N=13,D3=14,Pr=15,X6=16,L3=17,Ua=18,Z6=19,HN=20,Yc=21,k1=22,ed=23,td=24,Nt=25,jy=1,GN=2,ja=7,R3=9,Pi=11;function $s(n){return Array.isArray(n)&&"object"==typeof n[jy]}function _s(n){return Array.isArray(n)&&!0===n[jy]}function $y(n){return 0!=(4&n.flags)}function Cl(n){return n.componentOffset>-1}function n7(n){return 1==(1&n.flags)}function _a(n){return!!n.template}function Hy(n){return 0!=(512&n[yt])}function wl(n,e){return n.hasOwnProperty(O1)?n[O1]:null}let zi=null,r7=!1;function Wo(n){const e=zi;return zi=n,e}const KN={version:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{}};function YN(n){if(!rd(n)||n.dirty){if(!n.producerMustRecompute(n)&&!ZN(n))return void(n.dirty=!1);n.producerRecomputeValue(n),n.dirty=!1}}function XN(n){n.dirty=!0,function JN(n){if(void 0===n.liveConsumerNode)return;const e=r7;r7=!0;try{for(const t of n.liveConsumerNode)t.dirty||XN(t)}finally{r7=e}}(n),n.consumerMarkedDirty?.(n)}function qy(n){return n&&(n.nextProducerIndex=0),Wo(n)}function Wy(n,e){if(Wo(e),n&&void 0!==n.producerNode&&void 0!==n.producerIndexOfThis&&void 0!==n.producerLastReadVersion){if(rd(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)i7(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function ZN(n){N3(n);for(let e=0;e<n.producerNode.length;e++){const t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(YN(t),r!==t.version))return!0}return!1}function eP(n){if(N3(n),rd(n))for(let e=0;e<n.producerNode.length;e++)i7(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function i7(n,e){if(function nP(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}(n),N3(n),1===n.liveConsumerNode.length)for(let r=0;r<n.producerNode.length;r++)i7(n.producerNode[r],n.producerIndexOfThis[r]);const t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){const r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];N3(i),i.producerIndexOfThis[r]=e}}function rd(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function N3(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}let rP=null;const aP=()=>{},h0e=(()=>({...KN,consumerIsAlwaysLive:!0,consumerAllowSignalWrites:!1,consumerMarkedDirty:n=>{n.schedule(n.ref)},hasRun:!1,cleanupFn:aP}))();class p0e{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}}function Qr(){return cP}function cP(n){return n.type.prototype.ngOnChanges&&(n.setInput=g0e),m0e}function m0e(){const n=uP(this),e=n?.current;if(e){const t=n.previous;if(t===Ba)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function g0e(n,e,t,r){const i=this.declaredInputs[t],s=uP(n)||function _0e(n,e){return n[lP]=e}(n,{previous:Ba,current:null}),o=s.current||(s.current={}),a=s.previous,c=a[i];o[i]=new p0e(c&&c.currentValue,e,a===Ba),n[r]=e}Qr.ngInherit=!0;const lP="__ngSimpleChanges__";function uP(n){return n[lP]||null}const $a=function(n,e,t){};function Fn(n){for(;Array.isArray(n);)n=n[Er];return n}function s7(n,e){return Fn(e[n])}function Hs(n,e){return Fn(e[n.index])}function hP(n,e){return n.data[e]}function go(n,e){const t=e[n];return $s(t)?t:t[Er]}function Xc(n,e){return null==e?null:n[e]}function pP(n){n[L3]=0}function E0e(n){1024&n[yt]||(n[yt]|=1024,gP(n,1))}function mP(n){1024&n[yt]&&(n[yt]&=-1025,gP(n,-1))}function gP(n,e){let t=n[er];if(null===t)return;t[Y6]+=e;let r=t;for(t=t[er];null!==t&&(1===e&&1===r[Y6]||-1===e&&0===r[Y6]);)t[Y6]+=e,r=t,t=t[er]}const ot={lFrame:SP(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function vP(){return ot.bindingsEnabled}function z3(){return null!==ot.skipHydrationRootTNode}function se(){return ot.lFrame.lView}function Jt(){return ot.lFrame.tView}function Oi(n){return ot.lFrame.contextLView=n,n[Nr]}function ki(n){return ot.lFrame.contextLView=null,n}function Fi(){let n=bP();for(;null!==n&&64===n.type;)n=n.parent;return n}function bP(){return ot.lFrame.currentTNode}function Ha(n,e){const t=ot.lFrame;t.currentTNode=n,t.isParent=e}function Xy(){return ot.lFrame.isParent}function Zy(){ot.lFrame.isParent=!1}function ys(){const n=ot.lFrame;let e=n.bindingRootIndex;return-1===e&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function O3(){return ot.lFrame.bindingIndex++}function V1(n){const e=ot.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function z0e(n,e){const t=ot.lFrame;t.bindingIndex=t.bindingRootIndex=n,ev(e)}function ev(n){ot.lFrame.currentDirectiveIndex=n}function tv(n){const e=ot.lFrame.currentDirectiveIndex;return-1===e?null:n[e]}function TP(){return ot.lFrame.currentQueryIndex}function nv(n){ot.lFrame.currentQueryIndex=n}function k0e(n){const e=n[De];return 2===e.type?e.declTNode:1===e.type?n[Zi]:null}function IP(n,e,t){if(t&Rt.SkipSelf){let i=e,s=n;for(;!(i=i.parent,null!==i||t&Rt.Host||(i=k0e(s),null===i||(s=s[D3],10&i.type))););if(null===i)return!1;e=i,n=s}const r=ot.lFrame=MP();return r.currentTNode=e,r.lView=n,!0}function rv(n){const e=MP(),t=n[De];ot.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function MP(){const n=ot.lFrame,e=null===n?null:n.child;return null===e?SP(n):e}function SP(n){const e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=e),e}function AP(){const n=ot.lFrame;return ot.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const xP=AP;function iv(){const n=AP();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function vs(){return ot.lFrame.selectedIndex}function El(n){ot.lFrame.selectedIndex=n}function fr(){const n=ot.lFrame;return hP(n.tView,n.selectedIndex)}let LP=!0;function o7(){return LP}function Zc(n){LP=n}function a7(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){const s=n.data[t].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:c,ngAfterViewChecked:u,ngOnDestroy:d}=s;o&&(n.contentHooks??=[]).push(-t,o),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),c&&(n.viewHooks??=[]).push(-t,c),u&&((n.viewHooks??=[]).push(t,u),(n.viewCheckHooks??=[]).push(t,u)),null!=d&&(n.destroyHooks??=[]).push(t,d)}}function c7(n,e,t){RP(n,e,3,t)}function l7(n,e,t,r){(3&n[yt])===t&&RP(n,e,t,r)}function sv(n,e){let t=n[yt];(3&t)===e&&(t&=8191,t+=1,n[yt]=t)}function RP(n,e,t,r){const s=r??-1,o=e.length-1;let a=0;for(let c=void 0!==r?65535&n[L3]:0;c<o;c++)if("number"==typeof e[c+1]){if(a=e[c],null!=r&&a>=r)break}else e[c]<0&&(n[L3]+=65536),(a<s||-1==s)&&(G0e(n,t,e,c),n[L3]=(4294901760&n[L3])+c+2),c++}function NP(n,e){$a(4,n,e);const t=Wo(null);try{e.call(n)}finally{Wo(t),$a(5,n,e)}}function G0e(n,e,t,r){const i=t[r]<0,s=t[r+1],a=n[i?-t[r]:t[r]];i?n[yt]>>13<n[L3]>>16&&(3&n[yt])===e&&(n[yt]+=8192,NP(a,s)):NP(a,s)}const k3=-1;class sd{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}}function av(n){return n!==k3}function od(n){return 32767&n}function ad(n,e){let t=function Q0e(n){return n>>16}(n),r=e;for(;t>0;)r=r[D3],t--;return r}let cv=!0;function u7(n){const e=cv;return cv=n,e}const PP=255,zP=5;let Y0e=0;const Ga={};function d7(n,e){const t=OP(n,e);if(-1!==t)return t;const r=e[De];r.firstCreatePass&&(n.injectorIndex=e.length,lv(r.data,n),lv(e,null),lv(r.blueprint,null));const i=f7(n,e),s=n.injectorIndex;if(av(i)){const o=od(i),a=ad(i,e),c=a[De].data;for(let u=0;u<8;u++)e[s+u]=a[o+u]|c[o+u]}return e[s+8]=i,s}function lv(n,e){n.push(0,0,0,0,0,0,0,0,e)}function OP(n,e){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===e[n.injectorIndex+8]?-1:n.injectorIndex}function f7(n,e){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;null!==i;){if(r=$P(i),null===r)return k3;if(t++,i=i[D3],-1!==r.injectorIndex)return r.injectorIndex|t<<16}return k3}function uv(n,e,t){!function J0e(n,e,t){let r;"string"==typeof t?r=t.charCodeAt(0)||0:t.hasOwnProperty(K6)&&(r=t[K6]),null==r&&(r=t[K6]=Y0e++);const i=r&PP;e.data[n+(i>>zP)]|=1<<i}(n,e,t)}function kP(n,e,t){if(t&Rt.Optional||void 0!==n)return n;Dy()}function FP(n,e,t,r){if(t&Rt.Optional&&void 0===r&&(r=null),!(t&(Rt.Self|Rt.Host))){const i=n[Qc],s=Us(void 0);try{return i?i.get(e,r,t&Rt.Optional):MN(e,r,t&Rt.Optional)}finally{Us(s)}}return kP(r,0,t)}function VP(n,e,t,r=Rt.Default,i){if(null!==n){if(2048&e[yt]&&!(r&Rt.Self)){const o=function r3e(n,e,t,r,i){let s=n,o=e;for(;null!==s&&null!==o&&2048&o[yt]&&!(512&o[yt]);){const a=BP(s,o,t,r|Rt.Self,Ga);if(a!==Ga)return a;let c=s.parent;if(!c){const u=o[HN];if(u){const d=u.get(t,Ga,r);if(d!==Ga)return d}c=$P(o),o=o[D3]}s=c}return i}(n,e,t,r,Ga);if(o!==Ga)return o}const s=BP(n,e,t,r,Ga);if(s!==Ga)return s}return FP(e,t,r,i)}function BP(n,e,t,r,i){const s=function e3e(n){if("string"==typeof n)return n.charCodeAt(0)||0;const e=n.hasOwnProperty(K6)?n[K6]:void 0;return"number"==typeof e?e>=0?e&PP:n3e:e}(t);if("function"==typeof s){if(!IP(e,n,r))return r&Rt.Host?kP(i,0,r):FP(e,t,r,i);try{let o;if(o=s(r),null!=o||r&Rt.Optional)return o;Dy()}finally{xP()}}else if("number"==typeof s){let o=null,a=OP(n,e),c=k3,u=r&Rt.Host?e[Pr][Zi]:null;for((-1===a||r&Rt.SkipSelf)&&(c=-1===a?f7(n,e):e[a+8],c!==k3&&jP(r,!1)?(o=e[De],a=od(c),e=ad(c,e)):a=-1);-1!==a;){const d=e[De];if(UP(s,a,d.data)){const f=Z0e(a,e,t,o,r,u);if(f!==Ga)return f}c=e[a+8],c!==k3&&jP(r,e[De].data[a+8]===u)&&UP(s,a,e)?(o=d,a=od(c),e=ad(c,e)):a=-1}}return i}function Z0e(n,e,t,r,i,s){const o=e[De],a=o.data[n+8],d=h7(a,o,t,null==r?Cl(a)&&cv:r!=o&&0!=(3&a.type),i&Rt.Host&&s===a);return null!==d?Tl(e,o,d,a):Ga}function h7(n,e,t,r,i){const s=n.providerIndexes,o=e.data,a=1048575&s,c=n.directiveStart,d=s>>20,p=i?a+d:n.directiveEnd;for(let g=r?a:a+d;g<p;g++){const y=o[g];if(g<c&&t===y||g>=c&&y.type===t)return g}if(i){const g=o[c];if(g&&_a(g)&&g.type===t)return c}return null}function Tl(n,e,t,r){let i=n[t];const s=e.data;if(function q0e(n){return n instanceof sd}(i)){const o=i;o.resolving&&function Cle(n,e){const t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new J(-200,`Circular dependency in DI detected for ${n}${t}`)}(function yn(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():ft(n)}(s[t]));const a=u7(o.canSeeViewProviders);o.resolving=!0;const u=o.injectImpl?Us(o.injectImpl):null;IP(n,r,Rt.Default);try{i=n[t]=o.factory(void 0,s,n,r),e.firstCreatePass&&t>=r.directiveStart&&function H0e(n,e,t){const{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){const o=cP(e);(t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o)}i&&(t.preOrderHooks??=[]).push(0-n,i),s&&((t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s))}(t,s[t],e)}finally{null!==u&&Us(u),u7(a),o.resolving=!1,xP()}}return i}function UP(n,e,t){return!!(t[e+(n>>zP)]&1<<n)}function jP(n,e){return!(n&Rt.Self||n&Rt.Host&&e)}class bs{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return VP(this._tNode,this._lView,e,J5(r),t)}}function n3e(){return new bs(Fi(),se())}function zr(n){return z1(()=>{const e=n.prototype.constructor,t=e[O1]||dv(e),r=Object.prototype;let i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){const s=i[O1]||dv(i);if(s&&s!==t)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function dv(n){return Ay(n)?()=>{const e=dv(ct(n));return e&&e()}:wl(n)}function $P(n){const e=n[De],t=e.type;return 2===t?e.declTNode:1===t?n[Zi]:null}const V3="__parameters__";function U3(n,e,t){return z1(()=>{const r=function fv(n){return function(...t){if(n){const r=n(...t);for(const i in r)this[i]=r[i]}}}(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;const o=new i(...s);return a.annotation=o,a;function a(c,u,d){const f=c.hasOwnProperty(V3)?c[V3]:Object.defineProperty(c,V3,{value:[]})[V3];for(;f.length<=d;)f.push(null);return(f[d]=f[d]||[]).push(o),c}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}function $3(n,e){n.forEach(t=>Array.isArray(t)?$3(t,e):e(t))}function GP(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function p7(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function ud(n,e){const t=[];for(let r=0;r<n;r++)t.push(e);return t}function _o(n,e,t){let r=H3(n,e);return r>=0?n[1|r]=t:(r=~r,function u3e(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(1===i)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;)n[i]=n[i-2],i--;n[e]=t,n[e+1]=r}}(n,r,e,t)),r}function hv(n,e){const t=H3(n,e);if(t>=0)return n[1|t]}function H3(n,e){return function qP(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){const s=r+(i-r>>1),o=n[s<<t];if(e===o)return s<<t;o>e?i=s:r=s+1}return~(i<<t)}(n,e,1)}const Vi=W6(U3("Optional"),8),g7=W6(U3("SkipSelf"),4);function C7(n){return 128==(128&n.flags)}var e2=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(e2||{});const L3e=/^>|^->|<!--|-->|--!>|<!-$/g,R3e=/(<|>)/g,N3e="\u200b$1\u200b";const yv=new Map;let P3e=0;const bv="__ngContext__";function es(n,e){$s(e)?(n[bv]=e[Z6],function O3e(n){yv.set(n[Z6],n)}(e)):n[bv]=e}let Cv;function wv(n,e){return Cv(n,e)}function hd(n){const e=n[er];return _s(e)?e[er]:e}function fz(n){return pz(n[J6])}function hz(n){return pz(n[ga])}function pz(n){for(;null!==n&&!_s(n);)n=n[ga];return n}function W3(n,e,t,r,i){if(null!=r){let s,o=!1;_s(r)?s=r:$s(r)&&(o=!0,r=r[Er]);const a=Fn(r);0===n&&null!==t?null==i?yz(e,t,a):Ml(e,t,a,i||null,!0):1===n&&null!==t?Ml(e,t,a,i||null,!0):2===n?function A7(n,e,t){const r=M7(n,e);r&&function t4e(n,e,t,r){n.removeChild(e,t,r)}(n,r,e,t)}(e,a,o):3===n&&e.destroyNode(a),null!=s&&function i4e(n,e,t,r,i){const s=t[ja];s!==Fn(t)&&W3(e,n,r,s,i);for(let a=Pi;a<t.length;a++){const c=t[a];md(c[De],c,n,e,r,s)}}(e,n,s,t,i)}}function Ev(n,e){return n.createComment(function iz(n){return n.replace(L3e,e=>e.replace(R3e,N3e))}(e))}function T7(n,e,t){return n.createElement(e,t)}function gz(n,e){const t=n[R3],r=t.indexOf(e);mP(e),t.splice(r,1)}function I7(n,e){if(n.length<=Pi)return;const t=Pi+e,r=n[t];if(r){const i=r[X6];null!==i&&i!==n&&gz(i,r),e>0&&(n[t-1][ga]=r[ga]);const s=p7(n,Pi+e);!function W3e(n,e){md(n,e,e[ht],2,null,null),e[Er]=null,e[Zi]=null}(r[De],r);const o=s[Ua];null!==o&&o.detachView(s[De]),r[er]=null,r[ga]=null,r[yt]&=-129}return r}function Tv(n,e){if(!(256&e[yt])){const t=e[ht];e[ed]&&eP(e[ed]),e[td]&&eP(e[td]),t.destroyNode&&md(n,e,t,3,null,null),function Y3e(n){let e=n[J6];if(!e)return Iv(n[De],n);for(;e;){let t=null;if($s(e))t=e[J6];else{const r=e[Pi];r&&(t=r)}if(!t){for(;e&&!e[ga]&&e!==n;)$s(e)&&Iv(e[De],e),e=e[er];null===e&&(e=n),$s(e)&&Iv(e[De],e),t=e&&e[ga]}e=t}}(e)}}function Iv(n,e){if(!(256&e[yt])){e[yt]&=-129,e[yt]|=256,function e4e(n,e){let t;if(null!=n&&null!=(t=n.destroyHooks))for(let r=0;r<t.length;r+=2){const i=e[t[r]];if(!(i instanceof sd)){const s=t[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){const a=i[s[o]],c=s[o+1];$a(4,a,c);try{c.call(a)}finally{$a(5,a,c)}}else{$a(4,i,s);try{s.call(i)}finally{$a(5,i,s)}}}}}(n,e),function Z3e(n,e){const t=n.cleanup,r=e[A3];if(null!==t)for(let s=0;s<t.length-1;s+=2)if("string"==typeof t[s]){const o=t[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else t[s].call(r[t[s+1]]);null!==r&&(e[A3]=null);const i=e[Yc];if(null!==i){e[Yc]=null;for(let s=0;s<i.length;s++)(0,i[s])()}}(n,e),1===e[De].type&&e[ht].destroy();const t=e[X6];if(null!==t&&_s(e[er])){t!==e[er]&&gz(t,e);const r=e[Ua];null!==r&&r.detachView(n)}!function k3e(n){yv.delete(n[Z6])}(e)}}function Mv(n,e,t){return function _z(n,e,t){let r=e;for(;null!==r&&40&r.type;)r=(e=r).parent;if(null===r)return t[Er];{const{componentOffset:i}=r;if(i>-1){const{encapsulation:s}=n.data[r.directiveStart+i];if(s===qo.None||s===qo.Emulated)return null}return Hs(r,t)}}(n,e.parent,t)}function Ml(n,e,t,r,i){n.insertBefore(e,t,r,i)}function yz(n,e,t){n.appendChild(e,t)}function vz(n,e,t,r,i){null!==r?Ml(n,e,t,r,i):yz(n,e,t)}function M7(n,e){return n.parentNode(e)}function bz(n,e,t){return wz(n,e,t)}let Sv,x7,Lv,D7,wz=function Cz(n,e,t){return 40&n.type?Hs(n,t):null};function S7(n,e,t,r){const i=Mv(n,r,e),s=e[ht],a=bz(r.parent||e[Zi],r,e);if(null!=i)if(Array.isArray(t))for(let c=0;c<t.length;c++)vz(s,i,t[c],a,!1);else vz(s,i,t,a,!1);void 0!==Sv&&Sv(s,r,e,t,i)}function pd(n,e){if(null!==e){const t=e.type;if(3&t)return Hs(e,n);if(4&t)return Av(-1,n[e.index]);if(8&t){const r=e.child;if(null!==r)return pd(n,r);{const i=n[e.index];return _s(i)?Av(-1,i):Fn(i)}}if(32&t)return wv(e,n)()||Fn(n[e.index]);{const r=Tz(n,e);return null!==r?Array.isArray(r)?r[0]:pd(hd(n[Pr]),r):pd(n,e.next)}}return null}function Tz(n,e){return null!==e?n[Pr][Zi].projection[e.projection]:null}function Av(n,e){const t=Pi+n+1;if(t<e.length){const r=e[t],i=r[De].firstChild;if(null!==i)return pd(r,i)}return e[ja]}function xv(n,e,t,r,i,s,o){for(;null!=t;){const a=r[t.index],c=t.type;if(o&&0===e&&(a&&es(Fn(a),r),t.flags|=2),32!=(32&t.flags))if(8&c)xv(n,e,t.child,r,i,s,!1),W3(e,n,i,a,s);else if(32&c){const u=wv(t,r);let d;for(;d=u();)W3(e,n,i,d,s);W3(e,n,i,a,s)}else 16&c?Mz(n,e,r,t,i,s):W3(e,n,i,a,s);t=o?t.projectionNext:t.next}}function md(n,e,t,r,i,s){xv(t,r,n.firstChild,e,i,s,!1)}function Mz(n,e,t,r,i,s){const o=t[Pr],c=o[Zi].projection[r.projection];if(Array.isArray(c))for(let u=0;u<c.length;u++)W3(e,n,i,c[u],s);else{let u=c;const d=o[er];C7(r)&&(u.flags|=128),xv(n,e,u,d,i,s,!0)}}function Sz(n,e,t){""===t?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function Az(n,e,t){const{mergedAttrs:r,classes:i,styles:s}=t;null!==r&&Uy(n,e,r),null!==i&&Sz(n,e,i),null!==s&&function o4e(n,e,t){n.setAttribute(e,"style",t)}(n,e,s)}function K3(n){return function Dv(){if(void 0===x7&&(x7=null,kn.trustedTypes))try{x7=kn.trustedTypes.createPolicy("angular",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return x7}()?.createHTML(n)||n}function Q3(){if(void 0!==Lv)return Lv;if(typeof document<"u")return document;throw new J(210,!1)}function Rv(){if(void 0===D7&&(D7=null,kn.trustedTypes))try{D7=kn.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return D7}function xz(n){return Rv()?.createHTML(n)||n}function Lz(n){return Rv()?.createScriptURL(n)||n}class Sl{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${wN})`}}class d4e extends Sl{getTypeName(){return"HTML"}}class f4e extends Sl{getTypeName(){return"Style"}}class h4e extends Sl{getTypeName(){return"Script"}}class p4e extends Sl{getTypeName(){return"URL"}}class m4e extends Sl{getTypeName(){return"ResourceURL"}}function yo(n){return n instanceof Sl?n.changingThisBreaksApplicationSecurity:n}function qa(n,e){const t=function g4e(n){return n instanceof Sl&&n.getTypeName()||null}(n);if(null!=t&&t!==e){if("ResourceURL"===t&&"URL"===e)return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${wN})`)}return t===e}class w4e{constructor(e){this.inertDocumentHelper=e}getInertBodyElement(e){e="<body><remove></remove>"+e;try{const t=(new window.DOMParser).parseFromString(K3(e),"text/html").body;return null===t?this.inertDocumentHelper.getInertBodyElement(e):(t.removeChild(t.firstChild),t)}catch{return null}}}class E4e{constructor(e){this.defaultDoc=e,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(e){const t=this.inertDocument.createElement("template");return t.innerHTML=K3(e),t}}const I4e=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function L7(n){return(n=String(n)).match(I4e)?n:"unsafe:"+n}function B1(n){const e={};for(const t of n.split(","))e[t]=!0;return e}function gd(...n){const e={};for(const t of n)for(const r in t)t.hasOwnProperty(r)&&(e[r]=!0);return e}const Nz=B1("area,br,col,hr,img,wbr"),Pz=B1("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),zz=B1("rp,rt"),Nv=gd(Nz,gd(Pz,B1("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),gd(zz,B1("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),gd(zz,Pz)),Pv=B1("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),Oz=gd(Pv,B1("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),B1("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext")),M4e=B1("script,style,template");class S4e{constructor(){this.sanitizedSomething=!1,this.buf=[]}sanitizeChildren(e){let t=e.firstChild,r=!0;for(;t;)if(t.nodeType===Node.ELEMENT_NODE?r=this.startElement(t):t.nodeType===Node.TEXT_NODE?this.chars(t.nodeValue):this.sanitizedSomething=!0,r&&t.firstChild)t=t.firstChild;else for(;t;){t.nodeType===Node.ELEMENT_NODE&&this.endElement(t);let i=this.checkClobberedElement(t,t.nextSibling);if(i){t=i;break}t=this.checkClobberedElement(t,t.parentNode)}return this.buf.join("")}startElement(e){const t=e.nodeName.toLowerCase();if(!Nv.hasOwnProperty(t))return this.sanitizedSomething=!0,!M4e.hasOwnProperty(t);this.buf.push("<"),this.buf.push(t);const r=e.attributes;for(let i=0;i<r.length;i++){const s=r.item(i),o=s.name,a=o.toLowerCase();if(!Oz.hasOwnProperty(a)){this.sanitizedSomething=!0;continue}let c=s.value;Pv[a]&&(c=L7(c)),this.buf.push(" ",o,'="',kz(c),'"')}return this.buf.push(">"),!0}endElement(e){const t=e.nodeName.toLowerCase();Nv.hasOwnProperty(t)&&!Nz.hasOwnProperty(t)&&(this.buf.push("</"),this.buf.push(t),this.buf.push(">"))}chars(e){this.buf.push(kz(e))}checkClobberedElement(e,t){if(t&&(e.compareDocumentPosition(t)&Node.DOCUMENT_POSITION_CONTAINED_BY)===Node.DOCUMENT_POSITION_CONTAINED_BY)throw new Error(`Failed to sanitize html because the element is clobbered: ${e.outerHTML}`);return t}}const A4e=/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,x4e=/([^\#-~ |!])/g;function kz(n){return n.replace(/&/g,"&amp;").replace(A4e,function(e){return"&#"+(1024*(e.charCodeAt(0)-55296)+(e.charCodeAt(1)-56320)+65536)+";"}).replace(x4e,function(e){return"&#"+e.charCodeAt(0)+";"}).replace(/</g,"&lt;").replace(/>/g,"&gt;")}let R7;function Fz(n,e){let t=null;try{R7=R7||function Rz(n){const e=new E4e(n);return function T4e(){try{return!!(new window.DOMParser).parseFromString(K3(""),"text/html")}catch{return!1}}()?new w4e(e):e}(n);let r=e?String(e):"";t=R7.getInertBodyElement(r);let i=5,s=r;do{if(0===i)throw new Error("Failed to sanitize html because the input is unstable");i--,r=s,s=t.innerHTML,t=R7.getInertBodyElement(r)}while(r!==s);return K3((new S4e).sanitizeChildren(zv(t)||t))}finally{if(t){const r=zv(t)||t;for(;r.firstChild;)r.removeChild(r.firstChild)}}}function zv(n){return"content"in n&&function D4e(n){return n.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===n.nodeName}(n)?n.content:null}var vo=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(vo||{});function N7(n){const e=_d();return e?xz(e.sanitize(vo.HTML,n)||""):qa(n,"HTML")?xz(yo(n)):Fz(Q3(),ft(n))}function Vz(n){const e=_d();return e?e.sanitize(vo.URL,n)||"":qa(n,"URL")?yo(n):L7(ft(n))}function Bz(n){const e=_d();if(e)return Lz(e.sanitize(vo.RESOURCE_URL,n)||"");if(qa(n,"ResourceURL"))return Lz(yo(n));throw new J(904,!1)}function _d(){const n=se();return n&&n[x3].sanitizer}const yd=new Me("ENVIRONMENT_INITIALIZER"),jz=new Me("INJECTOR",-1),$z=new Me("INJECTOR_DEF_TYPES");class Ov{get(e,t=q6){if(t===q6){const r=new Error(`NullInjectorError: No provider for ${ii(e)}!`);throw r.name="NullInjectorError",r}return t}}function t2(n){return{\u0275providers:n}}function O4e(...n){return{\u0275providers:Hz(0,n),\u0275fromNgModule:!0}}function Hz(n,...e){const t=[],r=new Set;let i;const s=o=>{t.push(o)};return $3(e,o=>{const a=o;P7(a,s,[],r)&&(i||=[],i.push(a))}),void 0!==i&&Gz(i,s),t}function Gz(n,e){for(let t=0;t<n.length;t++){const{ngModule:r,providers:i}=n[t];kv(i,s=>{e(s,r)})}}function P7(n,e,t,r){if(!(n=ct(n)))return!1;let i=null,s=K5(n);const o=!s&&Yt(n);if(s||o){if(o&&!o.standalone)return!1;i=n}else{const c=n.ngModule;if(s=K5(c),!s)return!1;i=c}const a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){const c="function"==typeof o.dependencies?o.dependencies():o.dependencies;for(const u of c)P7(u,e,t,r)}}else{if(!s)return!1;{if(null!=s.imports&&!a){let u;r.add(i);try{$3(s.imports,d=>{P7(d,e,t,r)&&(u||=[],u.push(d))})}finally{}void 0!==u&&Gz(u,e)}if(!a){const u=wl(i)||(()=>new i);e({provide:i,useFactory:u,deps:un},i),e({provide:$z,useValue:i,multi:!0},i),e({provide:yd,useValue:()=>de(i),multi:!0},i)}const c=s.providers;if(null!=c&&!a){const u=n;kv(c,d=>{e(d,u)})}}}return i!==n&&void 0!==n.providers}function kv(n,e){for(let t of n)xy(t)&&(t=t.\u0275providers),Array.isArray(t)?kv(t,e):e(t)}const k4e=wn({provide:String,useValue:wn});function Fv(n){return null!==n&&"object"==typeof n&&k4e in n}function Al(n){return"function"==typeof n}const Vv=new Me("Set Injector scope."),z7={},V4e={};let Bv;function O7(){return void 0===Bv&&(Bv=new Ov),Bv}class Cs{}class Y3 extends Cs{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,jv(e,o=>this.processProvider(o)),this.records.set(jz,J3(void 0,this)),i.has("environment")&&this.records.set(Cs,J3(void 0,this));const s=this.records.get(Vv);null!=s&&"string"==typeof s.value&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get($z.multi,un,Rt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const t of this._ngOnDestroyHooks)t.ngOnDestroy();const e=this._onDestroyHooks;this._onDestroyHooks=[];for(const t of e)t()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();const t=Kc(this),r=Us(void 0);try{return e()}finally{Kc(t),Us(r)}}get(e,t=q6,r=Rt.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(LN))return e[LN](this);r=J5(r);const s=Kc(this),o=Us(void 0);try{if(!(r&Rt.SkipSelf)){let c=this.records.get(e);if(void 0===c){const u=function H4e(n){return"function"==typeof n||"object"==typeof n&&n instanceof Me}(e)&&W5(e);c=u&&this.injectableDefInScope(u)?J3(Uv(e),z7):null,this.records.set(e,c)}if(null!=c)return this.hydrate(e,c)}return(r&Rt.Self?O7():this.parent).get(e,t=r&Rt.Optional&&t===q6?null:t)}catch(a){if("NullInjectorError"===a.name){if((a[Y5]=a[Y5]||[]).unshift(ii(e)),s)throw a;return function Ole(n,e,t,r){const i=n[Y5];throw e[AN]&&i.unshift(e[AN]),n.message=function kle(n,e,t,r=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.slice(2):n;let i=ii(e);if(Array.isArray(e))i=e.map(ii).join(" -> ");else if("object"==typeof e){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+("string"==typeof a?JSON.stringify(a):ii(a)))}i=`{${s.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(Lle,"\n  ")}`}("\n"+n.message,i,t,r),n.ngTokenPath=i,n[Y5]=null,n}(a,e,"R3InjectorError",this.source)}throw a}finally{Us(o),Kc(s)}}resolveInjectorInitializers(){const e=Kc(this),t=Us(void 0);try{const i=this.get(yd.multi,un,Rt.Self);for(const s of i)s()}finally{Kc(e),Us(t)}}toString(){const e=[],t=this.records;for(const r of t.keys())e.push(ii(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new J(205,!1)}processProvider(e){let t=Al(e=ct(e))?e:ct(e&&e.provide);const r=function U4e(n){return Fv(n)?J3(void 0,n.useValue):J3(Kz(n),z7)}(e);if(Al(e)||!0!==e.multi)this.records.get(t);else{let i=this.records.get(t);i||(i=J3(void 0,z7,!0),i.factory=()=>Fy(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){return t.value===z7&&(t.value=V4e,t.value=t.factory()),"object"==typeof t.value&&t.value&&function $4e(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}injectableDefInScope(e){if(!e.providedIn)return!1;const t=ct(e.providedIn);return"string"==typeof t?"any"===t||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){const t=this._onDestroyHooks.indexOf(e);-1!==t&&this._onDestroyHooks.splice(t,1)}}function Uv(n){const e=W5(n),t=null!==e?e.factory:wl(n);if(null!==t)return t;if(n instanceof Me)throw new J(204,!1);if(n instanceof Function)return function B4e(n){const e=n.length;if(e>0)throw ud(e,"?"),new J(204,!1);const t=function Sle(n){return n&&(n[Q5]||n[TN])||null}(n);return null!==t?()=>t.factory(n):()=>new n}(n);throw new J(204,!1)}function Kz(n,e,t){let r;if(Al(n)){const i=ct(n);return wl(i)||Uv(i)}if(Fv(n))r=()=>ct(n.useValue);else if(function Wz(n){return!(!n||!n.useFactory)}(n))r=()=>n.useFactory(...Fy(n.deps||[]));else if(function qz(n){return!(!n||!n.useExisting)}(n))r=()=>de(ct(n.useExisting));else{const i=ct(n&&(n.useClass||n.provide));if(!function j4e(n){return!!n.deps}(n))return wl(i)||Uv(i);r=()=>new i(...Fy(n.deps))}return r}function J3(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function jv(n,e){for(const t of n)Array.isArray(t)?jv(t,e):t&&xy(t)?jv(t.\u0275providers,e):e(t)}const k7=new Me("AppId",{providedIn:"root",factory:()=>G4e}),G4e="ng",Qz=new Me("Platform Initializer"),n2=new Me("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),Yz=new Me("AnimationModuleType"),Jz=new Me("CSP nonce",{providedIn:"root",factory:()=>Q3().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Xz=(n,e,t)=>null;function Yv(n,e,t=!1){return Xz(n,e,t)}class tue{}class tO{}class rue{resolveComponentFactory(e){throw function nue(n){const e=Error(`No component factory found for ${ii(n)}.`);return e.ngComponent=n,e}(e)}}let Cd=(()=>{class n{static{this.NULL=new rue}}return n})();function iue(){return e4(Fi(),se())}function e4(n,e){return new dn(Hs(n,e))}let dn=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=iue}}return n})();function sue(n){return n instanceof dn?n.nativeElement:n}class t4{}let qs=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>function oue(){const n=se(),t=go(Fi().index,n);return($s(t)?t:n)[ht]}()}}return n})(),aue=(()=>{class n{static{this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>null})}}return n})();class n4{constructor(e){this.full=e,this.major=e.split(".")[0],this.minor=e.split(".")[1],this.patch=e.split(".").slice(2).join(".")}}const rO=new n4("16.2.12"),Zv={};function aO(n,e=null,t=null,r){const i=cO(n,e,t,r);return i.resolveInjectorInitializers(),i}function cO(n,e=null,t=null,r,i=new Set){const s=[t||un,O4e(n)];return r=r||("object"==typeof n?void 0:ii(n)),new Y3(s,e||O7(),r||null,i)}let tr=(()=>{class n{static{this.THROW_IF_NOT_FOUND=q6}static{this.NULL=new Ov}static create(t,r){if(Array.isArray(t))return aO({name:""},r,t,"");{const i=t.name??"";return aO({name:i},t.parent,t.providers,i)}}static{this.\u0275prov=pe({token:n,providedIn:"any",factory:()=>de(jz)})}static{this.__NG_ELEMENT_ID__=-1}}return n})();function eb(n){return n.ngOriginalError}class U1{constructor(){this._console=console}handleError(e){const t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&eb(e);for(;t&&eb(t);)t=eb(t);return t||null}}function tb(n){return e=>{setTimeout(n,void 0,e)}}const He=class mue extends xt{constructor(e=!1){super(),this.__isAsync=e}emit(e){super.next(e)}subscribe(e,t,r){let i=e,s=t||(()=>null),o=r;if(e&&"object"==typeof e){const c=e;i=c.next?.bind(c),s=c.error?.bind(c),o=c.complete?.bind(c)}this.__isAsync&&(s=tb(s),i&&(i=tb(i)),o&&(o=tb(o)));const a=super.subscribe({next:i,error:s,complete:o});return e instanceof Lr&&e.add(a),a}};function uO(...n){}class pt{constructor({enableLongStackTrace:e=!1,shouldCoalesceEventChangeDetection:t=!1,shouldCoalesceRunChangeDetection:r=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new He(!1),this.onMicrotaskEmpty=new He(!1),this.onStable=new He(!1),this.onError=new He(!1),typeof Zone>"u")throw new J(908,!1);Zone.assertZonePatched();const i=this;i._nesting=0,i._outer=i._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(i._inner=i._inner.fork(new Zone.TaskTrackingZoneSpec)),e&&Zone.longStackTraceZoneSpec&&(i._inner=i._inner.fork(Zone.longStackTraceZoneSpec)),i.shouldCoalesceEventChangeDetection=!r&&t,i.shouldCoalesceRunChangeDetection=r,i.lastRequestAnimationFrameId=-1,i.nativeRequestAnimationFrame=function gue(){const n="function"==typeof kn.requestAnimationFrame;let e=kn[n?"requestAnimationFrame":"setTimeout"],t=kn[n?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&e&&t){const r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r);const i=t[Zone.__symbol__("OriginalDelegate")];i&&(t=i)}return{nativeRequestAnimationFrame:e,nativeCancelAnimationFrame:t}}().nativeRequestAnimationFrame,function vue(n){const e=()=>{!function yue(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(kn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,rb(n),n.isCheckStableRunning=!0,nb(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),rb(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(t,r,i,s,o,a)=>{if(function Cue(n){return!(!Array.isArray(n)||1!==n.length)&&!0===n[0].data?.__ignore_ng_zone__}(a))return t.invokeTask(i,s,o,a);try{return dO(n),t.invokeTask(i,s,o,a)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===s.type||n.shouldCoalesceRunChangeDetection)&&e(),fO(n)}},onInvoke:(t,r,i,s,o,a,c)=>{try{return dO(n),t.invoke(i,s,o,a,c)}finally{n.shouldCoalesceRunChangeDetection&&e(),fO(n)}},onHasTask:(t,r,i,s)=>{t.hasTask(i,s),r===i&&("microTask"==s.change?(n._hasPendingMicrotasks=s.microTask,rb(n),nb(n)):"macroTask"==s.change&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(t,r,i,s)=>(t.handleError(i,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}(i)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!pt.isInAngularZone())throw new J(909,!1)}static assertNotInAngularZone(){if(pt.isInAngularZone())throw new J(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){const s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,_ue,uO,uO);try{return s.runTask(o,t,r)}finally{s.cancelTask(o)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}}const _ue={};function nb(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function rb(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function dO(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function fO(n){n._nesting--,nb(n)}class bue{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new He,this.onMicrotaskEmpty=new He,this.onStable=new He,this.onError=new He}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}}const hO=new Me("",{providedIn:"root",factory:pO});function pO(){const n=me(pt);let e=!0;return function CN(...n){const e=G6(n),t=function fle(n,e){return"number"==typeof Ty(n)?n.pop():e}(n,1/0),r=n;return r.length?1===r.length?ni(r[0]):I3(t)(Kr(r,e)):Ho}(new Qt(i=>{e=n.isStable&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks,n.runOutsideAngular(()=>{i.next(e),i.complete()})}),new Qt(i=>{let s;n.runOutsideAngular(()=>{s=n.onStable.subscribe(()=>{pt.assertNotInAngularZone(),queueMicrotask(()=>{!e&&!n.hasPendingMacrotasks&&!n.hasPendingMicrotasks&&(e=!0,i.next(!0))})})});const o=n.onUnstable.subscribe(()=>{pt.assertInAngularZone(),e&&(e=!1,n.runOutsideAngular(()=>{i.next(!1)}))});return()=>{s.unsubscribe(),o.unsubscribe()}}).pipe(H5()))}function j1(n){return n instanceof Function?n():n}let ib=(()=>{class n{constructor(){this.renderDepth=0,this.handler=null}begin(){this.handler?.validateBegin(),this.renderDepth++}end(){this.renderDepth--,0===this.renderDepth&&this.handler?.execute()}ngOnDestroy(){this.handler?.destroy(),this.handler=null}static{this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>new n})}}return n})();function wd(n){for(;n;){n[yt]|=64;const e=hd(n);if(Hy(n)&&!e)return n;n=e}return null}const vO=new Me("",{providedIn:"root",factory:()=>!1});let G7=null;function EO(n,e){return n[e]??MO()}function TO(n,e){const t=MO();t.producerNode?.length&&(n[e]=G7,t.lView=n,G7=IO())}const Lue={...KN,consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{wd(n.lView)},lView:null};function IO(){return Object.create(Lue)}function MO(){return G7??=IO(),G7}const mt={};function fe(n){SO(Jt(),se(),vs()+n,!1)}function SO(n,e,t,r){if(!r)if(3==(3&e[yt])){const s=n.preOrderCheckHooks;null!==s&&c7(e,s,t)}else{const s=n.preOrderHooks;null!==s&&l7(e,s,0,t)}El(t)}function V(n,e=Rt.Default){const t=se();return null===t?de(n,e):VP(Fi(),t,ct(n),e)}function q7(n,e,t,r,i,s,o,a,c,u,d){const f=e.blueprint.slice();return f[Er]=i,f[yt]=140|r,(null!==u||n&&2048&n[yt])&&(f[yt]|=2048),pP(f),f[er]=f[D3]=n,f[Nr]=t,f[x3]=o||n&&n[x3],f[ht]=a||n&&n[ht],f[Qc]=c||n&&n[Qc]||null,f[Zi]=s,f[Z6]=function z3e(){return P3e++}(),f[k1]=d,f[HN]=u,f[Pr]=2==e.type?n[Pr]:f,f}function o4(n,e,t,r,i){let s=n.data[e];if(null===s)s=function sb(n,e,t,r,i){const s=bP(),o=Xy(),c=n.data[e]=function Vue(n,e,t,r,i,s){let o=e?e.injectorIndex:-1,a=0;return z3()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,o?s:s&&s.parent,t,e,r,i);return null===n.firstChild&&(n.firstChild=c),null!==s&&(o?null==s.child&&null!==c.parent&&(s.child=c):null===s.next&&(s.next=c,c.prev=s)),c}(n,e,t,r,i),function P0e(){return ot.lFrame.inI18n}()&&(s.flags|=32);else if(64&s.type){s.type=t,s.value=r,s.attrs=i;const o=function id(){const n=ot.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}();s.injectorIndex=null===o?-1:o.injectorIndex}return Ha(s,!0),s}function Ed(n,e,t,r){if(0===t)return-1;const i=e.length;for(let s=0;s<t;s++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function xO(n,e,t,r,i){const s=EO(e,ed),o=vs(),a=2&r;try{El(-1),a&&e.length>Nt&&SO(n,e,Nt,!1),$a(a?2:0,i);const u=a?s:null,d=qy(u);try{null!==u&&(u.dirty=!1),t(r,i)}finally{Wy(u,d)}}finally{a&&null===e[ed]&&TO(e,ed),El(o),$a(a?3:1,i)}}function ob(n,e,t){if($y(e)){const r=Wo(null);try{const s=e.directiveEnd;for(let o=e.directiveStart;o<s;o++){const a=n.data[o];a.contentQueries&&a.contentQueries(1,t[o],o)}}finally{Wo(r)}}}function ab(n,e,t){vP()&&(function que(n,e,t,r){const i=t.directiveStart,s=t.directiveEnd;Cl(t)&&function Zue(n,e,t){const r=Hs(e,n),i=DO(t);let o=16;t.signals?o=4096:t.onPush&&(o=64);const a=W7(n,q7(n,i,null,o,r,e,null,n[x3].rendererFactory.createRenderer(r,t),null,null,null));n[e.index]=a}(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||d7(t,e),es(r,e);const o=t.initialInputs;for(let a=i;a<s;a++){const c=n.data[a],u=Tl(e,n,a,t);es(u,e),null!==o&&e6e(0,a-i,u,c,0,o),_a(c)&&(go(t.index,e)[Nr]=Tl(e,n,a,t))}}(n,e,t,Hs(t,e)),64==(64&t.flags)&&zO(n,e,t))}function cb(n,e,t=Hs){const r=e.localNames;if(null!==r){let i=e.index+1;for(let s=0;s<r.length;s+=2){const o=r[s+1],a=-1===o?t(e,n):n[o];n[i++]=a}}}function DO(n){const e=n.tView;return null===e||e.incompleteFirstPass?n.tView=lb(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function lb(n,e,t,r,i,s,o,a,c,u,d){const f=Nt+r,p=f+i,g=function Nue(n,e){const t=[];for(let r=0;r<e;r++)t.push(r<n?null:mt);return t}(f,p),y="function"==typeof u?u():u;return g[De]={type:n,blueprint:g,template:t,queries:null,viewQuery:a,declTNode:e,data:g.slice().fill(null,f),bindingStartIndex:f,expandoStartIndex:p,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof s?s():s,pipeRegistry:"function"==typeof o?o():o,firstChild:null,schemas:c,consts:y,incompleteFirstPass:!1,ssrId:d}}let LO=n=>null;function RO(n,e,t,r){for(let i in n)if(n.hasOwnProperty(i)){t=null===t?{}:t;const s=n[i];null===r?NO(t,e,i,s):r.hasOwnProperty(i)&&NO(t,e,r[i],s)}return t}function NO(n,e,t,r){n.hasOwnProperty(t)?n[t].push(e,r):n[t]=[e,r]}function bo(n,e,t,r,i,s,o,a){const c=Hs(e,t);let d,u=e.inputs;!a&&null!=u&&(d=u[r])?(pb(n,t,d,r,i),Cl(e)&&function jue(n,e){const t=go(e,n);16&t[yt]||(t[yt]|=64)}(t,e.index)):3&e.type&&(r=function Uue(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(r),i=null!=o?o(i,e.value||"",r):i,s.setProperty(c,r,i))}function ub(n,e,t,r){if(vP()){const i=null===r?null:{"":-1},s=function Kue(n,e){const t=n.directiveRegistry;let r=null,i=null;if(t)for(let s=0;s<t.length;s++){const o=t[s];if(FN(e,o.selectors,!1))if(r||(r=[]),_a(o))if(null!==o.findHostDirectiveDefs){const a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o),db(n,e,a.length)}else r.unshift(o),db(n,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return null===r?null:[r,i]}(n,t);let o,a;null===s?o=a=null:[o,a]=s,null!==o&&PO(n,e,t,o,i,a),i&&function Que(n,e,t){if(e){const r=n.localNames=[];for(let i=0;i<e.length;i+=2){const s=t[e[i+1]];if(null==s)throw new J(-301,!1);r.push(e[i],s)}}}(t,r,i)}t.mergedAttrs=Q6(t.mergedAttrs,t.attrs)}function PO(n,e,t,r,i,s){for(let u=0;u<r.length;u++)uv(d7(t,e),n,r[u].type);!function Jue(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}(t,n.data.length,r.length);for(let u=0;u<r.length;u++){const d=r[u];d.providersResolver&&d.providersResolver(d)}let o=!1,a=!1,c=Ed(n,e,r.length,null);for(let u=0;u<r.length;u++){const d=r[u];t.mergedAttrs=Q6(t.mergedAttrs,d.hostAttrs),Xue(n,t,e,c,d),Yue(c,d,i),null!==d.contentQueries&&(t.flags|=4),(null!==d.hostBindings||null!==d.hostAttrs||0!==d.hostVars)&&(t.flags|=64);const f=d.type.prototype;!o&&(f.ngOnChanges||f.ngOnInit||f.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),o=!0),!a&&(f.ngOnChanges||f.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),c++}!function Bue(n,e,t){const i=e.directiveEnd,s=n.data,o=e.attrs,a=[];let c=null,u=null;for(let d=e.directiveStart;d<i;d++){const f=s[d],p=t?t.get(f):null,y=p?p.outputs:null;c=RO(f.inputs,d,c,p?p.inputs:null),u=RO(f.outputs,d,u,y);const C=null===c||null===o||kN(e)?null:t6e(c,d,o);a.push(C)}null!==c&&(c.hasOwnProperty("class")&&(e.flags|=8),c.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=c,e.outputs=u}(n,t,s)}function zO(n,e,t){const r=t.directiveStart,i=t.directiveEnd,s=t.index,o=function O0e(){return ot.lFrame.currentDirectiveIndex}();try{El(s);for(let a=r;a<i;a++){const c=n.data[a],u=e[a];ev(a),(null!==c.hostBindings||0!==c.hostVars||null!==c.hostAttrs)&&Wue(c,u)}}finally{El(-1),ev(o)}}function Wue(n,e){null!==n.hostBindings&&n.hostBindings(1,e)}function db(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function Yue(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;_a(e)&&(t[""]=n)}}function Xue(n,e,t,r,i){n.data[r]=i;const s=i.factory||(i.factory=wl(i.type)),o=new sd(s,_a(i),V);n.blueprint[r]=o,t[r]=o,function Hue(n,e,t,r,i){const s=i.hostBindings;if(s){let o=n.hostBindingOpCodes;null===o&&(o=n.hostBindingOpCodes=[]);const a=~e.index;(function Gue(n){let e=n.length;for(;e>0;){const t=n[--e];if("number"==typeof t&&t<0)return t}return 0})(o)!=a&&o.push(a),o.push(t,r,s)}}(n,e,r,Ed(n,t,i.hostVars,mt),i)}function Wa(n,e,t,r,i,s){const o=Hs(n,e);!function fb(n,e,t,r,i,s,o){if(null==s)n.removeAttribute(e,i,t);else{const a=null==o?ft(s):o(s,r||"",i);n.setAttribute(e,i,a,t)}}(e[ht],o,s,n.value,t,r,i)}function e6e(n,e,t,r,i,s){const o=s[e];if(null!==o)for(let a=0;a<o.length;)OO(r,t,o[a++],o[a++],o[a++])}function OO(n,e,t,r,i){const s=Wo(null);try{const o=n.inputTransforms;null!==o&&o.hasOwnProperty(r)&&(i=o[r].call(e,i)),null!==n.setInput?n.setInput(e,i,t,r):e[r]=i}finally{Wo(s)}}function t6e(n,e,t){let r=null,i=0;for(;i<t.length;){const s=t[i];if(0!==s)if(5!==s){if("number"==typeof s)break;if(n.hasOwnProperty(s)){null===r&&(r=[]);const o=n[s];for(let a=0;a<o.length;a+=2)if(o[a]===e){r.push(s,o[a+1],t[i+1]);break}}i+=2}else i+=2;else i+=4}return r}function kO(n,e,t,r){return[n,!0,!1,e,null,0,r,t,null,null,null]}function FO(n,e){const t=n.contentQueries;if(null!==t)for(let r=0;r<t.length;r+=2){const s=t[r+1];if(-1!==s){const o=n.data[s];nv(t[r]),o.contentQueries(2,e[s],s)}}}function W7(n,e){return n[J6]?n[$N][ga]=e:n[J6]=e,n[$N]=e,e}function hb(n,e,t){nv(0);const r=Wo(null);try{e(n,t)}finally{Wo(r)}}function VO(n){return n[A3]||(n[A3]=[])}function BO(n){return n.cleanup||(n.cleanup=[])}function UO(n,e,t){return(null===n||_a(n))&&(t=function Jy(n){for(;Array.isArray(n);){if("object"==typeof n[jy])return n;n=n[Er]}return null}(t[e.index])),t[ht]}function jO(n,e){const t=n[Qc],r=t?t.get(U1,null):null;r&&r.handleError(e)}function pb(n,e,t,r,i){for(let s=0;s<t.length;){const o=t[s++],a=t[s++];OO(n.data[o],e[o],r,a,i)}}function $1(n,e,t){const r=s7(e,n);!function mz(n,e,t){n.setValue(e,t)}(n[ht],r,t)}function n6e(n,e){const t=go(e,n),r=t[De];!function r6e(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}(r,t);const i=t[Er];null!==i&&null===t[k1]&&(t[k1]=Yv(i,t[Qc])),mb(r,t,t[Nr])}function mb(n,e,t){rv(e);try{const r=n.viewQuery;null!==r&&hb(1,r,t);const i=n.template;null!==i&&xO(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&FO(n,e),n.staticViewQueries&&hb(2,n.viewQuery,t);const s=n.components;null!==s&&function i6e(n,e){for(let t=0;t<e.length;t++)n6e(n,e[t])}(e,s)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[yt]&=-5,iv()}}let $O=(()=>{class n{constructor(){this.all=new Set,this.queue=new Map}create(t,r,i){const s=typeof Zone>"u"?null:Zone.current,o=function f0e(n,e,t){const r=Object.create(h0e);t&&(r.consumerAllowSignalWrites=!0),r.fn=n,r.schedule=e;const i=o=>{r.cleanupFn=o};return r.ref={notify:()=>XN(r),run:()=>{if(r.dirty=!1,r.hasRun&&!ZN(r))return;r.hasRun=!0;const o=qy(r);try{r.cleanupFn(),r.cleanupFn=aP,r.fn(i)}finally{Wy(r,o)}},cleanup:()=>r.cleanupFn()},r.ref}(t,u=>{this.all.has(u)&&this.queue.set(u,s)},i);let a;this.all.add(o),o.notify();const c=()=>{o.cleanup(),a?.(),this.all.delete(o),this.queue.delete(o)};return a=r?.onDestroy(c),{destroy:c}}flush(){if(0!==this.queue.size)for(const[t,r]of this.queue)this.queue.delete(t),r?r.run(()=>t.run()):t.run()}get isQueueEmpty(){return 0===this.queue.size}static{this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>new n})}}return n})();function K7(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,s=0;if(null!==e)for(let o=0;o<e.length;o++){const a=e[o];"number"==typeof a?s=a:1==s?i=Sy(i,a):2==s&&(r=Sy(r,a+": "+e[++o]+";"))}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}function Td(n,e,t,r,i=!1){for(;null!==t;){const s=e[t.index];null!==s&&r.push(Fn(s)),_s(s)&&HO(s,r);const o=t.type;if(8&o)Td(n,e,t.child,r);else if(32&o){const a=wv(t,e);let c;for(;c=a();)r.push(c)}else if(16&o){const a=Tz(e,t);if(Array.isArray(a))r.push(...a);else{const c=hd(e[Pr]);Td(c[De],c,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function HO(n,e){for(let t=Pi;t<n.length;t++){const r=n[t],i=r[De].firstChild;null!==i&&Td(r[De],r,i,e)}n[ja]!==n[Er]&&e.push(n[ja])}function Q7(n,e,t,r=!0){const i=e[x3],s=i.rendererFactory,o=i.afterRenderEventManager;s.begin?.(),o?.begin();try{GO(n,e,n.template,t)}catch(c){throw r&&jO(e,c),c}finally{s.end?.(),i.effectManager?.flush(),o?.end()}}function GO(n,e,t,r){const i=e[yt];if(256!=(256&i)){e[x3].effectManager?.flush(),rv(e);try{pP(e),function wP(n){return ot.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==t&&xO(n,e,t,2,r);const o=3==(3&i);if(o){const u=n.preOrderCheckHooks;null!==u&&c7(e,u,null)}else{const u=n.preOrderHooks;null!==u&&l7(e,u,0,null),sv(e,0)}if(function a6e(n){for(let e=fz(n);null!==e;e=hz(e)){if(!e[GN])continue;const t=e[R3];for(let r=0;r<t.length;r++){E0e(t[r])}}}(e),qO(e,2),null!==n.contentQueries&&FO(n,e),o){const u=n.contentCheckHooks;null!==u&&c7(e,u)}else{const u=n.contentHooks;null!==u&&l7(e,u,1),sv(e,1)}!function Rue(n,e){const t=n.hostBindingOpCodes;if(null===t)return;const r=EO(e,td);try{for(let i=0;i<t.length;i++){const s=t[i];if(s<0)El(~s);else{const o=s,a=t[++i],c=t[++i];z0e(a,o),r.dirty=!1;const u=qy(r);try{c(2,e[o])}finally{Wy(r,u)}}}}finally{null===e[td]&&TO(e,td),El(-1)}}(n,e);const a=n.components;null!==a&&KO(e,a,0);const c=n.viewQuery;if(null!==c&&hb(2,c,r),o){const u=n.viewCheckHooks;null!==u&&c7(e,u)}else{const u=n.viewHooks;null!==u&&l7(e,u,2),sv(e,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),e[yt]&=-73,mP(e)}finally{iv()}}}function qO(n,e){for(let t=fz(n);null!==t;t=hz(t))for(let r=Pi;r<t.length;r++)WO(t[r],e)}function c6e(n,e,t){WO(go(e,n),t)}function WO(n,e){if(!function C0e(n){return 128==(128&n[yt])}(n))return;const t=n[De],r=n[yt];if(80&r&&0===e||1024&r||2===e)GO(t,n,t.template,n[Nr]);else if(n[Y6]>0){qO(n,1);const i=t.components;null!==i&&KO(n,i,1)}}function KO(n,e,t){for(let r=0;r<e.length;r++)c6e(n,e[r],t)}class Id{get rootNodes(){const e=this._lView,t=e[De];return Td(t,e,t.firstChild,[])}constructor(e,t){this._lView=e,this._cdRefInjectingView=t,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[Nr]}set context(e){this._lView[Nr]=e}get destroyed(){return 256==(256&this._lView[yt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const e=this._lView[er];if(_s(e)){const t=e[8],r=t?t.indexOf(this):-1;r>-1&&(I7(e,r),p7(t,r))}this._attachedToViewContainer=!1}Tv(this._lView[De],this._lView)}onDestroy(e){!function _P(n,e){if(256==(256&n[yt]))throw new J(911,!1);null===n[Yc]&&(n[Yc]=[]),n[Yc].push(e)}(this._lView,e)}markForCheck(){wd(this._cdRefInjectingView||this._lView)}detach(){this._lView[yt]&=-129}reattach(){this._lView[yt]|=128}detectChanges(){Q7(this._lView[De],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new J(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Q3e(n,e){md(n,e,e[ht],2,null,null)}(this._lView[De],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new J(902,!1);this._appRef=e}}class l6e extends Id{constructor(e){super(e),this._view=e}detectChanges(){const e=this._view;Q7(e[De],e,e[Nr],!1)}checkNoChanges(){}get context(){return null}}class QO extends Cd{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){const t=Yt(e);return new Md(t,this.ngModule)}}function YO(n){const e=[];for(let t in n)n.hasOwnProperty(t)&&e.push({propName:n[t],templateName:t});return e}class d6e{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=J5(r);const i=this.injector.get(e,Zv,r);return i!==Zv||t===Zv?i:this.parentInjector.get(e,t,r)}}class Md extends tO{get inputs(){const e=this.componentDef,t=e.inputTransforms,r=YO(e.inputs);if(null!==t)for(const i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return YO(this.componentDef.outputs)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=function Wle(n){return n.map(qle).join(",")}(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let s=(i=i||this.ngModule)instanceof Cs?i:i?.injector;s&&null!==this.componentDef.getStandaloneInjector&&(s=this.componentDef.getStandaloneInjector(s)||s);const o=s?new d6e(e,s):e,a=o.get(t4,null);if(null===a)throw new J(407,!1);const f={rendererFactory:a,sanitizer:o.get(aue,null),effectManager:o.get($O,null),afterRenderEventManager:o.get(ib,null)},p=a.createRenderer(null,this.componentDef),g=this.componentDef.selectors[0][0]||"div",y=r?function Pue(n,e,t,r){const s=r.get(vO,!1)||t===qo.ShadowDom,o=n.selectRootElement(e,s);return function zue(n){LO(n)}(o),o}(p,r,this.componentDef.encapsulation,o):T7(p,g,function u6e(n){const e=n.toLowerCase();return"svg"===e?"svg":"math"===e?"math":null}(g)),N=this.componentDef.signals?4608:this.componentDef.onPush?576:528;let R=null;null!==y&&(R=Yv(y,o,!0));const O=lb(0,null,null,1,0,null,null,null,null,null,null),F=q7(null,O,null,N,null,null,f,p,o,null,R);let j,W;rv(F);try{const M=this.componentDef;let v,E=null;M.findHostDirectiveDefs?(v=[],E=new Map,M.findHostDirectiveDefs(M,v,E),v.push(M)):v=[M];const S=function h6e(n,e){const t=n[De],r=Nt;return n[r]=e,o4(t,r,2,"#host",null)}(F,y),A=function p6e(n,e,t,r,i,s,o){const a=i[De];!function m6e(n,e,t,r){for(const i of n)e.mergedAttrs=Q6(e.mergedAttrs,i.hostAttrs);null!==e.mergedAttrs&&(K7(e,e.mergedAttrs,!0),null!==t&&Az(r,t,e))}(r,n,e,o);let c=null;null!==e&&(c=Yv(e,i[Qc]));const u=s.rendererFactory.createRenderer(e,t);let d=16;t.signals?d=4096:t.onPush&&(d=64);const f=q7(i,DO(t),null,d,i[n.index],n,s,u,null,null,c);return a.firstCreatePass&&db(a,n,r.length-1),W7(i,f),i[n.index]=f}(S,y,M,v,F,f,p);W=hP(O,Nt),y&&function _6e(n,e,t,r){if(r)Uy(n,t,["ng-version",rO.full]);else{const{attrs:i,classes:s}=function Kle(n){const e=[],t=[];let r=1,i=2;for(;r<n.length;){let s=n[r];if("string"==typeof s)2===i?""!==s&&e.push(s,n[++r]):8===i&&t.push(s);else{if(!ma(i))break;i=s}r++}return{attrs:e,classes:t}}(e.selectors[0]);i&&Uy(n,t,i),s&&s.length>0&&Sz(n,t,s.join(" "))}}(p,M,y,r),void 0!==t&&function y6e(n,e,t){const r=n.projection=[];for(let i=0;i<e.length;i++){const s=t[i];r.push(null!=s?Array.from(s):null)}}(W,this.ngContentSelectors,t),j=function g6e(n,e,t,r,i,s){const o=Fi(),a=i[De],c=Hs(o,i);PO(a,i,o,t,null,r);for(let d=0;d<t.length;d++)es(Tl(i,a,o.directiveStart+d,o),i);zO(a,i,o),c&&es(c,i);const u=Tl(i,a,o.directiveStart+o.componentOffset,o);if(n[Nr]=i[Nr]=u,null!==s)for(const d of s)d(u,e);return ob(a,o,n),u}(A,M,v,E,F,[v6e]),mb(O,F,null)}finally{iv()}return new f6e(this.componentType,j,e4(W,F),F,W)}}class f6e extends tue{constructor(e,t,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new l6e(i),this.componentType=e}setInput(e,t){const r=this._tNode.inputs;let i;if(null!==r&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;const s=this._rootLView;pb(s[De],s,i,e,t),this.previousInputValues.set(e,t),wd(go(this._tNode.index,s))}}get injector(){return new bs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}}function v6e(){const n=Fi();a7(se()[De],n)}function vn(n){let e=function JO(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),t=!0;const r=[n];for(;e;){let i;if(_a(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new J(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);const o=n;o.inputs=Y7(n.inputs),o.inputTransforms=Y7(n.inputTransforms),o.declaredInputs=Y7(n.declaredInputs),o.outputs=Y7(n.outputs);const a=i.hostBindings;a&&E6e(n,a);const c=i.viewQuery,u=i.contentQueries;if(c&&C6e(n,c),u&&w6e(n,u),G5(n.inputs,i.inputs),G5(n.declaredInputs,i.declaredInputs),G5(n.outputs,i.outputs),null!==i.inputTransforms&&(null===o.inputTransforms&&(o.inputTransforms={}),G5(o.inputTransforms,i.inputTransforms)),_a(i)&&i.data.animation){const d=n.data;d.animation=(d.animation||[]).concat(i.data.animation)}}const s=i.features;if(s)for(let o=0;o<s.length;o++){const a=s[o];a&&a.ngInherit&&a(n),a===vn&&(t=!1)}}e=Object.getPrototypeOf(e)}!function b6e(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){const i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Q6(i.hostAttrs,t=Q6(t,i.hostAttrs))}}(r)}function Y7(n){return n===Ba?{}:n===un?[]:n}function C6e(n,e){const t=n.viewQuery;n.viewQuery=t?(r,i)=>{e(r,i),t(r,i)}:e}function w6e(n,e){const t=n.contentQueries;n.contentQueries=t?(r,i,s)=>{e(r,i,s),t(r,i,s)}:e}function E6e(n,e){const t=n.hostBindings;n.hostBindings=t?(r,i)=>{e(r,i),t(r,i)}:e}function tk(n){const e=n.inputConfig,t={};for(const r in e)if(e.hasOwnProperty(r)){const i=e[r];Array.isArray(i)&&i[2]&&(t[r]=i[2])}n.inputTransforms=t}function J7(n){return!!gb(n)&&(Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n)}function gb(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function Ka(n,e,t){return n[e]=t}function ts(n,e,t){return!Object.is(n[e],t)&&(n[e]=t,!0)}function xl(n,e,t,r){const i=ts(n,e,t);return ts(n,e+1,r)||i}function qt(n,e,t,r){const i=se();return ts(i,O3(),e)&&(Jt(),Wa(fr(),i,n,e,t,r)),qt}function l4(n,e,t,r,i,s){const a=xl(n,function F1(){return ot.lFrame.bindingIndex}(),t,i);return V1(2),a?e+ft(t)+r+ft(i)+s:mt}function Le(n,e,t,r,i,s,o,a){const c=se(),u=Jt(),d=n+Nt,f=u.firstCreatePass?function W6e(n,e,t,r,i,s,o,a,c){const u=e.consts,d=o4(e,n,4,o||null,Xc(u,a));ub(e,t,d,Xc(u,c)),a7(e,d);const f=d.tView=lb(2,d,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,u,null);return null!==e.queries&&(e.queries.template(e,d),f.queries=e.queries.embeddedTView(d)),d}(d,u,c,e,t,r,i,s,o):u.data[d];Ha(f,!1);const p=pk(u,c,f,n);o7()&&S7(u,c,p,f),es(p,c),W7(c,c[d]=kO(p,c,p,f)),n7(f)&&ab(u,c,f),null!=o&&cb(c,f,a)}let pk=function mk(n,e,t,r){return Zc(!0),e[ht].createComment("")};function ge(n,e,t){const r=se();return ts(r,O3(),e)&&bo(Jt(),fr(),r,n,e,r[ht],t,!1),ge}function wb(n,e,t,r,i){const o=i?"class":"style";pb(n,t,e.inputs[o],o,r)}function re(n,e,t,r){const i=se(),s=Jt(),o=Nt+n,a=i[ht],c=s.firstCreatePass?function J6e(n,e,t,r,i,s){const o=e.consts,c=o4(e,n,2,r,Xc(o,i));return ub(e,t,c,Xc(o,s)),null!==c.attrs&&K7(c,c.attrs,!1),null!==c.mergedAttrs&&K7(c,c.mergedAttrs,!0),null!==e.queries&&e.queries.elementStart(e,c),c}(o,s,i,e,t,r):s.data[o],u=gk(s,i,c,a,e,n);i[o]=u;const d=n7(c);return Ha(c,!0),Az(a,u,c),32!=(32&c.flags)&&o7()&&S7(s,i,u,c),0===function I0e(){return ot.lFrame.elementDepthCount}()&&es(u,i),function M0e(){ot.lFrame.elementDepthCount++}(),d&&(ab(s,i,c),ob(s,c,i)),null!==r&&cb(i,c),re}function ie(){let n=Fi();Xy()?Zy():(n=n.parent,Ha(n,!1));const e=n;(function A0e(n){return ot.skipHydrationRootTNode===n})(e)&&function R0e(){ot.skipHydrationRootTNode=null}(),function S0e(){ot.lFrame.elementDepthCount--}();const t=Jt();return t.firstCreatePass&&(a7(t,n),$y(n)&&t.queries.elementEnd(n)),null!=e.classesWithoutHost&&function W0e(n){return 0!=(8&n.flags)}(e)&&wb(t,e,se(),e.classesWithoutHost,!0),null!=e.stylesWithoutHost&&function K0e(n){return 0!=(16&n.flags)}(e)&&wb(t,e,se(),e.stylesWithoutHost,!1),ie}function Pt(n,e,t,r){return re(n,e,t,r),ie(),Pt}let gk=(n,e,t,r,i,s)=>(Zc(!0),T7(r,i,function DP(){return ot.lFrame.currentNamespace}()));function Rd(n,e,t){const r=se(),i=Jt(),s=n+Nt,o=i.firstCreatePass?function ede(n,e,t,r,i){const s=e.consts,o=Xc(s,r),a=o4(e,n,8,"ng-container",o);return null!==o&&K7(a,o,!0),ub(e,t,a,Xc(s,i)),null!==e.queries&&e.queries.elementStart(e,a),a}(s,i,r,e,t):i.data[s];Ha(o,!0);const a=yk(i,r,o,n);return r[s]=a,o7()&&S7(i,r,a,o),es(a,r),n7(o)&&(ab(i,r,o),ob(i,o,r)),null!=t&&cb(r,o),Rd}function Nd(){let n=Fi();const e=Jt();return Xy()?Zy():(n=n.parent,Ha(n,!1)),e.firstCreatePass&&(a7(e,n),$y(n)&&e.queries.elementEnd(n)),Nd}let yk=(n,e,t,r)=>(Zc(!0),Ev(e[ht],""));function Ws(){return se()}function Pd(n){return!!n&&"function"==typeof n.then}function vk(n){return!!n&&"function"==typeof n.subscribe}function Qe(n,e,t,r){const i=se(),s=Jt(),o=Fi();return function Ck(n,e,t,r,i,s,o){const a=n7(r),u=n.firstCreatePass&&BO(n),d=e[Nr],f=VO(e);let p=!0;if(3&r.type||o){const C=Hs(r,e),w=o?o(C):C,N=f.length,R=o?F=>o(Fn(F[r.index])):r.index;let O=null;if(!o&&a&&(O=function rde(n,e,t,r){const i=n.cleanup;if(null!=i)for(let s=0;s<i.length-1;s+=2){const o=i[s];if(o===t&&i[s+1]===r){const a=e[A3],c=i[s+2];return a.length>c?a[c]:null}"string"==typeof o&&(s+=2)}return null}(n,e,i,r.index)),null!==O)(O.__ngLastListenerFn__||O).__ngNextListenerFn__=s,O.__ngLastListenerFn__=s,p=!1;else{s=Ek(r,e,d,s,!1);const F=t.listen(w,i,s);f.push(s,F),u&&u.push(i,R,N,N+1)}}else s=Ek(r,e,d,s,!1);const g=r.outputs;let y;if(p&&null!==g&&(y=g[i])){const C=y.length;if(C)for(let w=0;w<C;w+=2){const j=e[y[w]][y[w+1]].subscribe(s),W=f.length;f.push(s,j),u&&u.push(i,r.index,W,-(W+1))}}}(s,i,i[ht],o,n,e,r),Qe}function wk(n,e,t,r){try{return $a(6,e,t),!1!==t(r)}catch(i){return jO(n,i),!1}finally{$a(7,e,t)}}function Ek(n,e,t,r,i){return function s(o){if(o===Function)return r;wd(n.componentOffset>-1?go(n.index,e):e);let c=wk(e,t,r,o),u=s.__ngNextListenerFn__;for(;u;)c=wk(e,t,u,o)&&c,u=u.__ngNextListenerFn__;return i&&!1===c&&o.preventDefault(),c}}function Ve(n=1){return function F0e(n){return(ot.lFrame.contextLView=function V0e(n,e){for(;n>0;)e=e[D3],n--;return e}(n,ot.lFrame.contextLView))[Nr]}(n)}function ide(n,e){let t=null;const r=function jle(n){const e=n.attrs;if(null!=e){const t=e.indexOf(5);if(!(1&t))return e[t+1]}return null}(n);for(let i=0;i<e.length;i++){const s=e[i];if("*"!==s){if(null===r?FN(n,s,!0):Gle(r,s))return i}else t=i}return t}function Eb(n){const e=se()[Pr][Zi];if(!e.projection){const r=e.projection=ud(n?n.length:1,null),i=r.slice();let s=e.child;for(;null!==s;){const o=n?ide(s,n):0;null!==o&&(i[o]?i[o].projectionNext=s:r[o]=s,i[o]=s),s=s.next}}}function Tb(n,e=0,t){const r=se(),i=Jt(),s=o4(i,Nt+n,16,null,t||null);null===s.projection&&(s.projection=e),Zy(),(!r[k1]||z3())&&32!=(32&s.flags)&&function r4e(n,e,t){Mz(e[ht],0,e,t,Mv(n,t,e),bz(t.parent||e[Zi],t,e))}(i,r,s)}function rp(n,e){return n<<17|e<<2}function r2(n){return n>>17&32767}function Mb(n){return 2|n}function Dl(n){return(131068&n)>>2}function Sb(n,e){return-131069&n|e<<2}function Ab(n){return 1|n}function Rk(n,e,t,r,i){const s=n[t+1],o=null===e;let a=r?r2(s):Dl(s),c=!1;for(;0!==a&&(!1===c||o);){const d=n[a+1];ude(n[a],e)&&(c=!0,n[a+1]=r?Ab(d):Mb(d)),a=r?r2(d):Dl(d)}c&&(n[t+1]=r?Mb(s):Ab(s))}function ude(n,e){return null===n||null==e||(Array.isArray(n)?n[1]:n)===e||!(!Array.isArray(n)||"string"!=typeof e)&&H3(n,e)>=0}const oi={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Nk(n){return n.substring(oi.key,oi.keyEnd)}function Pk(n,e){const t=oi.textEnd;return t===e?-1:(e=oi.keyEnd=function pde(n,e,t){for(;e<t&&n.charCodeAt(e)>32;)e++;return e}(n,oi.key=e,t),g4(n,e,t))}function g4(n,e,t){for(;e<t&&n.charCodeAt(e)<=32;)e++;return e}function _4(n,e,t){return ya(n,e,t,!1),_4}function fn(n,e){return ya(n,e,null,!0),fn}function ws(n){!function va(n,e,t,r){const i=Jt(),s=V1(2);i.firstUpdatePass&&Bk(i,null,s,r);const o=se();if(t!==mt&&ts(o,s,t)){const a=i.data[vs()];if(Hk(a,r)&&!Vk(i,s)){let c=r?a.classesWithoutHost:a.stylesWithoutHost;null!==c&&(t=Sy(c,t||"")),wb(i,a,o,t,r)}else!function Tde(n,e,t,r,i,s,o,a){i===mt&&(i=un);let c=0,u=0,d=0<i.length?i[0]:null,f=0<s.length?s[0]:null;for(;null!==d||null!==f;){const p=c<i.length?i[c+1]:void 0,g=u<s.length?s[u+1]:void 0;let C,y=null;d===f?(c+=2,u+=2,p!==g&&(y=f,C=g)):null===f||null!==d&&d<f?(c+=2,y=d):(u+=2,y=f,C=g),null!==y&&jk(n,e,t,r,y,C,o,a),d=c<i.length?i[c]:null,f=u<s.length?s[u]:null}}(i,a,o,o[ht],o[s+1],o[s+1]=function wde(n,e,t){if(null==t||""===t)return un;const r=[],i=yo(t);if(Array.isArray(i))for(let s=0;s<i.length;s++)n(r,i[s],!0);else if("object"==typeof i)for(const s in i)i.hasOwnProperty(s)&&n(r,s,i[s]);else"string"==typeof i&&e(r,i);return r}(n,e,t),r,s)}}(Ede,Ja,n,!0)}function Ja(n,e){for(let t=function fde(n){return function Ok(n){oi.key=0,oi.keyEnd=0,oi.value=0,oi.valueEnd=0,oi.textEnd=n.length}(n),Pk(n,g4(n,0,oi.textEnd))}(e);t>=0;t=Pk(e,t))_o(n,Nk(e),!0)}function ya(n,e,t,r){const i=se(),s=Jt(),o=V1(2);s.firstUpdatePass&&Bk(s,n,o,r),e!==mt&&ts(i,o,e)&&jk(s,s.data[vs()],i,i[ht],n,i[o+1]=function Ide(n,e){return null==n||""===n||("string"==typeof e?n+=e:"object"==typeof n&&(n=ii(yo(n)))),n}(e,t),r,o)}function Vk(n,e){return e>=n.expandoStartIndex}function Bk(n,e,t,r){const i=n.data;if(null===i[t+1]){const s=i[vs()],o=Vk(n,t);Hk(s,r)&&null===e&&!o&&(e=!1),e=function yde(n,e,t,r){const i=tv(n);let s=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(t=zd(t=xb(null,n,e,t,r),e.attrs,r),s=null);else{const o=e.directiveStylingLast;if(-1===o||n[o]!==i)if(t=xb(i,n,e,t,r),null===s){let c=function vde(n,e,t){const r=t?e.classBindings:e.styleBindings;if(0!==Dl(r))return n[r2(r)]}(n,e,r);void 0!==c&&Array.isArray(c)&&(c=xb(null,n,e,c[1],r),c=zd(c,e.attrs,r),function bde(n,e,t,r){n[r2(t?e.classBindings:e.styleBindings)]=r}(n,e,r,c))}else s=function Cde(n,e,t){let r;const i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++)r=zd(r,n[s].hostAttrs,t);return zd(r,e.attrs,t)}(n,e,r)}return void 0!==s&&(r?e.residualClasses=s:e.residualStyles=s),t}(i,s,e,r),function cde(n,e,t,r,i,s){let o=s?e.classBindings:e.styleBindings,a=r2(o),c=Dl(o);n[r]=t;let d,u=!1;if(Array.isArray(t)?(d=t[1],(null===d||H3(t,d)>0)&&(u=!0)):d=t,i)if(0!==c){const p=r2(n[a+1]);n[r+1]=rp(p,a),0!==p&&(n[p+1]=Sb(n[p+1],r)),n[a+1]=function ode(n,e){return 131071&n|e<<17}(n[a+1],r)}else n[r+1]=rp(a,0),0!==a&&(n[a+1]=Sb(n[a+1],r)),a=r;else n[r+1]=rp(c,0),0===a?a=r:n[c+1]=Sb(n[c+1],r),c=r;u&&(n[r+1]=Mb(n[r+1])),Rk(n,d,r,!0),Rk(n,d,r,!1),function lde(n,e,t,r,i){const s=i?n.residualClasses:n.residualStyles;null!=s&&"string"==typeof e&&H3(s,e)>=0&&(t[r+1]=Ab(t[r+1]))}(e,d,n,r,s),o=rp(a,c),s?e.classBindings=o:e.styleBindings=o}(i,s,e,t,o,r)}}function xb(n,e,t,r,i){let s=null;const o=t.directiveEnd;let a=t.directiveStylingLast;for(-1===a?a=t.directiveStart:a++;a<o&&(s=e[a],r=zd(r,s.hostAttrs,i),s!==n);)a++;return null!==n&&(t.directiveStylingLast=a),r}function zd(n,e,t){const r=t?1:2;let i=-1;if(null!==e)for(let s=0;s<e.length;s++){const o=e[s];"number"==typeof o?i=o:i===r&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),_o(n,o,!!t||e[++s]))}return void 0===n?null:n}function Ede(n,e,t){const r=String(e);""!==r&&!r.includes(" ")&&_o(n,r,t)}function jk(n,e,t,r,i,s,o,a){if(!(3&e.type))return;const c=n.data,u=c[a+1],d=function ade(n){return 1==(1&n)}(u)?$k(c,e,t,i,Dl(u),o):void 0;ip(d)||(ip(s)||function sde(n){return 2==(2&n)}(u)&&(s=$k(c,null,t,i,a,o)),function s4e(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let s=-1===r.indexOf("-")?void 0:e2.DashCase;null==i?n.removeStyle(t,r,s):("string"==typeof i&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=e2.Important),n.setStyle(t,r,i,s))}}(r,o,s7(vs(),t),i,s))}function $k(n,e,t,r,i,s){const o=null===e;let a;for(;i>0;){const c=n[i],u=Array.isArray(c),d=u?c[1]:c,f=null===d;let p=t[i+1];p===mt&&(p=f?un:void 0);let g=f?hv(p,r):d===r?p:void 0;if(u&&!ip(g)&&(g=hv(c,r)),ip(g)&&(a=g,o))return a;const y=n[i+1];i=o?r2(y):Dl(y)}if(null!==e){let c=s?e.residualClasses:e.residualStyles;null!=c&&(a=hv(c,r))}return a}function ip(n){return void 0!==n}function Hk(n,e){return 0!=(n.flags&(e?8:16))}function $e(n,e=""){const t=se(),r=Jt(),i=n+Nt,s=r.firstCreatePass?o4(r,i,1,e,null):r.data[i],o=Gk(r,t,s,e,n);t[i]=o,o7()&&S7(r,t,o,s),Ha(s,!1)}let Gk=(n,e,t,r,i)=>(Zc(!0),function E7(n,e){return n.createText(e)}(e[ht],r));function ai(n,e,t){const r=se(),i=function c4(n,e,t,r){return ts(n,O3(),t)?e+ft(t)+r:mt}(r,n,e,t);return i!==mt&&$1(r,vs(),i),ai}function sp(n,e,t,r,i){const s=se(),o=l4(s,n,e,t,r,i);return o!==mt&&$1(s,vs(),o),sp}function Co(n,e,t){const r=se();return ts(r,O3(),e)&&bo(Jt(),fr(),r,n,e,r[ht],t,!0),Co}function Db(n,e,t){const r=se();if(ts(r,O3(),e)){const s=Jt(),o=fr();bo(s,o,r,n,e,UO(tv(s.data),o,r),t,!0)}return Db}const v4="en-US";let uF=v4;function Nb(n,e,t,r,i){if(n=ct(n),Array.isArray(n))for(let s=0;s<n.length;s++)Nb(n[s],e,t,r,i);else{const s=Jt(),o=se(),a=Fi();let c=Al(n)?n:ct(n.provide);const u=Kz(n),d=1048575&a.providerIndexes,f=a.directiveStart,p=a.providerIndexes>>20;if(Al(n)||!n.multi){const g=new sd(u,i,V),y=zb(c,e,i?d:d+p,f);-1===y?(uv(d7(a,o),s,c),Pb(s,n,e.length),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(g),o.push(g)):(t[y]=g,o[y]=g)}else{const g=zb(c,e,d+p,f),y=zb(c,e,d,d+p),w=y>=0&&t[y];if(i&&!w||!i&&!(g>=0&&t[g])){uv(d7(a,o),s,c);const N=function Gfe(n,e,t,r,i){const s=new sd(n,t,V);return s.multi=[],s.index=e,s.componentProviders=0,zF(s,i,r&&!t),s}(i?Hfe:$fe,t.length,i,r,u);!i&&w&&(t[y].providerFactory=N),Pb(s,n,e.length,0),e.push(c),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(N),o.push(N)}else Pb(s,n,g>-1?g:y,zF(t[i?y:g],u,!i&&r));!i&&r&&w&&t[y].componentProviders++}}}function Pb(n,e,t,r){const i=Al(e),s=function F4e(n){return!!n.useClass}(e);if(i||s){const c=(s?ct(e.useClass):e).prototype.ngOnDestroy;if(c){const u=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){const d=u.indexOf(t);-1===d?u.push(t,[r,c]):u[d+1].push(r,c)}else u.push(t,c)}}}function zF(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function zb(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function $fe(n,e,t,r){return Ob(this.multi,[])}function Hfe(n,e,t,r){const i=this.multi;let s;if(this.providerFactory){const o=this.providerFactory.componentProviders,a=Tl(t,t[De],this.providerFactory.index,r);s=a.slice(0,o),Ob(i,s);for(let c=o;c<a.length;c++)s.push(a[c])}else s=[],Ob(i,s);return s}function Ob(n,e){for(let t=0;t<n.length;t++)e.push((0,n[t])());return e}function Ln(n,e=[]){return t=>{t.providersResolver=(r,i)=>function jfe(n,e,t){const r=Jt();if(r.firstCreatePass){const i=_a(n);Nb(t,r.data,r.blueprint,i,!0),Nb(e,r.data,r.blueprint,i,!1)}}(r,i?i(n):n,e)}}class Rl{}class OF{}class kb extends Rl{constructor(e,t,r){super(),this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new QO(this);const i=mo(e);this._bootstrapComponents=j1(i.bootstrap),this._r3Injector=cO(e,t,[{provide:Rl,useValue:this},{provide:Cd,useValue:this.componentFactoryResolver},...r],ii(e),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(e)}get injector(){return this._r3Injector}destroy(){const e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}}class Fb extends OF{constructor(e){super(),this.moduleType=e}create(e){return new kb(this.moduleType,e,[])}}class kF extends Rl{constructor(e){super(),this.componentFactoryResolver=new QO(this),this.instance=null;const t=new Y3([...e.providers,{provide:Rl,useValue:this},{provide:Cd,useValue:this.componentFactoryResolver}],e.parent||O7(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}}function Vb(n,e,t=null){return new kF({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}let Kfe=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){const r=Hz(0,t.type),i=r.length>0?Vb([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(const t of this.cachedInjectors.values())null!==t&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=pe({token:n,providedIn:"environment",factory:()=>new n(de(Cs))})}}return n})();function Qs(n){n.getStandaloneInjector=e=>e.get(Kfe).getOrCreateStandaloneInjector(n)}function G1(n,e,t,r){return function HF(n,e,t,r,i,s){const o=e+t;return ts(n,o,i)?Ka(n,o+1,s?r.call(s,i):r(i)):$d(n,o+1)}(se(),ys(),n,e,t,r)}function up(n,e,t,r,i,s){return function qF(n,e,t,r,i,s,o,a){const c=e+t;return function X7(n,e,t,r,i){const s=xl(n,e,t,r);return ts(n,e+2,i)||s}(n,c,i,s,o)?Ka(n,c+3,a?r.call(a,i,s,o):r(i,s,o)):$d(n,c+3)}(se(),ys(),n,e,t,r,i,s)}function $d(n,e){const t=n[e];return t===mt?void 0:t}function _he(){return this._results[Symbol.iterator]()}class Ub{get changes(){return this._changes||(this._changes=new He)}constructor(e=!1){this._emitDistinctChangesOnly=e,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const t=Ub.prototype;t[Symbol.iterator]||(t[Symbol.iterator]=_he)}get(e){return this._results[e]}map(e){return this._results.map(e)}filter(e){return this._results.filter(e)}find(e){return this._results.find(e)}reduce(e,t){return this._results.reduce(e,t)}forEach(e){this._results.forEach(e)}some(e){return this._results.some(e)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(e,t){const r=this;r.dirty=!1;const i=function Ko(n){return n.flat(Number.POSITIVE_INFINITY)}(e);(this._changesDetected=!function c3e(n,e,t){if(n.length!==e.length)return!1;for(let r=0;r<n.length;r++){let i=n[r],s=e[r];if(t&&(i=t(i),s=t(s)),s!==i)return!1}return!0}(r._results,i,t))&&(r._results=i,r.length=i.length,r.last=i[this.length-1],r.first=i[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}function vhe(n,e,t,r=!0){const i=e[De];if(function J3e(n,e,t,r){const i=Pi+r,s=t.length;r>0&&(t[i-1][ga]=e),r<s-Pi?(e[ga]=t[i],GP(t,Pi+r,e)):(t.push(e),e[ga]=null),e[er]=t;const o=e[X6];null!==o&&t!==o&&function X3e(n,e){const t=n[R3];e[Pr]!==e[er][er][Pr]&&(n[GN]=!0),null===t?n[R3]=[e]:t.push(e)}(o,e);const a=e[Ua];null!==a&&a.insertView(n),e[yt]|=128}(i,e,n,t),r){const s=Av(t,n),o=e[ht],a=M7(o,n[ja]);null!==a&&function K3e(n,e,t,r,i,s){r[Er]=i,r[Zi]=e,md(n,r,t,1,i,s)}(i,n[Zi],o,e,a,s)}}let hr=(()=>{class n{static{this.__NG_ELEMENT_ID__=whe}}return n})();const bhe=hr,Che=class extends bhe{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){const i=function yhe(n,e,t,r){const i=e.tView,a=q7(n,i,t,4096&n[yt]?4096:16,null,e,null,null,null,r?.injector??null,r?.hydrationInfo??null);a[X6]=n[e.index];const u=n[Ua];return null!==u&&(a[Ua]=u.createEmbeddedView(i)),mb(i,a,t),a}(this._declarationLView,this._declarationTContainer,e,{injector:t,hydrationInfo:r});return new Id(i)}};function whe(){return dp(Fi(),se())}function dp(n,e){return 4&n.type?new Che(e,n,e4(n,e)):null}let Yo=(()=>{class n{static{this.__NG_ELEMENT_ID__=Ahe}}return n})();function Ahe(){return tV(Fi(),se())}const xhe=Yo,ZF=class extends xhe{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return e4(this._hostTNode,this._hostLView)}get injector(){return new bs(this._hostTNode,this._hostLView)}get parentInjector(){const e=f7(this._hostTNode,this._hostLView);if(av(e)){const t=ad(e,this._hostLView),r=od(e);return new bs(t[De].data[r+8],t)}return new bs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){const t=eV(this._lContainer);return null!==t&&t[e]||null}get length(){return this._lContainer.length-Pi}createEmbeddedView(e,t,r){let i,s;"number"==typeof r?i=r:null!=r&&(i=r.index,s=r.injector);const a=e.createEmbeddedViewImpl(t||{},s,null);return this.insertImpl(a,i,false),a}createComponent(e,t,r,i,s){const o=e&&!function ld(n){return"function"==typeof n}(e);let a;if(o)a=t;else{const C=t||{};a=C.index,r=C.injector,i=C.projectableNodes,s=C.environmentInjector||C.ngModuleRef}const c=o?e:new Md(Yt(e)),u=r||this.parentInjector;if(!s&&null==c.ngModule){const w=(o?u:this.parentInjector).get(Cs,null);w&&(s=w)}Yt(c.componentType??{});const g=c.create(u,i,null,s);return this.insertImpl(g.hostView,a,false),g}insert(e,t){return this.insertImpl(e,t,!1)}insertImpl(e,t,r){const i=e._lView;if(function w0e(n){return _s(n[er])}(i)){const c=this.indexOf(e);if(-1!==c)this.detach(c);else{const u=i[er],d=new ZF(u,u[Zi],u[er]);d.detach(d.indexOf(e))}}const o=this._adjustIndex(t),a=this._lContainer;return vhe(a,i,o,!r),e.attachToViewContainerRef(),GP(jb(a),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){const t=eV(this._lContainer);return null!==t?t.indexOf(e):-1}remove(e){const t=this._adjustIndex(e,-1),r=I7(this._lContainer,t);r&&(p7(jb(this._lContainer),t),Tv(r[De],r))}detach(e){const t=this._adjustIndex(e,-1),r=I7(this._lContainer,t);return r&&null!=p7(jb(this._lContainer),t)?new Id(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function eV(n){return n[8]}function jb(n){return n[8]||(n[8]=[])}function tV(n,e){let t;const r=e[n.index];return _s(r)?t=r:(t=kO(r,e,null,n),e[n.index]=t,W7(e,t)),nV(t,e,n,r),new ZF(t,n,e)}let nV=function rV(n,e,t,r){if(n[ja])return;let i;i=8&t.type?Fn(r):function Dhe(n,e){const t=n[ht],r=t.createComment(""),i=Hs(e,n);return Ml(t,M7(t,i),r,function n4e(n,e){return n.nextSibling(e)}(t,i),!1),r}(e,t),n[ja]=i};class $b{constructor(e){this.queryList=e,this.matches=null}clone(){return new $b(this.queryList)}setDirty(){this.queryList.setDirty()}}class Hb{constructor(e=[]){this.queries=e}createEmbeddedView(e){const t=e.queries;if(null!==t){const r=null!==e.contentQueries?e.contentQueries[0]:t.length,i=[];for(let s=0;s<r;s++){const o=t.getByIndex(s);i.push(this.queries[o.indexInDeclarationView].clone())}return new Hb(i)}return null}insertView(e){this.dirtyQueriesWithMatches(e)}detachView(e){this.dirtyQueriesWithMatches(e)}dirtyQueriesWithMatches(e){for(let t=0;t<this.queries.length;t++)null!==cV(e,t).matches&&this.queries[t].setDirty()}}class iV{constructor(e,t,r=null){this.predicate=e,this.flags=t,this.read=r}}class Gb{constructor(e=[]){this.queries=e}elementStart(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].elementStart(e,t)}elementEnd(e){for(let t=0;t<this.queries.length;t++)this.queries[t].elementEnd(e)}embeddedTView(e){let t=null;for(let r=0;r<this.length;r++){const i=null!==t?t.length:0,s=this.getByIndex(r).embeddedTView(e,i);s&&(s.indexInDeclarationView=r,null!==t?t.push(s):t=[s])}return null!==t?new Gb(t):null}template(e,t){for(let r=0;r<this.queries.length;r++)this.queries[r].template(e,t)}getByIndex(e){return this.queries[e]}get length(){return this.queries.length}track(e){this.queries.push(e)}}class qb{constructor(e,t=-1){this.metadata=e,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=t}elementStart(e,t){this.isApplyingToNode(t)&&this.matchTNode(e,t)}elementEnd(e){this._declarationNodeIndex===e.index&&(this._appliesToNextNode=!1)}template(e,t){this.elementStart(e,t)}embeddedTView(e,t){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,t),new qb(this.metadata)):null}isApplyingToNode(e){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const t=this._declarationNodeIndex;let r=e.parent;for(;null!==r&&8&r.type&&r.index!==t;)r=r.parent;return t===(null!==r?r.index:-1)}return this._appliesToNextNode}matchTNode(e,t){const r=this.metadata.predicate;if(Array.isArray(r))for(let i=0;i<r.length;i++){const s=r[i];this.matchTNodeWithReadOption(e,t,Nhe(t,s)),this.matchTNodeWithReadOption(e,t,h7(t,e,s,!1,!1))}else r===hr?4&t.type&&this.matchTNodeWithReadOption(e,t,-1):this.matchTNodeWithReadOption(e,t,h7(t,e,r,!1,!1))}matchTNodeWithReadOption(e,t,r){if(null!==r){const i=this.metadata.read;if(null!==i)if(i===dn||i===Yo||i===hr&&4&t.type)this.addMatch(t.index,-2);else{const s=h7(t,e,i,!1,!1);null!==s&&this.addMatch(t.index,s)}else this.addMatch(t.index,r)}}addMatch(e,t){null===this.matches?this.matches=[e,t]:this.matches.push(e,t)}}function Nhe(n,e){const t=n.localNames;if(null!==t)for(let r=0;r<t.length;r+=2)if(t[r]===e)return t[r+1];return null}function zhe(n,e,t,r){return-1===t?function Phe(n,e){return 11&n.type?e4(n,e):4&n.type?dp(n,e):null}(e,n):-2===t?function Ohe(n,e,t){return t===dn?e4(e,n):t===hr?dp(e,n):t===Yo?tV(e,n):void 0}(n,e,r):Tl(n,n[De],t,e)}function sV(n,e,t,r){const i=e[Ua].queries[r];if(null===i.matches){const s=n.data,o=t.matches,a=[];for(let c=0;c<o.length;c+=2){const u=o[c];a.push(u<0?null:zhe(e,s[u],o[c+1],t.metadata.read))}i.matches=a}return i.matches}function Wb(n,e,t,r){const i=n.queries.getByIndex(t),s=i.matches;if(null!==s){const o=sV(n,e,i,t);for(let a=0;a<s.length;a+=2){const c=s[a];if(c>0)r.push(o[a/2]);else{const u=s[a+1],d=e[-c];for(let f=Pi;f<d.length;f++){const p=d[f];p[X6]===p[er]&&Wb(p[De],p,u,r)}if(null!==d[R3]){const f=d[R3];for(let p=0;p<f.length;p++){const g=f[p];Wb(g[De],g,u,r)}}}}}return r}function En(n){const e=se(),t=Jt(),r=TP();nv(r+1);const i=cV(t,r);if(n.dirty&&function b0e(n){return 4==(4&n[yt])}(e)===(2==(2&i.metadata.flags))){if(null===i.matches)n.reset([]);else{const s=i.crossesNgTemplate?Wb(t,e,r,[]):sV(t,e,i,r);n.reset(s,sue),n.notifyOnChanges()}return!0}return!1}function Nl(n,e,t){const r=Jt();r.firstCreatePass&&(function aV(n,e,t){null===n.queries&&(n.queries=new Gb),n.queries.track(new qb(e,t))}(r,new iV(n,e,t),-1),2==(2&e)&&(r.staticViewQueries=!0)),function oV(n,e,t){const r=new Ub(4==(4&t));(function Fue(n,e,t,r){const i=VO(e);i.push(t),n.firstCreatePass&&BO(n).push(r,i.length-1)})(n,e,r,r.destroy),null===e[Ua]&&(e[Ua]=new Hb),e[Ua].queries.push(new $b(r))}(r,se(),e)}function cV(n,e){return n.queries.getByIndex(e)}const Zb=new Me("Application Initializer");let eC=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=me(Zb,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const t=[];for(const i of this.appInits){const s=i();if(Pd(s))t.push(s);else if(vk(s)){const o=new Promise((a,c)=>{s.subscribe({complete:a,error:c})});t.push(o)}}const r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),0===t.length&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),IV=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();const Ca=new Me("LocaleId",{providedIn:"root",factory:()=>me(Ca,Rt.Optional|Rt.SkipSelf)||function s8e(){return typeof $localize<"u"&&$localize.locale||v4}()});let pp=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Xi(!1)}add(){this.hasPendingTasks.next(!0);const t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class c8e{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}}let MV=(()=>{class n{compileModuleSync(t){return new Fb(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){const r=this.compileModuleSync(t),s=j1(mo(t).declarations).reduce((o,a)=>{const c=Yt(a);return c&&o.push(new Md(c)),o},[]);return new c8e(r,s)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const DV=new Me(""),gp=new Me("");let sC,rC=(()=>{class n{constructor(t,r,i){this._ngZone=t,this.registry=r,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,sC||(function D8e(n){sC=n}(i),i.addToWindow(r)),this._watchAngularEvents(),t.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{pt.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let t=this._callbacks.pop();clearTimeout(t.timeoutId),t.doneCb(this._didWork)}this._didWork=!1});else{let t=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>!r.updateCb||!r.updateCb(t)||(clearTimeout(r.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(t=>({source:t.source,creationLocation:t.creationLocation,data:t.data})):[]}addCallback(t,r,i){let s=-1;r&&r>0&&(s=setTimeout(()=>{this._callbacks=this._callbacks.filter(o=>o.timeoutId!==s),t(this._didWork,this.getPendingTasks())},r)),this._callbacks.push({doneCb:t,timeoutId:s,updateCb:i})}whenStable(t,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(t,r,i),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(t){this.registry.registerApplication(t,this)}unregisterApplication(t){this.registry.unregisterApplication(t)}findProviders(t,r,i){return[]}static{this.\u0275fac=function(r){return new(r||n)(de(pt),de(iC),de(gp))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})(),iC=(()=>{class n{constructor(){this._applications=new Map}registerApplication(t,r){this._applications.set(t,r)}unregisterApplication(t){this._applications.delete(t)}unregisterAllApplications(){this._applications.clear()}getTestability(t){return this._applications.get(t)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(t,r=!0){return sC?.findTestabilityInTree(this,t,r)??null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})(),s2=null;const LV=new Me("AllowMultipleToken"),oC=new Me("PlatformDestroyListeners"),aC=new Me("appBootstrapListener");class NV{constructor(e,t){this.name=e,this.token=t}}function zV(n,e,t=[]){const r=`Platform: ${e}`,i=new Me(r);return(s=[])=>{let o=cC();if(!o||o.injector.get(LV,!1)){const a=[...t,...s,{provide:i,useValue:!0}];n?n(a):function N8e(n){if(s2&&!s2.get(LV,!1))throw new J(400,!1);(function RV(){!function a0e(n){rP=n}(()=>{throw new J(600,!1)})})(),s2=n;const e=n.get(kV);(function PV(n){n.get(Qz,null)?.forEach(t=>t())})(n)}(function OV(n=[],e){return tr.create({name:e,providers:[{provide:Vv,useValue:"platform"},{provide:oC,useValue:new Set([()=>s2=null])},...n]})}(a,r))}return function z8e(n){const e=cC();if(!e)throw new J(401,!1);return e}()}}function cC(){return s2?.get(kV)??null}let kV=(()=>{class n{constructor(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(t,r){const i=function O8e(n="zone.js",e){return"noop"===n?new bue:"zone.js"===n?new pt(e):n}(r?.ngZone,function FV(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}({eventCoalescing:r?.ngZoneEventCoalescing,runCoalescing:r?.ngZoneRunCoalescing}));return i.run(()=>{const s=function Wfe(n,e,t){return new kb(n,e,t)}(t.moduleType,this.injector,function $V(n){return[{provide:pt,useFactory:n},{provide:yd,multi:!0,useFactory:()=>{const e=me(F8e,{optional:!0});return()=>e.initialize()}},{provide:jV,useFactory:k8e},{provide:hO,useFactory:pO}]}(()=>i)),o=s.injector.get(U1,null);return i.runOutsideAngular(()=>{const a=i.onError.subscribe({next:c=>{o.handleError(c)}});s.onDestroy(()=>{_p(this._modules,s),a.unsubscribe()})}),function VV(n,e,t){try{const r=t();return Pd(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}(o,i,()=>{const a=s.injector.get(eC);return a.runInitializers(),a.donePromise.then(()=>(function dF(n){Go(n,"Expected localeId to be defined"),"string"==typeof n&&(uF=n.toLowerCase().replace(/_/g,"-"))}(s.injector.get(Ca,v4)||v4),this._moduleDoBootstrap(s),s))})})}bootstrapModule(t,r=[]){const i=BV({},r);return function L8e(n,e,t){const r=new Fb(t);return Promise.resolve(r)}(0,0,t).then(s=>this.bootstrapModuleFactory(s,i))}_moduleDoBootstrap(t){const r=t.injector.get(wa);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(i=>r.bootstrap(i));else{if(!t.instance.ngDoBootstrap)throw new J(-403,!1);t.instance.ngDoBootstrap(r)}this._modules.push(t)}onDestroy(t){this._destroyListeners.push(t)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new J(404,!1);this._modules.slice().forEach(r=>r.destroy()),this._destroyListeners.forEach(r=>r());const t=this._injector.get(oC,null);t&&(t.forEach(r=>r()),t.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}static{this.\u0275fac=function(r){return new(r||n)(de(tr))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();function BV(n,e){return Array.isArray(e)?e.reduce(BV,n):{...n,...e}}let wa=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=me(jV),this.zoneIsStable=me(hO),this.componentTypes=[],this.components=[],this.isStable=me(pp).hasPendingTasks.pipe(Ri(t=>t?nt(!1):this.zoneIsStable),My(),H5()),this._injector=me(Cs)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(t,r){const i=t instanceof tO;if(!this._injector.get(eC).done)throw!i&&function S3(n){const e=Yt(n)||Ni(n)||gs(n);return null!==e&&e.standalone}(t),new J(405,!1);let o;o=i?t:this._injector.get(Cd).resolveComponentFactory(t),this.componentTypes.push(o.componentType);const a=function R8e(n){return n.isBoundToModule}(o)?void 0:this._injector.get(Rl),u=o.create(tr.NULL,[],r||o.selector,a),d=u.location.nativeElement,f=u.injector.get(DV,null);return f?.registerApplication(d),u.onDestroy(()=>{this.detachView(u.hostView),_p(this.components,u),f?.unregisterApplication(d)}),this._loadComponent(u),u}tick(){if(this._runningTick)throw new J(101,!1);try{this._runningTick=!0;for(let t of this._views)t.detectChanges()}catch(t){this.internalErrorHandler(t)}finally{this._runningTick=!1}}attachView(t){const r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){const r=t;_p(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);const r=this._injector.get(aC,[]);r.push(...this._bootstrapListeners),r.forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>_p(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new J(406,!1);const t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function _p(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}const jV=new Me("",{providedIn:"root",factory:()=>me(U1).handleError.bind(void 0)});function k8e(){const n=me(pt),e=me(U1);return t=>n.runOutsideAngular(()=>e.handleError(t))}let F8e=(()=>{class n{constructor(){this.zone=me(pt),this.applicationRef=me(wa)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();let Ea=(()=>{class n{static{this.__NG_ELEMENT_ID__=B8e}}return n})();function B8e(n){return function U8e(n,e,t){if(Cl(n)&&!t){const r=go(n.index,e);return new Id(r,r)}return 47&n.type?new Id(e[Pr],e):null}(Fi(),se(),16==(16&n))}class KV{constructor(){}supports(e){return J7(e)}create(e){return new q8e(e)}}const G8e=(n,e)=>e;class q8e{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||G8e}forEachItem(e){let t;for(t=this._itHead;null!==t;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,s=null;for(;t||r;){const o=!r||t&&t.currentIndex<YV(r,i,s)?t:r,a=YV(o,i,s),c=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(t=t._next,null==o.previousIndex)i++;else{s||(s=[]);const u=a-i,d=c-i;if(u!=d){for(let p=0;p<u;p++){const g=p<s.length?s[p]:s[p]=0,y=g+p;d<=y&&y<u&&(s[p]=g+1)}s[o.previousIndex]=d-u}}a!==c&&e(o,a,c)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;null!==t;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;null!==t;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;null!==t;t=t._nextIdentityChange)e(t)}diff(e){if(null==e&&(e=[]),!J7(e))throw new J(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let i,s,o,t=this._itHead,r=!1;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,s,o,a)),Object.is(t.item,s)||this._addIdentityChange(t,s)):(t=this._mismatch(t,s,o,a),r=!0),t=t._next}else i=0,function x6e(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{const t=n[Symbol.iterator]();let r;for(;!(r=t.next()).done;)e(r.value)}}(e,a=>{o=this._trackByFn(i,a),null!==t&&Object.is(t.trackById,o)?(r&&(t=this._verifyReinsertion(t,a,o,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)):(t=this._mismatch(t,a,o,i),r=!0),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;null!==e;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;null!==e;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let s;return null===e?s=this._itTail:(s=e._prev,this._remove(e)),null!==(e=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,s,i)):null!==(e=null===this._linkedRecords?null:this._linkedRecords.get(r,i))?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,s,i)):e=this._addAfter(new W8e(t,r),s,i),e}_verifyReinsertion(e,t,r,i){let s=null===this._unlinkedRecords?null:this._unlinkedRecords.get(r,null);return null!==s?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;null!==e;){const t=e._next;this._addToRemovals(this._unlink(e)),e=t}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(e);const i=e._prevRemoved,s=e._nextRemoved;return null===i?this._removalsHead=s:i._nextRemoved=s,null===s?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail=null===this._additionsTail?this._additionsHead=e:this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){const i=null===t?this._itHead:t._next;return e._next=i,e._prev=t,null===i?this._itTail=e:i._prev=e,null===t?this._itHead=e:t._next=e,null===this._linkedRecords&&(this._linkedRecords=new QV),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){null!==this._linkedRecords&&this._linkedRecords.remove(e);const t=e._prev,r=e._next;return null===t?this._itHead=r:t._next=r,null===r?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail=null===this._movesTail?this._movesHead=e:this._movesTail._nextMoved=e),e}_addToRemovals(e){return null===this._unlinkedRecords&&(this._unlinkedRecords=new QV),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=e:this._identityChangesTail._nextIdentityChange=e,e}}class W8e{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class K8e{constructor(){this._head=null,this._tail=null}add(e){null===this._head?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;null!==r;r=r._nextDup)if((null===t||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){const t=e._prevDup,r=e._nextDup;return null===t?this._head=r:t._nextDup=r,null===r?this._tail=t:r._prevDup=t,null===this._head}}class QV{constructor(){this.map=new Map}put(e){const t=e.trackById;let r=this.map.get(t);r||(r=new K8e,this.map.set(t,r)),r.add(e)}get(e,t){const i=this.map.get(e);return i?i.get(e,t):null}remove(e){const t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function YV(n,e,t){const r=n.previousIndex;if(null===r)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}class JV{constructor(){}supports(e){return e instanceof Map||gb(e)}create(){return new Q8e}}class Q8e{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(e){let t;for(t=this._mapHead;null!==t;t=t._next)e(t)}forEachPreviousItem(e){let t;for(t=this._previousMapHead;null!==t;t=t._nextPrevious)e(t)}forEachChangedItem(e){let t;for(t=this._changesHead;null!==t;t=t._nextChanged)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;null!==t;t=t._nextAdded)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;null!==t;t=t._nextRemoved)e(t)}diff(e){if(e){if(!(e instanceof Map||gb(e)))throw new J(900,!1)}else e=new Map;return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._mapHead;if(this._appendAfter=null,this._forEach(e,(r,i)=>{if(t&&t.key===i)this._maybeAddToChanges(t,r),this._appendAfter=t,t=t._next;else{const s=this._getOrCreateRecordForKey(i,r);t=this._insertBeforeOrAppend(t,s)}}),t){t._prev&&(t._prev._next=null),this._removalsHead=t;for(let r=t;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(e,t){if(e){const r=e._prev;return t._next=e,t._prev=r,e._prev=t,r&&(r._next=t),e===this._mapHead&&(this._mapHead=t),this._appendAfter=e,e}return this._appendAfter?(this._appendAfter._next=t,t._prev=this._appendAfter):this._mapHead=t,this._appendAfter=t,null}_getOrCreateRecordForKey(e,t){if(this._records.has(e)){const i=this._records.get(e);this._maybeAddToChanges(i,t);const s=i._prev,o=i._next;return s&&(s._next=o),o&&(o._prev=s),i._next=null,i._prev=null,i}const r=new Y8e(e);return this._records.set(e,r),r.currentValue=t,this._addToAdditions(r),r}_reset(){if(this.isDirty){let e;for(this._previousMapHead=this._mapHead,e=this._previousMapHead;null!==e;e=e._next)e._nextPrevious=e._next;for(e=this._changesHead;null!==e;e=e._nextChanged)e.previousValue=e.currentValue;for(e=this._additionsHead;null!=e;e=e._nextAdded)e.previousValue=e.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(e,t){Object.is(t,e.currentValue)||(e.previousValue=e.currentValue,e.currentValue=t,this._addToChanges(e))}_addToAdditions(e){null===this._additionsHead?this._additionsHead=this._additionsTail=e:(this._additionsTail._nextAdded=e,this._additionsTail=e)}_addToChanges(e){null===this._changesHead?this._changesHead=this._changesTail=e:(this._changesTail._nextChanged=e,this._changesTail=e)}_forEach(e,t){e instanceof Map?e.forEach(t):Object.keys(e).forEach(r=>t(e[r],r))}}class Y8e{constructor(e){this.key=e,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function XV(){return new bp([new KV])}let bp=(()=>{class n{static{this.\u0275prov=pe({token:n,providedIn:"root",factory:XV})}constructor(t){this.factories=t}static create(t,r){if(null!=r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||XV()),deps:[[n,new g7,new Vi]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(null!=r)return r;throw new J(901,!1)}}return n})();function ZV(){return new Wd([new JV])}let Wd=(()=>{class n{static{this.\u0275prov=pe({token:n,providedIn:"root",factory:ZV})}constructor(t){this.factories=t}static create(t,r){if(r){const i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||ZV()),deps:[[n,new g7,new Vi]]}}find(t){const r=this.factories.find(i=>i.supports(t));if(r)return r;throw new J(901,!1)}}return n})();const Z8e=zV(null,"core",[]);let e5e=(()=>{class n{constructor(t){}static{this.\u0275fac=function(r){return new(r||n)(de(wa))}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({})}}return n})();function w4(n){return"boolean"==typeof n?n:null!=n&&"false"!==n}function pC(n,e){const t=Yt(n),r=e.elementInjector||O7();return new Md(t).create(r,e.projectableNodes,e.hostElement,e.environmentInjector)}let mC=null;function o2(){return mC}class p5e{}const Bn=new Me("DocumentToken");let gC=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:function(){return me(g5e)},providedIn:"platform"})}}return n})();const m5e=new Me("Location Initialized");let g5e=(()=>{class n extends gC{constructor(){super(),this._doc=me(Bn),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return o2().getBaseHref(this._doc)}onPopState(t){const r=o2().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=o2().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:function(){return new n},providedIn:"platform"})}}return n})();function _C(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function cB(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function q1(n){return n&&"?"!==n[0]?"?"+n:n}let zl=(()=>{class n{historyGo(t){throw new Error("Not implemented")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:function(){return me(uB)},providedIn:"root"})}}return n})();const lB=new Me("appBaseHref");let uB=(()=>{class n extends zl{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??me(Bn).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return _C(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+q1(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,s){const o=this.prepareExternalUrl(i+q1(s));this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){const o=this.prepareExternalUrl(i+q1(s));this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(de(gC),de(lB,8))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_5e=(()=>{class n extends zl{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=_C(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,s){let o=this.prepareExternalUrl(i+q1(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.pushState(t,r,o)}replaceState(t,r,i,s){let o=this.prepareExternalUrl(i+q1(s));0==o.length&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(de(gC),de(lB,8))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})(),yC=(()=>{class n{constructor(t){this._subject=new He,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function b5e(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(cB(dB(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+q1(r))}normalize(t){return n.stripTrailingSlash(function v5e(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,dB(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+q1(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+q1(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=q1}static{this.joinWithSlash=_C}static{this.stripTrailingSlash=cB}static{this.\u0275fac=function(r){return new(r||n)(de(zl))}}static{this.\u0275prov=pe({token:n,factory:function(){return function y5e(){return new yC(de(zl))}()},providedIn:"root"})}}return n})();function dB(n){return n.replace(/\/index.html$/,"")}function wB(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,s]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}class r7e{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Xa=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,s,o)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new r7e(i.item,this._ngForOf,-1,-1),null===o?void 0:o);else if(null==o)r.remove(null===s?void 0:s);else if(null!==s){const a=r.get(s);r.move(a,o),IB(a,i)}});for(let i=0,s=r.length;i<s;i++){const a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{IB(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(V(Yo),V(hr),V(bp))}}static{this.\u0275dir=ve({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function IB(n,e){n.context.$implicit=e.item}let Eo=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new i7e,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){MB("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){MB("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(V(Yo),V(hr))}}static{this.\u0275dir=ve({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})();class i7e{constructor(){this.$implicit=null,this.ngIf=null}}function MB(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${ii(e)}'.`)}let Rp=(()=>{class n{constructor(t,r,i){this._ngEl=t,this._differs=r,this._renderer=i,this._ngStyle=null,this._differ=null}set ngStyle(t){this._ngStyle=t,!this._differ&&t&&(this._differ=this._differs.find(t).create())}ngDoCheck(){if(this._differ){const t=this._differ.diff(this._ngStyle);t&&this._applyChanges(t)}}_setStyle(t,r){const[i,s]=t.split("."),o=-1===i.indexOf("-")?void 0:e2.DashCase;null!=r?this._renderer.setStyle(this._ngEl.nativeElement,i,s?`${r}${s}`:r,o):this._renderer.removeStyle(this._ngEl.nativeElement,i,o)}_applyChanges(t){t.forEachRemovedItem(r=>this._setStyle(r.key,null)),t.forEachAddedItem(r=>this._setStyle(r.key,r.currentValue)),t.forEachChangedItem(r=>this._setStyle(r.key,r.currentValue))}static{this.\u0275fac=function(r){return new(r||n)(V(dn),V(Wd),V(qs))}}static{this.\u0275dir=ve({type:n,selectors:[["","ngStyle",""]],inputs:{ngStyle:"ngStyle"},standalone:!0})}}return n})(),xB=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({})}}return n})();function LB(n){return"server"===n}let N7e=(()=>{class n{static{this.\u0275prov=pe({token:n,providedIn:"root",factory:()=>new P7e(de(Bn),window)})}}return n})();class P7e{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function z7e(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const s=i.shadowRoot;if(s){const o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.supportsScrolling()&&(this.window.history.scrollRestoration=e)}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}class RB{}class ipe extends p5e{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class OC extends ipe{static makeCurrent(){!function h5e(n){mC||(mC=n)}(new OC)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function spe(){return Jd=Jd||document.querySelector("base"),Jd?Jd.getAttribute("href"):null}();return null==t?null:function ope(n){zp=zp||document.createElement("a"),zp.setAttribute("href",n);const e=zp.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Jd=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return wB(document.cookie,e)}}let zp,Jd=null,cpe=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();const kC=new Me("EventManagerPlugins");let kB=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new J(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(de(kC),de(pt))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();class FB{constructor(e){this._doc=e}}const FC="ng-app-id";let VB=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=LB(s),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${FC}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(FC),s;{const o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(FC,this.appId),o}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(de(Bn),de(k7),de(Jz,8),de(n2))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();const VC={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},BC=/%COMP%/g,fpe=new Me("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function UB(n,e){return e.map(t=>t.replace(BC,n))}let UC=(()=>{class n{constructor(t,r,i,s,o,a,c,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=c,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=LB(a),this.defaultRenderer=new jC(t,o,c,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===qo.ShadowDom&&(r={...r,encapsulation:qo.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof $B?i.applyToHost(t):i instanceof $C&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let s=i.get(r.id);if(!s){const o=this.doc,a=this.ngZone,c=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,f=this.platformIsServer;switch(r.encapsulation){case qo.Emulated:s=new $B(c,u,r,this.appId,d,o,a,f);break;case qo.ShadowDom:return new gpe(c,u,t,r,o,a,this.nonce,f);default:s=new $C(c,u,r,d,o,a,f)}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(de(kB),de(VB),de(k7),de(fpe),de(Bn),de(n2),de(pt),de(Jz))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();class jC{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(VC[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(jB(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(jB(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new J(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const s=VC[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=VC[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(e2.DashCase|e2.Important)?e.style.setProperty(t,r,i&e2.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&e2.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=o2().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function jB(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class gpe extends jC{constructor(e,t,r,i,s,o,a,c){super(e,s,o,c),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=UB(i.id,i.styles);for(const d of u){const f=document.createElement("style");a&&f.setAttribute("nonce",a),f.textContent=d,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class $C extends jC{constructor(e,t,r,i,s,o,a,c){super(e,s,o,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=c?UB(c,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}}class $B extends $C{constructor(e,t,r,i,s,o,a,c){const u=i+"-"+r.id;super(e,t,r,s,o,a,c,u),this.contentAttr=function hpe(n){return"_ngcontent-%COMP%".replace(BC,n)}(u),this.hostAttr=function ppe(n){return"_nghost-%COMP%".replace(BC,n)}(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let _pe=(()=>{class n extends FB{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(de(Bn))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();const HB=["alt","control","meta","shift"],ype={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},vpe={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let bpe=(()=>{class n extends FB{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>o2().onAndCancel(t,s.domEventName,o))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const s=n._normalizeKey(r.pop());let o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),HB.forEach(u=>{const d=r.indexOf(u);d>-1&&(r.splice(d,1),o+=u+".")}),o+=s,0!=r.length||0===s.length)return null;const c={};return c.domEventName=i,c.fullKey=o,c}static matchEventFullKeyCode(t,r){let i=ype[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),HB.forEach(o=>{o!==i&&(0,vpe[o])(t)&&(s+=o+".")}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return"esc"===t?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(de(Bn))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();const qB=[{provide:n2,useValue:"browser"},{provide:Qz,useValue:function Cpe(){OC.makeCurrent()},multi:!0},{provide:Bn,useFactory:function Epe(){return function u4e(n){Lv=n}(document),document},deps:[]}],Tpe=zV(Z8e,"browser",qB),Ipe=new Me(""),WB=[{provide:gp,useClass:class ape{addToWindow(e){kn.getAngularTestability=(r,i=!0)=>{const s=e.findTestabilityInTree(r,i);if(null==s)throw new J(5103,!1);return s},kn.getAllAngularTestabilities=()=>e.getAllTestabilities(),kn.getAllAngularRootElements=()=>e.getAllRootElements(),kn.frameworkStabilizers||(kn.frameworkStabilizers=[]),kn.frameworkStabilizers.push(r=>{const i=kn.getAllAngularTestabilities();let s=i.length,o=!1;const a=function(c){o=o||c,s--,0==s&&r(o)};i.forEach(c=>{c.whenStable(a)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?o2().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:DV,useClass:rC,deps:[pt,iC,gp]},{provide:rC,useClass:rC,deps:[pt,iC,gp]}],KB=[{provide:Vv,useValue:"root"},{provide:U1,useFactory:function wpe(){return new U1},deps:[]},{provide:kC,useClass:_pe,multi:!0,deps:[Bn,pt,n2]},{provide:kC,useClass:bpe,multi:!0,deps:[Bn]},UC,VB,kB,{provide:t4,useExisting:UC},{provide:RB,useClass:cpe,deps:[]},[]];let QB=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:k7,useValue:t.appId}]}}static{this.\u0275fac=function(r){return new(r||n)(de(Ipe,12))}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({providers:[...KB,...WB],imports:[xB,e5e]})}}return n})(),YB=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(de(Bn))}}static{this.\u0275prov=pe({token:n,factory:function(r){let i=null;return i=r?new r:function Spe(){return new YB(de(Bn))}(),i},providedIn:"root"})}}return n})();typeof window<"u"&&window;let GC=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:function(r){let i=null;return i=r?new(r||n):de(ZB),i},providedIn:"root"})}}return n})(),ZB=(()=>{class n extends GC{constructor(t){super(),this._doc=t}sanitize(t,r){if(null==r)return null;switch(t){case vo.NONE:return r;case vo.HTML:return qa(r,"HTML")?yo(r):Fz(this._doc,String(r)).toString();case vo.STYLE:return qa(r,"Style")?yo(r):r;case vo.SCRIPT:if(qa(r,"Script"))return yo(r);throw new J(5200,!1);case vo.URL:return qa(r,"URL")?yo(r):L7(String(r));case vo.RESOURCE_URL:if(qa(r,"ResourceURL"))return yo(r);throw new J(5201,!1);default:throw new J(5202,!1)}}bypassSecurityTrustHtml(t){return function _4e(n){return new d4e(n)}(t)}bypassSecurityTrustStyle(t){return function y4e(n){return new f4e(n)}(t)}bypassSecurityTrustScript(t){return function v4e(n){return new h4e(n)}(t)}bypassSecurityTrustUrl(t){return function b4e(n){return new p4e(n)}(t)}bypassSecurityTrustResourceUrl(t){return function C4e(n){return new m4e(n)}(t)}static{this.\u0275fac=function(r){return new(r||n)(de(Bn))}}static{this.\u0275prov=pe({token:n,factory:function(r){let i=null;return i=r?new r:function Lpe(n){return new ZB(n.get(Bn))}(de(tr)),i},providedIn:"root"})}}return n})();const{isArray:Npe}=Array,{getPrototypeOf:Ppe,prototype:zpe,keys:Ope}=Object;function tU(n){if(1===n.length){const e=n[0];if(Npe(e))return{args:e,keys:null};if(function kpe(n){return n&&"object"==typeof n&&Ppe(n)===zpe}(e)){const t=Ope(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}const{isArray:Fpe}=Array;function qC(n){return dt(e=>function Vpe(n,e){return Fpe(e)?n(...e):n(e)}(n,e))}function nU(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function WC(...n){const e=G6(n),t=U5(n),{args:r,keys:i}=tU(n);if(0===r.length)return Kr([],e);const s=new Qt(function Bpe(n,e,t=pa){return r=>{rU(e,()=>{const{length:i}=n,s=new Array(i);let o=i,a=i;for(let c=0;c<i;c++)rU(e,()=>{const u=Kr(n[c],e);let d=!1;u.subscribe(On(r,f=>{s[c]=f,d||(d=!0,a--),a||r.next(t(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}(r,e,i?o=>nU(i,o):pa));return t?s.pipe(qC(t)):s}function rU(n,e,t){n?P1(t,n,e):e()}const Xd=Hc(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function Zd(...n){return function Upe(){return I3(1)}()(Kr(n,G6(n)))}function iU(n){return new Qt(e=>{ni(n()).subscribe(e)})}function ef(n,e){const t=St(n)?n:()=>n,r=i=>i.error(t());return new Qt(e?i=>e.schedule(r,0,i):r)}function KC(){return dr((n,e)=>{let t=null;n._refCount++;const r=On(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,s=t;t=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class sU extends Qt{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,U6(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Lr;const t=this.getSubject();e.add(this.source.subscribe(On(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Lr.EMPTY)}return e}refCount(){return KC()(this)}}function Bi(n){return n<=0?()=>Ho:dr((e,t)=>{let r=0;e.subscribe(On(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function mr(n,e){return dr((t,r)=>{let i=0;t.subscribe(On(r,s=>n.call(e,s,i++)&&r.next(s)))})}function Op(n){return dr((e,t)=>{let r=!1;e.subscribe(On(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function aU(n=jpe){return dr((e,t)=>{let r=!1;e.subscribe(On(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function jpe(){return new Xd}function Ol(n,e){const t=arguments.length>=2;return r=>r.pipe(n?mr((i,s)=>n(i,s,r)):pa,Bi(1),t?Op(e):aU(()=>new Xd))}function I4(n,e){return St(e)?ri(n,e,1):ri(n,1)}function Ir(n,e,t){const r=St(n)||e||t?{next:n,error:e,complete:t}:n;return r?dr((i,s)=>{var o;null===(o=r.subscribe)||void 0===o||o.call(r);let a=!0;i.subscribe(On(s,c=>{var u;null===(u=r.next)||void 0===u||u.call(r,c),s.next(c)},()=>{var c;a=!1,null===(c=r.complete)||void 0===c||c.call(r),s.complete()},c=>{var u;a=!1,null===(u=r.error)||void 0===u||u.call(r,c),s.error(c)},()=>{var c,u;a&&(null===(c=r.unsubscribe)||void 0===c||c.call(r)),null===(u=r.finalize)||void 0===u||u.call(r)}))}):pa}function kl(n){return dr((e,t)=>{let s,r=null,i=!1;r=e.subscribe(On(t,void 0,void 0,o=>{s=ni(n(o,kl(n)(e))),r?(r.unsubscribe(),r=null,s.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(t))})}function QC(n){return n<=0?()=>Ho:dr((e,t)=>{let r=[];e.subscribe(On(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function tf(n){return dr((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function Mr(n){return dr((e,t)=>{ni(n).subscribe(On(t,()=>t.complete(),yl)),!t.closed&&e.subscribe(t)})}const bt="primary",nf=Symbol("RouteTitle");class qpe{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function M4(n){return new qpe(n)}function Wpe(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let s=0;s<r.length;s++){const o=r[s],a=n[s];if(o.startsWith(":"))i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Za(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!lU(n[i],e[i]))return!1;return!0}function lU(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}return n===e}function uU(n){return n.length>0?n[n.length-1]:null}function c2(n){return function Rpe(n){return!!n&&(n instanceof Qt||St(n.lift)&&St(n.subscribe))}(n)?n:Pd(n)?Kr(Promise.resolve(n)):nt(n)}const Qpe={exact:function hU(n,e,t){if(!Fl(n.segments,e.segments)||!kp(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!hU(n.children[r],e.children[r],t))return!1;return!0},subset:pU},dU={exact:function Ype(n,e){return Za(n,e)},subset:function Jpe(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>lU(n[t],e[t]))},ignored:()=>!0};function fU(n,e,t){return Qpe[t.paths](n.root,e.root,t.matrixParams)&&dU[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function pU(n,e,t){return mU(n,e,e.segments,t)}function mU(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!Fl(i,t)||e.hasChildren()||!kp(i,t,r))}if(n.segments.length===t.length){if(!Fl(n.segments,t)||!kp(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!pU(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!!(Fl(n.segments,i)&&kp(n.segments,i,r)&&n.children[bt])&&mU(n.children[bt],e,s,r)}}function kp(n,e,t){return e.every((r,i)=>dU[t](n[i].parameters,r.parameters))}class S4{constructor(e=new In([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=M4(this.queryParams)),this._queryParamMap}toString(){return eme.serialize(this)}}class In{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Fp(this)}}class rf{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=M4(this.parameters)),this._parameterMap}toString(){return yU(this)}}function Fl(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let sf=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:function(){return new YC},providedIn:"root"})}}return n})();class YC{parse(e){const t=new dme(e);return new S4(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${af(e.root,!0)}`,r=function rme(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Vp(t)}=${Vp(i)}`).join("&"):`${Vp(t)}=${Vp(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function tme(n){return encodeURI(n)}(e.fragment)}`:""}`}}const eme=new YC;function Fp(n){return n.segments.map(e=>yU(e)).join("/")}function af(n,e){if(!n.hasChildren())return Fp(n);if(e){const t=n.children[bt]?af(n.children[bt],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==bt&&r.push(`${i}:${af(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Zpe(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===bt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==bt&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===bt?[af(n.children[bt],!1)]:[`${i}:${af(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[bt]?`${Fp(n)}/${t[0]}`:`${Fp(n)}/(${t.join("//")})`}}function gU(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Vp(n){return gU(n).replace(/%3B/gi,";")}function JC(n){return gU(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bp(n){return decodeURIComponent(n)}function _U(n){return Bp(n.replace(/\+/g,"%20"))}function yU(n){return`${JC(n.path)}${function nme(n){return Object.keys(n).map(e=>`;${JC(e)}=${JC(n[e])}`).join("")}(n.parameters)}`}const ime=/^[^\/()?;#]+/;function XC(n){const e=n.match(ime);return e?e[0]:""}const sme=/^[^\/()?;=#]+/,ame=/^[^=?&#]+/,lme=/^[^&#]+/;class dme{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new In([],{}):new In([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[bt]=new In(e,t)),r}parseSegment(){const e=XC(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new J(4009,!1);return this.capture(e),new rf(Bp(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function ome(n){const e=n.match(sme);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=XC(this.remaining);i&&(r=i,this.capture(r))}e[Bp(t)]=Bp(r)}parseQueryParam(e){const t=function cme(n){const e=n.match(ame);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const o=function ume(n){const e=n.match(lme);return e?e[0]:""}(this.remaining);o&&(r=o,this.capture(r))}const i=_U(t),s=_U(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=XC(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new J(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=bt);const o=this.parseChildren();t[s]=1===Object.keys(o).length?o[bt]:new In([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new J(4011,!1)}}function vU(n){return n.segments.length>0?new In([],{[bt]:n}):n}function bU(n){const e={};for(const r of Object.keys(n.children)){const s=bU(n.children[r]);if(r===bt&&0===s.segments.length&&s.hasChildren())for(const[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}return function fme(n){if(1===n.numberOfChildren&&n.children[bt]){const e=n.children[bt];return new In(n.segments.concat(e.segments),e.children)}return n}(new In(n.segments,e))}function Vl(n){return n instanceof S4}function CU(n){let e;const i=vU(function t(s){const o={};for(const c of s.children){const u=t(c);o[c.outlet]=u}const a=new In(s.url,o);return s===n&&(e=a),a}(n.root));return e??i}function wU(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return ZC(i,i,i,t,r);const s=function pme(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new TU(!0,0,n);let e=0,t=!1;const r=n.reduce((i,s,o)=>{if("object"==typeof s&&null!=s){if(s.outlets){const a={};return Object.entries(s.outlets).forEach(([c,u])=>{a[c]="string"==typeof u?u.split("/"):u}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return"string"!=typeof s?[...i,s]:0===o?(s.split("/").forEach((a,c)=>{0==c&&"."===a||(0==c&&""===a?t=!0:".."===a?e++:""!=a&&i.push(a))}),i):[...i,s]},[]);return new TU(t,e,r)}(e);if(s.toRoot())return ZC(i,i,new In([],{}),t,r);const o=function mme(n,e,t){if(n.isAbsolute)return new jp(e,!0,0);if(!t)return new jp(e,!1,NaN);if(null===t.parent)return new jp(t,!0,0);const r=Up(n.commands[0])?0:1;return function gme(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new J(4005,!1);i=r.segments.length}return new jp(r,!1,i-s)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(s,i,n),a=o.processChildren?lf(o.segmentGroup,o.index,s.commands):IU(o.segmentGroup,o.index,s.commands);return ZC(i,o.segmentGroup,a,t,r)}function Up(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function cf(n){return"object"==typeof n&&null!=n&&n.outlets}function ZC(n,e,t,r,i){let o,s={};r&&Object.entries(r).forEach(([c,u])=>{s[c]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`}),o=n===e?t:EU(n,e,t);const a=vU(bU(o));return new S4(a,s,i)}function EU(n,e,t){const r={};return Object.entries(n.children).forEach(([i,s])=>{r[i]=s===e?t:EU(s,e,t)}),new In(n.segments,r)}class TU{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Up(r[0]))throw new J(4003,!1);const i=r.find(cf);if(i&&i!==uU(r))throw new J(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class jp{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function IU(n,e,t){if(n||(n=new In([],{})),0===n.segments.length&&n.hasChildren())return lf(n,e,t);const r=function yme(n,e,t){let r=0,i=e;const s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;const o=n.segments[i],a=t[r];if(cf(a))break;const c=`${a}`,u=r<t.length-1?t[r+1]:null;if(i>0&&void 0===c)break;if(c&&u&&"object"==typeof u&&void 0===u.outlets){if(!SU(c,u,o))return s;r+=2}else{if(!SU(c,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const s=new In(n.segments.slice(0,r.pathIndex),{});return s.children[bt]=new In(n.segments.slice(r.pathIndex),n.children),lf(s,0,i)}return r.match&&0===i.length?new In(n.segments,{}):r.match&&!n.hasChildren()?ew(n,e,t):r.match?lf(n,0,i):ew(n,e,t)}function lf(n,e,t){if(0===t.length)return new In(n.segments,{});{const r=function _me(n){return cf(n[0])?n[0].outlets:{[bt]:n}}(t),i={};if(Object.keys(r).some(s=>s!==bt)&&n.children[bt]&&1===n.numberOfChildren&&0===n.children[bt].segments.length){const s=lf(n.children[bt],e,t);return new In(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{"string"==typeof o&&(o=[o]),null!==o&&(i[s]=IU(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{void 0===r[s]&&(i[s]=o)}),new In(n.segments,i)}}function ew(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const s=t[i];if(cf(s)){const c=vme(s.outlets);return new In(r,c)}if(0===i&&Up(t[0])){r.push(new rf(n.segments[e].path,MU(t[0]))),i++;continue}const o=cf(s)?s.outlets[bt]:`${s}`,a=i<t.length-1?t[i+1]:null;o&&a&&Up(a)?(r.push(new rf(o,MU(a))),i+=2):(r.push(new rf(o,{})),i++)}return new In(r,{})}function vme(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=ew(new In([],{}),0,r))}),e}function MU(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function SU(n,e,t){return n==t.path&&Za(e,t.parameters)}const uf="imperative";class e1{constructor(e,t){this.id=e,this.url=t}}class $p extends e1{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class l2 extends e1{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class df extends e1{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class A4 extends e1{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Hp extends e1{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class AU extends e1{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class bme extends e1{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Cme extends e1{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class wme extends e1{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Eme extends e1{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Tme{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Ime{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class Mme{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Sme{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ame{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xme{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xU{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class tw{}class nw{constructor(e){this.url=e}}class Dme{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new ff,this.attachRef=null}}let ff=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Dme,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class DU{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=rw(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=rw(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=iw(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return iw(e,this._root).map(t=>t.value)}}function rw(n,e){if(n===e.value)return e;for(const t of e.children){const r=rw(n,t);if(r)return r}return null}function iw(n,e){if(n===e.value)return[e];for(const t of e.children){const r=iw(n,t);if(r.length)return r.unshift(e),r}return[]}class Q1{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function x4(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class LU extends DU{constructor(e,t){super(e),this.snapshot=t,sw(this,e)}toString(){return this.snapshot.toString()}}function RU(n,e){const t=function Lme(n,e){const o=new Gp([],{},{},"",{},bt,e,null,{});return new PU("",new Q1(o,[]))}(0,e),r=new Xi([new rf("",{})]),i=new Xi({}),s=new Xi({}),o=new Xi({}),a=new Xi(""),c=new Bl(r,i,o,a,s,bt,e,t.root);return c.snapshot=t.root,new LU(new Q1(c,[]),t)}class Bl{constructor(e,t,r,i,s,o,a,c){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=c,this.title=this.dataSubject?.pipe(dt(u=>u[nf]))??nt(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe(dt(e=>M4(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(dt(e=>M4(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function NU(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],s=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(s.component)break;r--}}return function Rme(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Gp{get title(){return this.data?.[nf]}constructor(e,t,r,i,s,o,a,c,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=c,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=M4(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=M4(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class PU extends DU{constructor(e,t){super(t),this.url=e,sw(this,t)}toString(){return zU(this._root)}}function sw(n,e){e.value._routerState=n,e.children.forEach(t=>sw(n,t))}function zU(n){const e=n.children.length>0?` { ${n.children.map(zU).join(", ")} } `:"";return`${n.value}${e}`}function ow(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Za(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Za(e.params,t.params)||n.paramsSubject.next(t.params),function Kpe(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Za(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Za(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function aw(n,e){const t=Za(n.params,e.params)&&function Xpe(n,e){return Fl(n,e)&&n.every((t,r)=>Za(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||aw(n.parent,e.parent))}let cw=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=bt,this.activateEvents=new He,this.deactivateEvents=new He,this.attachEvents=new He,this.detachEvents=new He,this.parentContexts=me(ff),this.location=me(Yo),this.changeDetector=me(Ea),this.environmentInjector=me(Cs),this.inputBinder=me(qp,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new J(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new J(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new J(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new J(4013,!1);this._activatedRoute=t;const i=this.location,o=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,c=new Nme(t,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:c,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ve({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Qr]})}}return n})();class Nme{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Bl?this.route:e===ff?this.childContexts:this.parent.get(e,t)}}const qp=new Me("");let OU=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=WC([r.queryParams,r.params,r.data]).pipe(Ri(([s,o,a],c)=>(a={...s,...o,...a},0===c?nt(a):Promise.resolve(a)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const o=function f5e(n){const e=Yt(n);if(!e)return null;const t=new Md(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}(r.component);if(o)for(const{templateName:a}of o.inputs)t.activatedComponentRef.setInput(a,s[a]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();function hf(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function zme(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return hf(n,r,i);return hf(n,r)})}(n,e,t);return new Q1(r,i)}{if(n.shouldAttach(e.value)){const s=n.retrieve(e.value);if(null!==s){const o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>hf(n,a)),o}}const r=function Ome(n){return new Bl(new Xi(n.url),new Xi(n.params),new Xi(n.queryParams),new Xi(n.fragment),new Xi(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(s=>hf(n,s));return new Q1(r,i)}}const lw="ngNavigationCancelingError";function kU(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Vl(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=FU(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function FU(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[lw]=!0,r.cancellationCode=e,t&&(r.url=t),r}function VU(n){return n&&n[lw]}let BU=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=xn({type:n,selectors:[["ng-component"]],standalone:!0,features:[Qs],decls:1,vars:0,template:function(r,i){1&r&&Pt(0,"router-outlet")},dependencies:[cw],encapsulation:2})}}return n})();function uw(n){const e=n.children&&n.children.map(uw),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==bt&&(t.component=BU),t}function Ma(n){return n.outlet||bt}function pf(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Hme{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),ow(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=x4(t);e.children.forEach(s=>{const o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(i===s)if(i.component){const o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=x4(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);if(r&&r.outlet){const o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=x4(e);for(const o of Object.keys(s))this.deactivateRouteAndItsChildren(s[o],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=x4(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new xme(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Sme(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,s=t?t.value:null;if(ow(i),i===s)if(i.component){const o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),ow(a.route.value),this.activateChildRoutes(e,null,o.children)}else{const a=pf(i.snapshot);o.attachRef=null,o.route=i,o.injector=a,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}}else this.activateChildRoutes(e,null,r)}}class UU{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class Wp{constructor(e,t){this.component=e,this.route=t}}function Gme(n,e,t){const r=n._root;return mf(r,e?e._root:null,t,[r.value])}function D4(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||function Mle(n){return null!==W5(n)}(n)?e.get(n):n:r}function mf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=x4(e);return n.children.forEach(o=>{(function Wme(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const s=n.value,o=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){const c=function Kme(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!Fl(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Fl(n.url,e.url)||!Za(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!aw(n,e)||!Za(n.queryParams,e.queryParams);default:return!aw(n,e)}}(o,s,s.routeConfig.runGuardsAndResolvers);c?i.canActivateChecks.push(new UU(r)):(s.data=o.data,s._resolvedData=o._resolvedData),mf(n,e,s.component?a?a.children:null:t,r,i),c&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Wp(a.outlet.component,o))}else o&&gf(e,a,i),i.canActivateChecks.push(new UU(r)),mf(n,null,s.component?a?a.children:null:t,r,i)})(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>gf(a,t.getContext(o),i)),i}function gf(n,e,t){const r=x4(n),i=n.value;Object.entries(r).forEach(([s,o])=>{gf(o,i.component?e?e.children.getContext(s):null:e,t)}),t.canDeactivateChecks.push(new Wp(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function _f(n){return"function"==typeof n}function jU(n){return n instanceof Xd||"EmptyError"===n?.name}const Kp=Symbol("INITIAL_VALUE");function L4(){return Ri(n=>WC(n.map(e=>e.pipe(Bi(1),function oU(...n){const e=G6(n);return dr((t,r)=>{(e?Zd(n,t,e):Zd(n,t)).subscribe(r)})}(Kp)))).pipe(dt(e=>{for(const t of e)if(!0!==t){if(t===Kp)return Kp;if(!1===t||t instanceof S4)return t}return!0}),mr(e=>e!==Kp),Bi(1)))}function $U(n){return function P5(...n){return z5(n)}(Ir(e=>{if(Vl(e))throw kU(0,e)}),dt(e=>!0===e))}class Qp{constructor(e){this.segmentGroup=e||null}}class HU{constructor(e){this.urlTree=e}}function R4(n){return ef(new Qp(n))}function GU(n){return ef(new HU(n))}class p9e{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new J(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return nt(r);if(i.numberOfChildren>1||!i.children[bt])return ef(new J(4e3,!1));i=i.children[bt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const s=this.createSegmentGroup(e,t.root,r,i);return new S4(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,s])=>{if("string"==typeof s&&s.startsWith(":")){const a=s.substring(1);r[i]=t[a]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){const s=this.createSegments(e,t.segments,r,i);let o={};return Object.entries(t.children).forEach(([a,c])=>{o[a]=this.createSegmentGroup(e,c,r,i)}),new In(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path.startsWith(":")?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new J(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const dw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function m9e(n,e,t,r,i){const s=fw(n,e,t);return s.matched?(r=function Fme(n,e){return n.providers&&!n._injector&&(n._injector=Vb(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function d9e(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?nt(i.map(o=>{const a=D4(o,n);return c2(function e9e(n){return n&&_f(n.canMatch)}(a)?a.canMatch(e,t):n.runInContext(()=>a(e,t)))})).pipe(L4(),$U()):nt(!0)}(r,e,t).pipe(dt(o=>!0===o?s:{...dw}))):nt(s)}function fw(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...dw}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Wpe)(t,n,e);if(!i)return{...dw};const s={};Object.entries(i.posParams??{}).forEach(([a,c])=>{s[a]=c.path});const o=i.consumed.length>0?{...s,...i.consumed[i.consumed.length-1].parameters}:s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function qU(n,e,t,r){return t.length>0&&function y9e(n,e,t){return t.some(r=>Yp(n,e,r)&&Ma(r)!==bt)}(n,t,r)?{segmentGroup:new In(e,_9e(r,new In(t,n.children))),slicedSegments:[]}:0===t.length&&function v9e(n,e,t){return t.some(r=>Yp(n,e,r))}(n,t,r)?{segmentGroup:new In(n.segments,g9e(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new In(n.segments,n.children),slicedSegments:t}}function g9e(n,e,t,r,i){const s={};for(const o of r)if(Yp(n,t,o)&&!i[Ma(o)]){const a=new In([],{});s[Ma(o)]=a}return{...i,...s}}function _9e(n,e){const t={};t[bt]=e;for(const r of n)if(""===r.path&&Ma(r)!==bt){const i=new In([],{});t[Ma(r)]=i}return t}function Yp(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class E9e{constructor(e,t,r,i,s,o,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.allowRedirects=!0,this.applyRedirects=new p9e(this.urlSerializer,this.urlTree)}noMatchError(e){return new J(4002,!1)}recognize(){const e=qU(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,bt).pipe(kl(t=>{if(t instanceof HU)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Qp?this.noMatchError(t):t}),dt(t=>{const r=new Gp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},bt,this.rootComponentType,null,{}),i=new Q1(r,t),s=new PU("",i),o=function hme(n,e,t=null,r=null){return wU(CU(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),this.inheritParamsAndData(s._root),{state:s,tree:o}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,bt).pipe(kl(r=>{throw r instanceof Qp?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=NU(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const s of Object.keys(r.children))"primary"===s?i.unshift(s):i.push(s);return Kr(i).pipe(I4(s=>{const o=r.children[s],a=function jme(n,e){const t=n.filter(r=>Ma(r)===e);return t.push(...n.filter(r=>Ma(r)!==e)),t}(t,s);return this.processSegmentGroup(e,a,o,s)}),function Hpe(n,e){return dr(function $pe(n,e,t,r,i){return(s,o)=>{let a=t,c=e,u=0;s.subscribe(On(o,d=>{const f=u++;c=a?n(c,d,f):(a=!0,d),r&&o.next(c)},i&&(()=>{a&&o.next(c),o.complete()})))}}(n,e,arguments.length>=2,!0))}((s,o)=>(s.push(...o),s)),Op(null),function Gpe(n,e){const t=arguments.length>=2;return r=>r.pipe(n?mr((i,s)=>n(i,s,r)):pa,QC(1),t?Op(e):aU(()=>new Xd))}(),ri(s=>{if(null===s)return R4(r);const o=WU(s);return function T9e(n){n.sort((e,t)=>e.value.outlet===bt?-1:t.value.outlet===bt?1:e.value.outlet.localeCompare(t.value.outlet))}(o),nt(o)}))}processSegment(e,t,r,i,s,o){return Kr(t).pipe(I4(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o).pipe(kl(c=>{if(c instanceof Qp)return nt(null);throw c}))),Ol(a=>!!a),kl(a=>{if(jU(a))return function C9e(n,e,t){return 0===e.length&&!n.children[t]}(r,i,s)?nt([]):R4(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,a){return function b9e(n,e,t,r){return!!(Ma(n)===r||r!==bt&&Yp(e,t,n))&&("**"===n.path||fw(e,n,t).matched)}(r,i,s,o)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,s,o,a):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o):R4(i):R4(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,o):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const s=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?GU(s):this.applyRedirects.lineralizeSegments(r,s).pipe(ri(o=>{const a=new In(o,{});return this.processSegment(e,t,a,o,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o){const{matched:a,consumedSegments:c,remainingSegments:u,positionalParamSegments:d}=fw(t,i,s);if(!a)return R4(t);const f=this.applyRedirects.applyRedirectCommands(c,i.redirectTo,d);return i.redirectTo.startsWith("/")?GU(f):this.applyRedirects.lineralizeSegments(i,f).pipe(ri(p=>this.processSegment(e,r,t,p.concat(u),o,!1)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let a;if("**"===r.path){const c=i.length>0?uU(i).parameters:{};a=nt({snapshot:new Gp(i,c,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,KU(r),Ma(r),r.component??r._loadedComponent??null,r,QU(r)),consumedSegments:[],remainingSegments:[]}),t.children={}}else a=m9e(t,r,i,e).pipe(dt(({matched:c,consumedSegments:u,remainingSegments:d,parameters:f})=>c?{snapshot:new Gp(u,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,KU(r),Ma(r),r.component??r._loadedComponent??null,r,QU(r)),consumedSegments:u,remainingSegments:d}:null));return a.pipe(Ri(c=>null===c?R4(t):this.getChildConfig(e=r._injector??e,r,i).pipe(Ri(({routes:u})=>{const d=r._loadedInjector??e,{snapshot:f,consumedSegments:p,remainingSegments:g}=c,{segmentGroup:y,slicedSegments:C}=qU(t,p,g,u);if(0===C.length&&y.hasChildren())return this.processChildren(d,u,y).pipe(dt(N=>null===N?null:[new Q1(f,N)]));if(0===u.length&&0===C.length)return nt([new Q1(f,[])]);const w=Ma(r)===s;return this.processSegment(d,u,y,C,w?bt:s,!0).pipe(dt(N=>[new Q1(f,N)]))}))))}getChildConfig(e,t,r){return t.children?nt({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?nt({routes:t._loadedRoutes,injector:t._loadedInjector}):function u9e(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?nt(!0):nt(i.map(o=>{const a=D4(o,n);return c2(function Yme(n){return n&&_f(n.canLoad)}(a)?a.canLoad(e,t):n.runInContext(()=>a(e,t)))})).pipe(L4(),$U())}(e,t,r).pipe(ri(i=>i?this.configLoader.loadChildren(e,t).pipe(Ir(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):function h9e(n){return ef(FU(!1,3))}())):nt({routes:[],injector:e})}}function I9e(n){const e=n.value.routeConfig;return e&&""===e.path}function WU(n){const e=[],t=new Set;for(const r of n){if(!I9e(r)){e.push(r);continue}const i=e.find(s=>r.value.routeConfig===s.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=WU(r.children);e.push(new Q1(r.value,i))}return e.filter(r=>!t.has(r))}function KU(n){return n.data||{}}function QU(n){return n.resolve||{}}function S9e(n,e){return ri(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return nt(t);let s=0;return Kr(i).pipe(I4(o=>function A9e(n,e,t,r){const i=n.routeConfig,s=n._resolve;return void 0!==i?.title&&!YU(i)&&(s[nf]=i.title),function x9e(n,e,t,r){const i=function D9e(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return nt({});const s={};return Kr(i).pipe(ri(o=>function L9e(n,e,t,r){const i=pf(e)??r,s=D4(n,i);return c2(s.resolve?s.resolve(e,t):i.runInContext(()=>s(e,t)))}(n[o],e,t,r).pipe(Ol(),Ir(a=>{s[o]=a}))),QC(1),function cU(n){return dt(()=>n)}(s),kl(o=>jU(o)?Ho:ef(o)))}(s,n,e,r).pipe(dt(o=>(n._resolvedData=o,n.data=NU(n,t).resolve,i&&YU(i)&&(n.data[nf]=i.title),null)))}(o.route,r,n,e)),Ir(()=>s++),QC(1),ri(o=>s===i.length?nt(t):Ho))})}function YU(n){return"string"==typeof n.title||null===n.title}function hw(n){return Ri(e=>{const t=n(e);return t?Kr(t).pipe(dt(()=>e)):nt(e)})}const N4=new Me("ROUTES");let pw=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=me(MV)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return nt(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=c2(t.loadComponent()).pipe(dt(JU),Ir(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),tf(()=>{this.componentLoaders.delete(t)})),i=new sU(r,()=>new xt).pipe(KC());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return nt({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const s=function R9e(n,e,t,r){return c2(n.loadChildren()).pipe(dt(JU),ri(i=>i instanceof OF||Array.isArray(i)?nt(i):Kr(e.compileModuleAsync(i))),dt(i=>{r&&r(n);let s,o,a=!1;return Array.isArray(i)?(o=i,!0):(s=i.create(t).injector,o=s.get(N4,[],{optional:!0,self:!0}).flat()),{routes:o.map(uw),injector:s}}))}(r,this.compiler,t,this.onLoadEndListener).pipe(tf(()=>{this.childrenLoaders.delete(r)})),o=new sU(s,()=>new xt).pipe(KC());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function JU(n){return function N9e(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Jp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new xt,this.transitionAbortSubject=new xt,this.configLoader=me(pw),this.environmentInjector=me(Cs),this.urlSerializer=me(sf),this.rootContexts=me(ff),this.inputBindingEnabled=null!==me(qp,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>nt(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new Ime(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new Tme(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t,r,i){return this.transitions=new Xi({id:0,currentUrlTree:r,currentRawUrl:r,currentBrowserUrl:r,extractedUrl:t.urlHandlingStrategy.extract(r),urlAfterRedirects:t.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:uf,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(mr(s=>0!==s.id),dt(s=>({...s,extractedUrl:t.urlHandlingStrategy.extract(s.rawUrl)})),Ri(s=>{this.currentTransition=s;let o=!1,a=!1;return nt(s).pipe(Ir(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ri(c=>{const u=c.currentBrowserUrl.toString(),d=!t.navigated||c.extractedUrl.toString()!==u||u!==c.currentUrlTree.toString();if(!d&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const p="";return this.events.next(new A4(c.id,this.urlSerializer.serialize(c.rawUrl),p,0)),c.resolve(null),Ho}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return nt(c).pipe(Ri(p=>{const g=this.transitions?.getValue();return this.events.next(new $p(p.id,this.urlSerializer.serialize(p.extractedUrl),p.source,p.restoredState)),g!==this.transitions?.getValue()?Ho:Promise.resolve(p)}),function M9e(n,e,t,r,i,s){return ri(o=>function w9e(n,e,t,r,i,s,o="emptyOnly"){return new E9e(n,e,t,r,i,o,s).recognize()}(n,e,t,r,o.extractedUrl,i,s).pipe(dt(({state:a,tree:c})=>({...o,targetSnapshot:a,urlAfterRedirects:c}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),Ir(p=>{s.targetSnapshot=p.targetSnapshot,s.urlAfterRedirects=p.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:p.urlAfterRedirects};const g=new AU(p.id,this.urlSerializer.serialize(p.extractedUrl),this.urlSerializer.serialize(p.urlAfterRedirects),p.targetSnapshot);this.events.next(g)}));if(d&&t.urlHandlingStrategy.shouldProcessUrl(c.currentRawUrl)){const{id:p,extractedUrl:g,source:y,restoredState:C,extras:w}=c,N=new $p(p,this.urlSerializer.serialize(g),y,C);this.events.next(N);const R=RU(0,this.rootComponentType).snapshot;return this.currentTransition=s={...c,targetSnapshot:R,urlAfterRedirects:g,extras:{...w,skipLocationChange:!1,replaceUrl:!1}},nt(s)}{const p="";return this.events.next(new A4(c.id,this.urlSerializer.serialize(c.extractedUrl),p,1)),c.resolve(null),Ho}}),Ir(c=>{const u=new bme(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(u)}),dt(c=>(this.currentTransition=s={...c,guards:Gme(c.targetSnapshot,c.currentSnapshot,this.rootContexts)},s)),function n9e(n,e){return ri(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return 0===o.length&&0===s.length?nt({...t,guardsResult:!0}):function r9e(n,e,t,r){return Kr(n).pipe(ri(i=>function l9e(n,e,t,r,i){const s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return s&&0!==s.length?nt(s.map(a=>{const c=pf(e)??i,u=D4(a,c);return c2(function Zme(n){return n&&_f(n.canDeactivate)}(u)?u.canDeactivate(n,e,t,r):c.runInContext(()=>u(n,e,t,r))).pipe(Ol())})).pipe(L4()):nt(!0)}(i.component,i.route,t,e,r)),Ol(i=>!0!==i,!0))}(o,r,i,n).pipe(ri(a=>a&&function Qme(n){return"boolean"==typeof n}(a)?function i9e(n,e,t,r){return Kr(e).pipe(I4(i=>Zd(function o9e(n,e){return null!==n&&e&&e(new Mme(n)),nt(!0)}(i.route.parent,r),function s9e(n,e){return null!==n&&e&&e(new Ame(n)),nt(!0)}(i.route,r),function c9e(n,e,t){const r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>function qme(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(o)).filter(o=>null!==o).map(o=>iU(()=>nt(o.guards.map(c=>{const u=pf(o.node)??t,d=D4(c,u);return c2(function Xme(n){return n&&_f(n.canActivateChild)}(d)?d.canActivateChild(r,n):u.runInContext(()=>d(r,n))).pipe(Ol())})).pipe(L4())));return nt(s).pipe(L4())}(n,i.path,t),function a9e(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return nt(!0);const i=r.map(s=>iU(()=>{const o=pf(e)??t,a=D4(s,o);return c2(function Jme(n){return n&&_f(n.canActivate)}(a)?a.canActivate(e,n):o.runInContext(()=>a(e,n))).pipe(Ol())}));return nt(i).pipe(L4())}(n,i.route,t))),Ol(i=>!0!==i,!0))}(r,s,n,e):nt(a)),dt(a=>({...t,guardsResult:a})))})}(this.environmentInjector,c=>this.events.next(c)),Ir(c=>{if(s.guardsResult=c.guardsResult,Vl(c.guardsResult))throw kU(0,c.guardsResult);const u=new Cme(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(u)}),mr(c=>!!c.guardsResult||(this.cancelNavigationTransition(c,"",3),!1)),hw(c=>{if(c.guards.canActivateChecks.length)return nt(c).pipe(Ir(u=>{const d=new wme(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),Ri(u=>{let d=!1;return nt(u).pipe(S9e(t.paramsInheritanceStrategy,this.environmentInjector),Ir({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",2)}}))}),Ir(u=>{const d=new Eme(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),hw(c=>{const u=d=>{const f=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&f.push(this.configLoader.loadComponent(d.routeConfig).pipe(Ir(p=>{d.component=p}),dt(()=>{})));for(const p of d.children)f.push(...u(p));return f};return WC(u(c.targetSnapshot.root)).pipe(Op(),Bi(1))}),hw(()=>this.afterPreactivation()),dt(c=>{const u=function Pme(n,e,t){const r=hf(n,e._root,t?t._root:void 0);return new LU(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return this.currentTransition=s={...c,targetRouterState:u},s}),Ir(()=>{this.events.next(new tw)}),((n,e,t,r)=>dt(i=>(new Hme(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c),this.inputBindingEnabled),Bi(1),Ir({next:c=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new l2(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{o=!0}}),Mr(this.transitionAbortSubject.pipe(Ir(c=>{throw c}))),tf(()=>{o||a||this.cancelNavigationTransition(s,"",1),this.currentNavigation?.id===s.id&&(this.currentNavigation=null)}),kl(c=>{if(a=!0,VU(c))this.events.next(new df(s.id,this.urlSerializer.serialize(s.extractedUrl),c.message,c.cancellationCode)),function kme(n){return VU(n)&&Vl(n.url)}(c)?this.events.next(new nw(c.url)):s.resolve(!1);else{this.events.next(new Hp(s.id,this.urlSerializer.serialize(s.extractedUrl),c,s.targetSnapshot??void 0));try{s.resolve(t.errorHandler(c))}catch(u){s.reject(u)}}return Ho}))}))}cancelNavigationTransition(t,r,i){const s=new df(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function XU(n){return n!==uf}let ZU=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===bt);return r}getResolvedTitleForRoute(t){return t.data[nf]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:function(){return me(P9e)},providedIn:"root"})}}return n})(),P9e=(()=>{class n extends ZU{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(de(YB))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),z9e=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:function(){return me(k9e)},providedIn:"root"})}}return n})();class O9e{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let k9e=(()=>{class n extends O9e{static{this.\u0275fac=function(){let t;return function(i){return(t||(t=zr(n)))(i||n)}}()}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const Xp=new Me("",{providedIn:"root",factory:()=>({})});let F9e=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:function(){return me(V9e)},providedIn:"root"})}}return n})(),V9e=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var yf=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(yf||{});function ej(n,e){n.events.pipe(mr(t=>t instanceof l2||t instanceof df||t instanceof Hp||t instanceof A4),dt(t=>t instanceof l2||t instanceof A4?yf.COMPLETE:t instanceof df&&(0===t.code||1===t.code)?yf.REDIRECTING:yf.FAILED),mr(t=>t!==yf.REDIRECTING),Bi(1)).subscribe(()=>{e()})}function B9e(n){throw n}function U9e(n,e,t){return e.parse("/")}const j9e={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},$9e={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let vi=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return"computed"!==this.canceledNavigationResolution?this.currentPageId:this.location.getState()?.\u0275routerPageId??this.currentPageId}get events(){return this._events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=me(IV),this.isNgZoneEnabled=!1,this._events=new xt,this.options=me(Xp,{optional:!0})||{},this.pendingTasks=me(pp),this.errorHandler=this.options.errorHandler||B9e,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||U9e,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=me(F9e),this.routeReuseStrategy=me(z9e),this.titleStrategy=me(ZU),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=me(N4,{optional:!0})?.flat()??[],this.navigationTransitions=me(Jp),this.urlSerializer=me(sf),this.location=me(yC),this.componentInputBindingEnabled=!!me(qp,{optional:!0}),this.eventsSubscription=new Lr,this.isNgZoneEnabled=me(pt)instanceof pt&&pt.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new S4,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=RU(0,null),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){const t=this.navigationTransitions.events.subscribe(r=>{try{const{currentTransition:i}=this.navigationTransitions;if(null===i)return void(tj(r)&&this._events.next(r));if(r instanceof $p)XU(i.source)&&(this.browserUrlTree=i.extractedUrl);else if(r instanceof A4)this.rawUrlTree=i.rawUrl;else if(r instanceof AU){if("eager"===this.urlUpdateStrategy){if(!i.extras.skipLocationChange){const s=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl);this.setBrowserUrl(s,i)}this.browserUrlTree=i.urlAfterRedirects}}else if(r instanceof tw)this.currentUrlTree=i.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(i.urlAfterRedirects,i.rawUrl),this.routerState=i.targetRouterState,"deferred"===this.urlUpdateStrategy&&(i.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,i),this.browserUrlTree=i.urlAfterRedirects);else if(r instanceof df)0!==r.code&&1!==r.code&&(this.navigated=!0),(3===r.code||2===r.code)&&this.restoreHistory(i);else if(r instanceof nw){const s=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),o={skipLocationChange:i.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||XU(i.source)};this.scheduleNavigation(s,uf,null,o,{resolve:i.resolve,reject:i.reject,promise:i.promise})}r instanceof Hp&&this.restoreHistory(i,!0),r instanceof l2&&(this.navigated=!0),tj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),uf,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){const c={...i};delete c.navigationId,delete c.\u0275routerPageId,0!==Object.keys(c).length&&(s.state=c)}const a=this.parseUrl(t);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(uw),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){const{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:c}=r,u=c?this.currentUrlTree.fragment:o;let f,d=null;switch(a){case"merge":d={...this.currentUrlTree.queryParams,...s};break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}null!==d&&(d=this.removeEmptyProps(d));try{f=CU(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),f=this.currentUrlTree.root}return wU(f,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Vl(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,uf,null,r)}navigate(t,r={skipLocationChange:!1}){return function H9e(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new J(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...j9e}:!1===r?{...$9e}:r,Vl(t))return fU(this.currentUrlTree,t,i);const s=this.parseUrl(t);return fU(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const s=t[i];return null!=s&&(r[i]=s),r},{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,c,u;o?(a=o.resolve,c=o.reject,u=o.promise):u=new Promise((f,p)=>{a=f,c=p});const d=this.pendingTasks.add();return ej(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,currentBrowserUrl:this.browserUrlTree,rawUrl:t,extras:s,resolve:a,reject:c,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(f=>Promise.reject(f))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const o={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",o)}else{const s={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId+1)};this.location.go(i,"",s)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-this.browserPageId;0!==s?this.location.historyGo(s):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function tj(n){return!(n instanceof tw||n instanceof nw)}let Ul=(()=>{class n{constructor(t,r,i,s,o,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.commands=null,this.onChanges=new xt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1;const c=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===c||"area"===c,this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof l2&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,s,o){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||s||o||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:function Uz(n,e,t){return function z4e(n,e){return"src"===e&&("embed"===n||"frame"===n||"iframe"===n||"media"===n||"script"===n)||"href"===e&&("base"===n||"link"===n)?Bz:Vz}(e,t)(n)}(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,s=this.el.nativeElement;null!==r?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(V(vi),V(Bl),function Il(n){return function X0e(n,e){if("class"===e)return n.classes;if("style"===e)return n.styles;const t=n.attrs;if(t){const r=t.length;let i=0;for(;i<r;){const s=t[i];if(NN(s))break;if(0===s)i+=2;else if("number"==typeof s)for(i++;i<r&&"string"==typeof t[i];)i++;else{if(s===e)return t[i+1];i+=2}}}return null}(Fi(),n)}("tabindex"),V(qs),V(dn),V(zl))}}static{this.\u0275dir=ve({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){1&r&&Qe("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&r&&qt("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:["preserveFragment","preserveFragment",w4],skipLocationChange:["skipLocationChange","skipLocationChange",w4],replaceUrl:["replaceUrl","replaceUrl",w4],routerLink:"routerLink"},standalone:!0,features:[tk,Qr]})}}return n})();class nj{}let W9e=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(mr(t=>t instanceof l2),I4(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const s of r){s.providers&&!s._injector&&(s._injector=Vb(s.providers,t,`Route: ${s.path}`));const o=s._injector??t,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&void 0===s.canLoad||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Kr(i).pipe(I3())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):nt(null);const s=i.pipe(ri(o=>null===o?nt(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));return r.loadComponent&&!r._loadedComponent?Kr([s,this.loader.loadComponent(r)]).pipe(I3()):s})}static{this.\u0275fac=function(r){return new(r||n)(de(vi),de(MV),de(Cs),de(nj),de(pw))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();const mw=new Me("");let rj=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration=o.scrollPositionRestoration||"disabled",o.anchorScrolling=o.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof $p?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof l2?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof A4&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof xU&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new xU(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){!function AO(){throw new Error("invalid")}()}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();function Y1(n,e){return{\u0275kind:n,\u0275providers:e}}function sj(){const n=me(tr);return e=>{const t=n.get(wa);if(e!==t.components[0])return;const r=n.get(vi),i=n.get(oj);1===n.get(gw)&&r.initialNavigation(),n.get(aj,null,Rt.Optional)?.setUpPreloading(),n.get(mw,null,Rt.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const oj=new Me("",{factory:()=>new xt}),gw=new Me("",{providedIn:"root",factory:()=>1}),aj=new Me("");function J9e(n){return Y1(0,[{provide:aj,useExisting:W9e},{provide:nj,useExisting:n}])}const cj=new Me("ROUTER_FORROOT_GUARD"),Z9e=[yC,{provide:sf,useClass:YC},vi,ff,{provide:Bl,useFactory:function ij(n){return n.routerState.root},deps:[vi]},pw,[]];function ege(){return new NV("Router",vi)}let lj=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Z9e,[],{provide:N4,multi:!0,useValue:t},{provide:cj,useFactory:ige,deps:[[vi,new Vi,new g7]]},{provide:Xp,useValue:r||{}},r?.useHash?{provide:zl,useClass:_5e}:{provide:zl,useClass:uB},{provide:mw,useFactory:()=>{const n=me(N7e),e=me(pt),t=me(Xp),r=me(Jp),i=me(sf);return t.scrollOffset&&n.setOffset(t.scrollOffset),new rj(i,r,n,e,t)}},r?.preloadingStrategy?J9e(r.preloadingStrategy).\u0275providers:[],{provide:NV,multi:!0,useFactory:ege},r?.initialNavigation?sge(r):[],r?.bindToComponentInputs?Y1(8,[OU,{provide:qp,useExisting:OU}]).\u0275providers:[],[{provide:uj,useFactory:sj},{provide:aC,multi:!0,useExisting:uj}]]}}static forChild(t){return{ngModule:n,providers:[{provide:N4,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(de(cj,8))}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({})}}return n})();function ige(n){return"guarded"}function sge(n){return["disabled"===n.initialNavigation?Y1(3,[{provide:Zb,multi:!0,useFactory:()=>{const e=me(vi);return()=>{e.setUpLocationChangeListener()}}},{provide:gw,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Y1(2,[{provide:gw,useValue:0},{provide:Zb,multi:!0,deps:[tr],useFactory:e=>{const t=e.get(m5e,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(vi),s=e.get(oj);ej(i,()=>{r(!0)}),e.get(Jp).afterPreactivation=()=>(r(!0),s.closed?nt(void 0):s),i.initialNavigation()}))}}]).\u0275providers:[]]}const uj=new Me("");function dj(n,e,t,r,i,s,o){try{var a=n[s](o),c=a.value}catch(u){return void t(u)}a.done?e(c):Promise.resolve(c).then(r,i)}function D(n){return function(){var e=this,t=arguments;return new Promise(function(r,i){var s=n.apply(e,t);function o(c){dj(s,r,i,o,a,"next",c)}function a(c){dj(s,r,i,o,a,"throw",c)}o(void 0)})}}const Cw={prefix:"fas",iconName:"pen-to-square",icon:[512,512,["edit"],"f044","M471.6 21.7c-21.9-21.9-57.3-21.9-79.2 0L362.3 51.7l97.9 97.9 30.1-30.1c21.9-21.9 21.9-57.3 0-79.2L471.6 21.7zm-299.2 220c-6.1 6.1-10.8 13.6-13.5 21.9l-29.6 88.8c-2.9 8.6-.6 18.1 5.8 24.6s15.9 8.7 24.6 5.8l88.8-29.6c8.2-2.7 15.7-7.4 21.9-13.5L437.7 172.3 339.7 74.3 172.4 241.7zM96 64C43 64 0 107 0 160L0 416c0 53 43 96 96 96l256 0c53 0 96-43 96-96l0-96c0-17.7-14.3-32-32-32s-32 14.3-32 32l0 96c0 17.7-14.3 32-32 32L96 448c-17.7 0-32-14.3-32-32l0-256c0-17.7 14.3-32 32-32l96 0c17.7 0 32-14.3 32-32s-14.3-32-32-32L96 64z"]},Ow={prefix:"fas",iconName:"trash",icon:[448,512,[],"f1f8","M135.2 17.7L128 32 32 32C14.3 32 0 46.3 0 64S14.3 96 32 96l384 0c17.7 0 32-14.3 32-32s-14.3-32-32-32l-96 0-7.2-14.3C307.4 6.8 296.3 0 284.2 0L163.8 0c-12.1 0-23.2 6.8-28.6 17.7zM416 128L32 128 53.2 467c1.6 25.3 22.6 45 47.9 45l245.8 0c25.3 0 46.3-19.7 47.9-45L416 128z"]},iE={prefix:"fas",iconName:"check",icon:[448,512,[10003,10004],"f00c","M438.6 105.4c12.5 12.5 12.5 32.8 0 45.3l-256 256c-12.5 12.5-32.8 12.5-45.3 0l-128-128c-12.5-12.5-12.5-32.8 0-45.3s32.8-12.5 45.3 0L160 338.7 393.4 105.4c12.5-12.5 32.8-12.5 45.3 0z"]},BQ=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},UQ={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0;let p=(15&a)<<2|u>>6,g=63&u;c||(g=64,o||(p=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[p],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(BQ(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const u=i<n.length?t[n.charAt(i)]:64;++i;const f=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==u||null==f)throw new j$e;r.push(s<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==f&&r.push(u<<6&192|f))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class j$e extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const mm=function(n){return function(n){const e=BQ(n);return UQ.encodeByteArray(e,!0)}(n).replace(/\./g,"")},gm=function(n){try{return UQ.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null},_m=()=>{try{return function G$e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&gm(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}},$Q=n=>{var e,t;return null===(t=null===(e=_m())||void 0===e?void 0:e.emulatorHosts)||void 0===t?void 0:t[n]},HQ=n=>{const e=$Q(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return"["===e[0]?[e.substring(1,t-1),r]:[e.substring(0,t),r]},GQ=()=>{var n;return null===(n=_m())||void 0===n?void 0:n.config},qQ=n=>{var e;return null===(e=_m())||void 0===e?void 0:e[`_${n}`]};class WQ{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),"function"==typeof e&&(this.promise.catch(()=>{}),1===e.length?e(t):e(t,r))}}}function KQ(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[mm(JSON.stringify({alg:"none",type:"JWT"})),mm(JSON.stringify(o)),""].join(".")}function kr(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}class t1 extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,t1.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tf.prototype.create)}}class Tf{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function iHe(n,e){return n.replace(sHe,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new t1(i,`${this.serviceName}: ${o} (${i}).`,r)}}const sHe=/\{\$([^}]+)}/g;function P4(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],o=e[i];if(XQ(s)&&XQ(o)){if(!P4(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function XQ(n){return null!==n&&"object"==typeof n}function If(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Mf(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Sf(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}class cHe{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(void 0===e&&void 0===t&&void 0===r)throw new Error("Missing Observer.");i=function lHe(n,e){if("object"!=typeof n||null===n)return!1;for(const t of e)if(t in n&&"function"==typeof n[t])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:r},void 0===i.next&&(i.next=fE),void 0===i.error&&(i.error=fE),void 0===i.complete&&(i.complete=fE);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){void 0===this.observers||void 0===this.observers[e]||(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function fE(){}function Jr(n){return n&&n._delegate?n._delegate:n}class u2{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const jl="[DEFAULT]";class mHe{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new WQ;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e?.identifier),i=null!==(t=e?.optional)&&void 0!==t&&t;if(!this.isInitialized(r)&&!this.shouldAutoInitialize()){if(i)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,this.shouldAutoInitialize()){if(function _He(n){return"EAGER"===n.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:jl})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=jl){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){var e=this;return D(function*(){const t=Array.from(e.instances.values());yield Promise.all([...t.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...t.filter(r=>"_delete"in r).map(r=>r._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(e=jl){return this.instances.has(e)}getOptions(e=jl){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,o]of this.instancesDeferred.entries())r===this.normalizeInstanceIdentifier(s)&&o.resolve(i);return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=null!==(r=this.onInitCallbacks.get(i))&&void 0!==r?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:(n=e,n===jl?void 0:n),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}var n;return r||null}normalizeInstanceIdentifier(e=jl){return this.component?this.component.multipleInstances?e:jl:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class yHe{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new mHe(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const pE=[];var Ft=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Ft||{});const ZQ={debug:Ft.DEBUG,verbose:Ft.VERBOSE,info:Ft.INFO,warn:Ft.WARN,error:Ft.ERROR,silent:Ft.SILENT},vHe=Ft.INFO,bHe={[Ft.DEBUG]:"log",[Ft.VERBOSE]:"log",[Ft.INFO]:"info",[Ft.WARN]:"warn",[Ft.ERROR]:"error"},CHe=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=bHe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class mE{constructor(e){this.name=e,this._logLevel=vHe,this._logHandler=CHe,this._userLogHandler=null,pE.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ft))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?ZQ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ft.DEBUG,...e),this._logHandler(this,Ft.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ft.VERBOSE,...e),this._logHandler(this,Ft.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ft.INFO,...e),this._logHandler(this,Ft.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ft.WARN,...e),this._logHandler(this,Ft.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ft.ERROR,...e),this._logHandler(this,Ft.ERROR,...e)}}const wHe=(n,e)=>e.some(t=>n instanceof t);let eY,tY;const nY=new WeakMap,gE=new WeakMap,rY=new WeakMap,_E=new WeakMap,yE=new WeakMap;let vE={get(n,e,t){if(n instanceof IDBTransaction){if("done"===e)return gE.get(n);if("objectStoreNames"===e)return n.objectStoreNames||rY.get(n);if("store"===e)return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return d2(n[e])},set:(n,e,t)=>(n[e]=t,!0),has:(n,e)=>n instanceof IDBTransaction&&("done"===e||"store"===e)||e in n};function xHe(n){return"function"==typeof n?function AHe(n){return n!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function THe(){return tY||(tY=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(n)?function(...e){return n.apply(bE(this),e),d2(nY.get(this))}:function(...e){return d2(n.apply(bE(this),e))}:function(e,...t){const r=n.call(bE(this),e,...t);return rY.set(r,e.sort?e.sort():[e]),d2(r)}}(n):(n instanceof IDBTransaction&&function MHe(n){if(gE.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});gE.set(n,e)}(n),wHe(n,function EHe(){return eY||(eY=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(n,vE):n)}function d2(n){if(n instanceof IDBRequest)return function IHe(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(d2(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&nY.set(t,n)}).catch(()=>{}),yE.set(e,n),e}(n);if(_E.has(n))return _E.get(n);const e=xHe(n);return e!==n&&(_E.set(n,e),yE.set(e,n)),e}const bE=n=>yE.get(n);function iY(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(n,e),a=d2(o);return r&&o.addEventListener("upgradeneeded",c=>{r(d2(o.result),c.oldVersion,c.newVersion,d2(o.transaction),c)}),t&&o.addEventListener("blocked",c=>t(c.oldVersion,c.newVersion,c)),a.then(c=>{s&&c.addEventListener("close",()=>s()),i&&c.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const DHe=["get","getKey","getAll","getAllKeys","count"],LHe=["put","add","delete","clear"],CE=new Map;function sY(n,e){if(!(n instanceof IDBDatabase)||e in n||"string"!=typeof e)return;if(CE.get(e))return CE.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=LHe.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!DHe.includes(t))return;const s=function(){var o=D(function*(a,...c){const u=this.transaction(a,i?"readwrite":"readonly");let d=u.store;return r&&(d=d.index(c.shift())),(yield Promise.all([d[t](...c),i&&u.done]))[0]});return function(c){return o.apply(this,arguments)}}();return CE.set(e,s),s}!function SHe(n){vE=n(vE)}(n=>({...n,get:(e,t,r)=>sY(e,t)||n.get(e,t,r),has:(e,t)=>!!sY(e,t)||n.has(e,t)}));class RHe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function NHe(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const vm="@firebase/app",wE="0.10.13",J1=new mE("@firebase/app"),bm="[DEFAULT]",aGe={[vm]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai-preview":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},$l=new Map,Af=new Map,xf=new Map;function oY(n,e){try{n.container.addComponent(e)}catch(t){J1.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Hl(n){const e=n.name;if(xf.has(e))return J1.debug(`There were multiple attempts to register component ${e}.`),!1;xf.set(e,n);for(const t of $l.values())oY(t,n);for(const t of Af.values())oY(t,n);return!0}function Df(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Sa(n){return void 0!==n.settings}const Zo=new Tf("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class aY{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new u2("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zo.create("app-deleted",{appName:this._name})}}const Gl="10.14.1";function cY(n,e={}){let t=n;"object"!=typeof e&&(e={name:e});const r=Object.assign({name:bm,automaticDataCollectionEnabled:!1},e),i=r.name;if("string"!=typeof i||!i)throw Zo.create("bad-app-name",{appName:String(i)});if(t||(t=GQ()),!t)throw Zo.create("no-options");const s=$l.get(i);if(s){if(P4(t,s.options)&&P4(r,s.config))return s;throw Zo.create("duplicate-app",{appName:i})}const o=new yHe(i);for(const c of xf.values())o.addComponent(c);const a=new aY(t,r,o);return $l.set(i,a),a}function Cm(n=bm){const e=$l.get(n);if(!e&&n===bm&&GQ())return cY();if(!e)throw Zo.create("no-app",{appName:n});return e}function lY(){return Array.from($l.values())}function Ui(n,e,t){var r;let i=null!==(r=aGe[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void J1.warn(a.join(" "))}Hl(new u2(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const fGe="firebase-heartbeat-database",hGe=1,Lf="firebase-heartbeat-store";let TE=null;function uY(){return TE||(TE=iY(fGe,hGe,{upgrade:(n,e)=>{if(0===e)try{n.createObjectStore(Lf)}catch(t){console.warn(t)}}}).catch(n=>{throw Zo.create("idb-open",{originalErrorMessage:n.message})})),TE}function IE(){return(IE=D(function*(n){try{const t=(yield uY()).transaction(Lf),r=yield t.objectStore(Lf).get(fY(n));return yield t.done,r}catch(e){if(e instanceof t1)J1.warn(e.message);else{const t=Zo.create("idb-get",{originalErrorMessage:e?.message});J1.warn(t.message)}}})).apply(this,arguments)}function dY(n,e){return ME.apply(this,arguments)}function ME(){return(ME=D(function*(n,e){try{const r=(yield uY()).transaction(Lf,"readwrite");yield r.objectStore(Lf).put(e,fY(n)),yield r.done}catch(t){if(t instanceof t1)J1.warn(t.message);else{const r=Zo.create("idb-set",{originalErrorMessage:t?.message});J1.warn(r.message)}}})).apply(this,arguments)}function fY(n){return`${n.name}!${n.options.appId}`}class _Ge{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new vGe(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return D(function*(){var t,r;try{const s=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=hY();return null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===o||e._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(e._heartbeatsCache.heartbeats.push({date:o,agent:s}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=2592e6}),e._storage.overwrite(e._heartbeatsCache))}catch(i){J1.warn(i)}})()}getHeartbeatsHeader(){var e=this;return D(function*(){var t;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=hY(),{heartbeatsToSend:i,unsentEntries:s}=function yGe(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),pY(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),pY(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=mm(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o}catch(r){return J1.warn(r),""}})()}}function hY(){return(new Date).toISOString().substring(0,10)}class vGe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return D(function*(){return!!function YQ(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function nHe(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return D(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function pGe(n){return IE.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return D(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return dY(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return D(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return dY(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function pY(n){return mm(JSON.stringify({version:2,heartbeats:n})).length}!function bGe(n){Hl(new u2("platform-logger",e=>new RHe(e),"PRIVATE")),Hl(new u2("heartbeat",e=>new _Ge(e),"PRIVATE")),Ui(vm,wE,n),Ui(vm,wE,"esm2017"),Ui("fire-js","")}(""),Ui("firebase","10.14.1","app");class EGe extends Lr{constructor(e,t){super()}schedule(e,t=0){return this}}const wm={setInterval(n,e,...t){const{delegate:r}=wm;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=wm;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};class mY extends EGe{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,s=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(s,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(s,this.id,t),this}requestAsyncId(e,t,r=0){return wm.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&wm.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,Gc(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const SE={now:()=>(SE.delegate||Date).now(),delegate:void 0};class Rf{constructor(e,t=Rf.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Rf.now=SE.now;class gY extends Rf{constructor(e,t=Rf.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const MGe=new class IGe extends gY{}(class TGe extends mY{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),AE=new gY(mY),SGe=AE,Nf=new n4("ANGULARFIRE2_VERSION");function xE(n,e,t){if(e){if(1===e.length)return e[0];const s=e.filter(o=>o.app===t);if(1===s.length)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}const Em=(n,e)=>{const t=e?[e]:lY(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r};class DE{constructor(){return Em(AGe)}}const AGe="app-check";function z4(){}class _Y{zone;delegate;constructor(e,t=MGe){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(o){i.runGuarded(()=>{e.apply(this,[o])})},t,r)}}class xGe{zone;task=null;constructor(e){this.zone=e}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",z4,{},z4,z4)),t.pipe(Ir({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Tm=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new _Y(Zone.current)),this.insideAngular=t.run(()=>new _Y(Zone.current,AE)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(de(pt))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function O4(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function ql(n){return O4().ngZone.run(()=>n())}function LGe(n){return function RGe(n){return function(t){return(t=t.lift(new xGe(n.ngZone))).pipe($5(n.outsideAngular),j5(n.insideAngular))}}(O4())(n)}const NGe=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ql(()=>n.apply(void 0,r))},Is=(n,e)=>function(){let t;const r=arguments;for(let s=0;s<arguments.length;s++)"function"==typeof r[s]&&(e&&(t||=ql(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",z4,{},z4,z4))),r[s]=NGe(r[s],t));const i=function DGe(n){return O4().ngZone.runOutsideAngular(()=>n())}(()=>n.apply(this,r));if(!e){if(i instanceof Qt){const s=O4();return i.pipe($5(s.outsideAngular),j5(s.insideAngular))}return ql(()=>i)}return i instanceof Qt?i.pipe(LGe):i instanceof Promise?ql(()=>new Promise((s,o)=>i.then(a=>ql(()=>s(a)),a=>ql(()=>o(a))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:ql(()=>i)};class k4{constructor(e){return e}}class Im{constructor(){return lY()}}const LE=new Me("angularfire2._apps"),zGe={provide:k4,useFactory:function PGe(n){return n&&1===n.length?n[0]:new k4(Cm())},deps:[[new Vi,LE]]},OGe={provide:Im,deps:[[new Vi,LE]]};function kGe(n){return(e,t)=>{const r=t.get(n2);Ui("angularfire",Nf.full,"core"),Ui("angularfire",Nf.full,"app"),Ui("angular",rO.full,r.toString());const i=e.runOutsideAngular(()=>n(t));return new k4(i)}}function FGe(n,...e){return t2([zGe,OGe,{provide:LE,useFactory:kGe(n),multi:!0,deps:[pt,tr,Tm,...e]}])}const VGe=Is(cY,!0);const BGe=function yY(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},vY=new Tf("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Mm=new mE("@firebase/auth");function Sm(n,...e){Mm.logLevel<=Ft.ERROR&&Mm.error(`Auth (${Gl}): ${n}`,...e)}function Js(n,...e){throw NE(n,...e)}function Ms(n,...e){return NE(n,...e)}function RE(n,e,t){const r=Object.assign(Object.assign({},BGe()),{[e]:t});return new Tf("auth","Firebase",r).create(e,{appName:n.name})}function bi(n){return RE(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function NE(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return vY.create(n,...e)}function Ce(n,e,...t){if(!n)throw NE(e,...t)}function n1(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Sm(e),new Error(e)}function X1(n,e){n||n1(e)}function Pf(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.href)||""}function bY(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}function jGe(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function PE(){return"http:"===bY()||"https:"===bY()}()||function Z$e(){const n="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof n&&void 0!==n.id}()||"connection"in navigator))||navigator.onLine}class zf{constructor(e,t){this.shortDelay=e,this.longDelay=t,X1(t>e,"Short delay should be less than long delay!"),this.isMobile=function Q$e(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(kr())}()||function eHe(){return"object"==typeof navigator&&"ReactNative"===navigator.product}()}get(){return jGe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function zE(n,e){X1(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}class CY{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:typeof globalThis<"u"&&globalThis.fetch?globalThis.fetch:typeof fetch<"u"?fetch:void n1("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:typeof globalThis<"u"&&globalThis.Headers?globalThis.Headers:typeof Headers<"u"?Headers:void n1("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:typeof globalThis<"u"&&globalThis.Response?globalThis.Response:typeof Response<"u"?Response:void n1("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const HGe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},GGe=new zf(3e4,6e4);function Wn(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function Kn(n,e,t,r){return OE.apply(this,arguments)}function OE(){return(OE=D(function*(n,e,t,r,i={}){return wY(n,i,D(function*(){let s={},o={};r&&("GET"===e?o=r:s={body:JSON.stringify(r)});const a=If(Object.assign({key:n.config.apiKey},o)).slice(1),c=yield n._getAdditionalHeaders();c["Content-Type"]="application/json",n.languageCode&&(c["X-Firebase-Locale"]=n.languageCode);const u=Object.assign({method:e,headers:c},s);return function X$e(){return typeof navigator<"u"&&"Cloudflare-Workers"===navigator.userAgent}()||(u.referrerPolicy="no-referrer"),CY.fetch()(EY(n,n.config.apiHost,t,a),u)}))})).apply(this,arguments)}function wY(n,e,t){return kE.apply(this,arguments)}function kE(){return(kE=D(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},HGe),e);try{const i=new WGe(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const o=yield s.json();if("needConfirmation"in o)throw Of(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[c,u]=a.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===c)throw Of(n,"credential-already-in-use",o);if("EMAIL_EXISTS"===c)throw Of(n,"email-already-in-use",o);if("USER_DISABLED"===c)throw Of(n,"user-disabled",o);const d=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw RE(n,d,u);Js(n,d)}}catch(i){if(i instanceof t1)throw i;Js(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function Z1(n,e,t,r){return FE.apply(this,arguments)}function FE(){return(FE=D(function*(n,e,t,r,i={}){const s=yield Kn(n,e,t,r,i);return"mfaPendingCredential"in s&&Js(n,"multi-factor-auth-required",{_serverResponse:s}),s})).apply(this,arguments)}function EY(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?zE(n.config,i):`${n.config.apiScheme}://${i}`}function qGe(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class WGe{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Ms(this.auth,"network-request-failed")),GGe.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Of(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=Ms(n,e,r);return i.customData._tokenResponse=t,i}function IY(n){return void 0!==n&&void 0!==n.enterprise}class MY{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return qGe(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}}function SY(n,e){return BE.apply(this,arguments)}function BE(){return(BE=D(function*(n,e){return Kn(n,"GET","/v2/recaptchaConfig",Wn(n,e))})).apply(this,arguments)}function UE(){return(UE=D(function*(n,e){return Kn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function AY(n,e){return $E.apply(this,arguments)}function $E(){return($E=D(function*(n,e){return Kn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function kf(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function HE(){return(HE=D(function*(n,e=!1){const t=Jr(n),r=yield t.getIdToken(e),i=Am(r);Ce(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s="object"==typeof i.firebase?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:kf(GE(i.auth_time)),issuedAtTime:kf(GE(i.iat)),expirationTime:kf(GE(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})).apply(this,arguments)}function GE(n){return 1e3*Number(n)}function Am(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Sm("JWT malformed, contained fewer than 3 sections"),null;try{const i=gm(t);return i?JSON.parse(i):(Sm("Failed to decode base64 JWT payload"),null)}catch(i){return Sm("Caught error parsing JWT payload as JSON",i?.toString()),null}}function xY(n){const e=Am(n);return Ce(e,"internal-error"),Ce(typeof e.exp<"u","internal-error"),Ce(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function ec(n,e){return qE.apply(this,arguments)}function qE(){return(qE=D(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof t1&&function XGe({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class ZGe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(D(function*(){yield t.iteration()}),r)}iteration(){var e=this;return D(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class WE{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=kf(this.lastLoginAt),this.creationTime=kf(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Ff(n){return KE.apply(this,arguments)}function KE(){return(KE=D(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield ec(n,AY(t,{idToken:r}));Ce(i?.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const o=null!==(e=s.providerUserInfo)&&void 0!==e&&e.length?DY(s.providerUserInfo):[],a=function tqe(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,o),d=!!n.isAnonymous&&!(n.email&&s.passwordHash||a?.length),f={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new WE(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,f)})).apply(this,arguments)}function QE(){return(QE=D(function*(n){const e=Jr(n);yield Ff(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function DY(n){return n.map(e=>{var{providerId:t}=e,r=j6(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function YE(){return(YE=D(function*(n,e){const t=yield wY(n,{},D(function*(){const r=If({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=EY(n,i,"/v1/token",`key=${s}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",CY.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}function JE(){return(JE=D(function*(n,e){return Kn(n,"POST","/v2/accounts:revokeToken",Wn(n,e))})).apply(this,arguments)}class V4{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ce(e.idToken,"internal-error"),Ce(typeof e.idToken<"u","internal-error"),Ce(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xY(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Ce(0!==e.length,"internal-error");const t=xY(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){var r=this;return D(function*(){return t||!r.accessToken||r.isExpired?(Ce(r.refreshToken,e,"user-token-expired"),r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null):r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return D(function*(){const{accessToken:i,refreshToken:s,expiresIn:o}=yield function nqe(n,e){return YE.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,s,Number(o))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new V4;return r&&(Ce("string"==typeof r,"internal-error",{appName:e}),o.refreshToken=r),i&&(Ce("string"==typeof i,"internal-error",{appName:e}),o.accessToken=i),s&&(Ce("number"==typeof s,"internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new V4,this.toJSON())}_performRefresh(){return n1("not implemented")}}function f2(n,e){Ce("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class tc{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=j6(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ZGe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new WE(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){var t=this;return D(function*(){const r=yield ec(t,t.stsTokenManager.getToken(t.auth,e));return Ce(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function JGe(n){return HE.apply(this,arguments)}(this,e)}reload(){return function eqe(n){return QE.apply(this,arguments)}(this)}_assign(e){this!==e&&(Ce(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new tc(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Ce(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return D(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield Ff(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return D(function*(){if(Sa(e.auth.app))return Promise.reject(bi(e.auth));const t=yield e.getIdToken();return yield ec(e,function QGe(n,e){return UE.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,a,c,u,d;const f=null!==(r=t.displayName)&&void 0!==r?r:void 0,p=null!==(i=t.email)&&void 0!==i?i:void 0,g=null!==(s=t.phoneNumber)&&void 0!==s?s:void 0,y=null!==(o=t.photoURL)&&void 0!==o?o:void 0,C=null!==(a=t.tenantId)&&void 0!==a?a:void 0,w=null!==(c=t._redirectEventId)&&void 0!==c?c:void 0,N=null!==(u=t.createdAt)&&void 0!==u?u:void 0,R=null!==(d=t.lastLoginAt)&&void 0!==d?d:void 0,{uid:O,emailVerified:F,isAnonymous:j,providerData:W,stsTokenManager:M}=t;Ce(O&&M,e,"internal-error");const v=V4.fromJSON(this.name,M);Ce("string"==typeof O,e,"internal-error"),f2(f,e.name),f2(p,e.name),Ce("boolean"==typeof F,e,"internal-error"),Ce("boolean"==typeof j,e,"internal-error"),f2(g,e.name),f2(y,e.name),f2(C,e.name),f2(w,e.name),f2(N,e.name),f2(R,e.name);const E=new tc({uid:O,auth:e,email:p,emailVerified:F,displayName:f,isAnonymous:j,photoURL:y,phoneNumber:g,tenantId:C,stsTokenManager:v,createdAt:N,lastLoginAt:R});return W&&Array.isArray(W)&&(E.providerData=W.map(S=>Object.assign({},S))),w&&(E._redirectEventId=w),E}static _fromIdTokenResponse(e,t,r=!1){return D(function*(){const i=new V4;i.updateFromServerResponse(t);const s=new tc({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ff(s),s})()}static _fromGetAccountInfoResponse(e,t,r){return D(function*(){const i=t.users[0];Ce(void 0!==i.localId,"internal-error");const s=void 0!==i.providerUserInfo?DY(i.providerUserInfo):[],o=!(i.email&&i.passwordHash||s?.length),a=new V4;a.updateFromIdToken(r);const c=new tc({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new WE(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash||s?.length)};return Object.assign(c,u),c})()}}const LY=new Map;function nc(n){X1(n instanceof Function,"Expected a class definition");let e=LY.get(n);return e?(X1(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,LY.set(n,e),e)}const RY=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return D(function*(){return!0})()}_set(t,r){var i=this;return D(function*(){i.storage[t]=r})()}_get(t){var r=this;return D(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return D(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function xm(n,e,t){return`firebase:${n}:${e}:${t}`}class B4{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=xm(this.userKey,i.apiKey,s),this.fullPersistenceKey=xm("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return D(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?tc._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return D(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return D(function*(){if(!t.length)return new B4(nc(RY),e,r);const i=(yield Promise.all(t.map(function(){var u=D(function*(d){if(yield d._isAvailable())return d});return function(d){return u.apply(this,arguments)}}()))).filter(u=>u);let s=i[0]||nc(RY);const o=xm(r,e.config.apiKey,e.name);let a=null;for(const u of t)try{const d=yield u._get(o);if(d){const f=tc._fromJSON(e,d);u!==s&&(a=f),s=u;break}}catch{}const c=i.filter(u=>u._shouldAllowMigration);return s._shouldAllowMigration&&c.length?(s=c[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(t.map(function(){var u=D(function*(d){if(d!==s)try{yield d._remove(o)}catch{}});return function(d){return u.apply(this,arguments)}}())),new B4(s,e,r)):new B4(s,e,r)})()}}function NY(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(kY(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(PY(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(VY(e))return"Blackberry";if(BY(e))return"Webos";if(zY(e))return"Safari";if((e.includes("chrome/")||OY(e))&&!e.includes("edge/"))return"Chrome";if(FY(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function PY(n=kr()){return/firefox\//i.test(n)}function zY(n=kr()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OY(n=kr()){return/crios\//i.test(n)}function kY(n=kr()){return/iemobile/i.test(n)}function FY(n=kr()){return/android/i.test(n)}function VY(n=kr()){return/blackberry/i.test(n)}function BY(n=kr()){return/webos/i.test(n)}function XE(n=kr()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function UY(n=kr()){return XE(n)||FY(n)||BY(n)||VY(n)||/windows phone/i.test(n)||kY(n)}function jY(n,e=[]){let t;switch(n){case"Browser":t=NY(kr());break;case"Worker":t=`${NY(kr())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Gl}/${r}`}class oqe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((o,a)=>{try{o(e(s))}catch(c){a(c)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return D(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const s of r)try{s()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}function ZE(){return(ZE=D(function*(n,e={}){return Kn(n,"GET","/v2/passwordPolicy",Wn(n,e))})).apply(this,arguments)}class lqe{constructor(e){var t,r,i,s;const o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=o.minPasswordLength)&&void 0!==t?t:6,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),void 0!==o.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),void 0!==o.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),void 0!==o.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),void 0!==o.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(i=null===(r=e.allowedNonAlphanumericCharacters)||void 0===r?void 0:r.join(""))&&void 0!==i?i:"",this.forceUpgradeOnSignin=null!==(s=e.forceUpgradeOnSignin)&&void 0!==s&&s,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,a;const c={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,c),this.validatePasswordCharacterOptions(e,c),c.isValid&&(c.isValid=null===(t=c.meetsMinPasswordLength)||void 0===t||t),c.isValid&&(c.isValid=null===(r=c.meetsMaxPasswordLength)||void 0===r||r),c.isValid&&(c.isValid=null===(i=c.containsLowercaseLetter)||void 0===i||i),c.isValid&&(c.isValid=null===(s=c.containsUppercaseLetter)||void 0===s||s),c.isValid&&(c.isValid=null===(o=c.containsNumericCharacter)||void 0===o||o),c.isValid&&(c.isValid=null===(a=c.containsNonAlphanumericCharacter)||void 0===a||a),c}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){let r;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}class uqe{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $Y(this),this.idTokenSubscription=new $Y(this),this.beforeStateQueue=new oqe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=vY,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=nc(t)),this._initializationPromise=this.queue(D(function*(){var i,s;if(!r._deleted&&(r.persistenceManager=yield B4.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(s=r.currentUser)||void 0===s?void 0:s.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return D(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUserFromIdToken(e){var t=this;return D(function*(){try{const r=yield AY(t,{idToken:e}),i=yield tc._fromGetAccountInfoResponse(t,r,e);yield t.directlySetCurrentUser(i)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),yield t.directlySetCurrentUser(null)}})()}initializeCurrentUser(e){var t=this;return D(function*(){var r;if(Sa(t.app)){const a=t.app.settings.authIdToken;return a?new Promise(c=>{setTimeout(()=>t.initializeCurrentUserFromIdToken(a).then(c,c))}):t.directlySetCurrentUser(null)}const i=yield t.assertedPersistence.getCurrentUser();let s=i,o=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const a=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,c=s?._redirectEventId,u=yield t.tryRedirectSignIn(e);(!a||a===c)&&u?.user&&(s=u.user,o=!0)}if(!s)return t.directlySetCurrentUser(null);if(!s._redirectEventId){if(o)try{yield t.beforeStateQueue.runMiddleware(s)}catch(a){s=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(a))}return s?t.reloadAndSetCurrentUserOrClear(s):t.directlySetCurrentUser(null)}return Ce(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===s._redirectEventId?t.directlySetCurrentUser(s):t.reloadAndSetCurrentUserOrClear(s)})()}tryRedirectSignIn(e){var t=this;return D(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return D(function*(){try{yield Ff(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function $Ge(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return D(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return D(function*(){if(Sa(t.app))return Promise.reject(bi(t));const r=e?Jr(e):null;return r&&Ce(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return D(function*(){if(!r._deleted)return e&&Ce(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue(D(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return D(function*(){return Sa(e.app)?Promise.reject(bi(e)):(yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0))})()}setPersistence(e){var t=this;return Sa(this.app)?Promise.reject(bi(this)):this.queue(D(function*(){yield t.assertedPersistence.setPersistence(nc(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){var t=this;return D(function*(){t._getPasswordPolicyInternal()||(yield t._updatePasswordPolicy());const r=t._getPasswordPolicyInternal();return r.schemaVersion!==t.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(t._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)})()}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){var e=this;return D(function*(){const t=yield function aqe(n){return ZE.apply(this,arguments)}(e),r=new lqe(t);null===e.tenantId?e._projectPasswordPolicy=r:e._tenantPasswordPolicies[e.tenantId]=r})()}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Tf("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){var t=this;return D(function*(){if(t.currentUser){const r=yield t.currentUser.getIdToken(),i={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};null!=t.tenantId&&(i.tenantId=t.tenantId),yield function rqe(n,e){return JE.apply(this,arguments)}(t,i)}})()}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return D(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return D(function*(){if(!t.redirectPersistenceManager){const r=e&&nc(e)||t._popupRedirectResolver;Ce(r,t,"argument-error"),t.redirectPersistenceManager=yield B4.create(t,[nc(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return D(function*(){var r,i;return t._isInitialized&&(yield t.queue(D(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return D(function*(){if(e===t.currentUser)return t.queue(D(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s="function"==typeof t?t:t.next.bind(t);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ce(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),"function"==typeof t){const c=e.addObserver(t,r,i);return()=>{o=!0,c()}}{const c=e.addObserver(t);return()=>{o=!0,c()}}}directlySetCurrentUser(e){var t=this;return D(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ce(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=jY(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return D(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const s=yield e._getAppCheckToken();return s&&(r["X-Firebase-AppCheck"]=s),r})()}_getAppCheckToken(){var e=this;return D(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function UGe(n,...e){Mm.logLevel<=Ft.WARN&&Mm.warn(`Auth (${Gl}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function Fr(n){return Jr(n)}class $Y{constructor(e){this.auth=e,this.observer=null,this.addObserver=function aHe(n,e){const t=new cHe(n,e);return t.subscribe.bind(t)}(t=>this.observer=t)}get next(){return Ce(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Vf={loadJS:()=>D(function*(){throw new Error("Unable to load external scripts")})(),recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function eT(n){return Vf.loadJS(n)}function HY(n){return`__${n}${Math.floor(1e6*Math.random())}`}class GY{constructor(e){this.type="recaptcha-enterprise",this.auth=Fr(e)}verify(e="verify",t=!1){var r=this;return D(function*(){function s(){return s=D(function*(a){if(!t){if(null==a.tenantId&&null!=a._agentRecaptchaConfig)return a._agentRecaptchaConfig.siteKey;if(null!=a.tenantId&&void 0!==a._tenantRecaptchaConfigs[a.tenantId])return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(function(){var c=D(function*(u,d){SY(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(void 0!==f.recaptchaKey){const p=new MY(f);return null==a.tenantId?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}d(new Error("recaptcha Enterprise site key undefined"))}).catch(f=>{d(f)})});return function(u,d){return c.apply(this,arguments)}}())}),s.apply(this,arguments)}function o(a,c,u){const d=window.grecaptcha;IY(d)?d.enterprise.ready(()=>{d.enterprise.execute(a,{action:e}).then(f=>{c(f)}).catch(()=>{c("NO_RECAPTCHA")})}):u(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,c)=>{(function i(a){return s.apply(this,arguments)})(r.auth).then(u=>{if(!t&&IY(window.grecaptcha))o(u,a,c);else{if(typeof window>"u")return void c(new Error("RecaptchaVerifier is only supported in browser"));let d=function hqe(){return Vf.recaptchaEnterpriseScript}();0!==d.length&&(d+=u),eT(d).then(()=>{o(u,a,c)}).catch(f=>{c(f)})}}).catch(u=>{c(u)})})})()}}function qY(n,e,t){return tT.apply(this,arguments)}function tT(){return(tT=D(function*(n,e,t,r=!1){const i=new GY(n);let s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}const o=Object.assign({},e);return Object.assign(o,r?{captchaResp:s}:{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})).apply(this,arguments)}function Bf(n,e,t,r){return nT.apply(this,arguments)}function nT(){return nT=D(function*(n,e,t,r){var i;if(null!==(i=n._getRecaptchaConfig())&&void 0!==i&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const s=yield qY(n,e,t,"getOobCode"===t);return r(n,s)}return r(n,e).catch(function(){var s=D(function*(o){if("auth/missing-recaptcha-token"===o.code){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=yield qY(n,e,t,"getOobCode"===t);return r(n,a)}return Promise.reject(o)});return function(o){return s.apply(this,arguments)}}())}),nT.apply(this,arguments)}function WY(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function KY(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}class Uf{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return n1("not implemented")}_getIdTokenResponse(e){return n1("not implemented")}_linkToIdToken(e,t){return n1("not implemented")}_getReauthenticationResolver(e){return n1("not implemented")}}function Tqe(n,e){return oT.apply(this,arguments)}function oT(){return(oT=D(function*(n,e){return Kn(n,"POST","/v1/accounts:signUp",e)})).apply(this,arguments)}function Mqe(n,e){return cT.apply(this,arguments)}function cT(){return(cT=D(function*(n,e){return Z1(n,"POST","/v1/accounts:signInWithPassword",Wn(n,e))})).apply(this,arguments)}function lT(){return(lT=D(function*(n,e){return Kn(n,"POST","/v1/accounts:sendOobCode",Wn(n,e))})).apply(this,arguments)}function Aqe(n,e){return dT.apply(this,arguments)}function dT(){return(dT=D(function*(n,e){return function Dm(n,e){return lT.apply(this,arguments)}(n,e)})).apply(this,arguments)}function pT(){return(pT=D(function*(n,e){return Z1(n,"POST","/v1/accounts:signInWithEmailLink",Wn(n,e))})).apply(this,arguments)}function mT(){return(mT=D(function*(n,e){return Z1(n,"POST","/v1/accounts:signInWithEmailLink",Wn(n,e))})).apply(this,arguments)}class jf extends Uf{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new jf(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new jf(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e;if(t?.email&&t?.password){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){var t=this;return D(function*(){switch(t.signInMethod){case"password":return Bf(e,{returnSecureToken:!0,email:t._email,password:t._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",Mqe);case"emailLink":return function Lqe(n,e){return pT.apply(this,arguments)}(e,{email:t._email,oobCode:t._password});default:Js(e,"internal-error")}})()}_linkToIdToken(e,t){var r=this;return D(function*(){switch(r.signInMethod){case"password":return Bf(e,{idToken:t,returnSecureToken:!0,email:r._email,password:r._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Tqe);case"emailLink":return function Rqe(n,e){return mT.apply(this,arguments)}(e,{idToken:t,email:r._email,oobCode:r._password});default:Js(e,"internal-error")}})()}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}function rc(n,e){return gT.apply(this,arguments)}function gT(){return(gT=D(function*(n,e){return Z1(n,"POST","/v1/accounts:signInWithIdp",Wn(n,e))})).apply(this,arguments)}class U4 extends Uf{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new U4(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Js("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"==typeof e?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=j6(t,["providerId","signInMethod"]);if(!r||!i)return null;const o=new U4(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){return rc(e,this.buildRequest())}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,rc(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,rc(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=If(t)}return e}}class Hf{constructor(e){var t,r,i,s,o,a;const c=Mf(Sf(e)),u=null!==(t=c.apiKey)&&void 0!==t?t:null,d=null!==(r=c.oobCode)&&void 0!==r?r:null,f=function Vqe(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(i=c.mode)&&void 0!==i?i:null);Ce(u&&d&&f,"argument-error"),this.apiKey=u,this.operation=f,this.code=d,this.continueUrl=null!==(s=c.continueUrl)&&void 0!==s?s:null,this.languageCode=null!==(o=c.languageCode)&&void 0!==o?o:null,this.tenantId=null!==(a=c.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function Bqe(n){const e=Mf(Sf(n)).link,t=e?Mf(Sf(e)).deep_link_id:null,r=Mf(Sf(n)).deep_link_id;return(r?Mf(Sf(r)).link:null)||r||t||e||n}(e);try{return new Hf(t)}catch{return null}}}let YY=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return jf._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){const i=Hf.parseLink(r);return Ce(i,"argument-error"),jf._fromEmailAndCode(t,i.code,i.tenantId)}}return n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink",n})();class ic{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class JY extends ic{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}let Uqe=(()=>{class n extends JY{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return U4._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}return n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com",n})();function XY(n,e){return wT.apply(this,arguments)}function wT(){return(wT=D(function*(n,e){return Z1(n,"POST","/v1/accounts:signUp",Wn(n,e))})).apply(this,arguments)}class ea{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return D(function*(){const s=yield tc._fromIdTokenResponse(e,r,i),o=ZY(r);return new ea({user:s,providerId:o,_tokenResponse:r,operationType:t})})()}static _forOperation(e,t,r){return D(function*(){yield e._updateTokensIfNecessary(r,!0);const i=ZY(r);return new ea({user:e,providerId:i,_tokenResponse:r,operationType:t})})()}}function ZY(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}class Rm extends t1{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,Rm.prototype),this.customData={appName:e.name,tenantId:null!==(s=e.tenantId)&&void 0!==s?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new Rm(e,t,r,i)}}function eJ(n,e,t,r){return("reauthenticate"===e?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw"auth/multi-factor-auth-required"===s.code?Rm._fromErrorAndOperation(n,s,e,r):s})}function MT(){return(MT=D(function*(n,e,t=!1){const r=yield ec(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return ea._forOperation(n,"link",r)})).apply(this,arguments)}function AT(){return(AT=D(function*(n,e,t=!1){const{auth:r}=n;if(Sa(r.app))return Promise.reject(bi(r));const i="reauthenticate";try{const s=yield ec(n,eJ(r,i,e,n),t);Ce(s.idToken,r,"internal-error");const o=Am(s.idToken);Ce(o,r,"internal-error");const{sub:a}=o;return Ce(n.uid===a,r,"user-mismatch"),ea._forOperation(n,i,s)}catch(s){throw"auth/user-not-found"===s?.code&&Js(r,"user-mismatch"),s}})).apply(this,arguments)}function rJ(n,e){return xT.apply(this,arguments)}function xT(){return(xT=D(function*(n,e,t=!1){if(Sa(n.app))return Promise.reject(bi(n));const r="signIn",i=yield eJ(n,r,e),s=yield ea._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})).apply(this,arguments)}function LT(){return(LT=D(function*(n,e){return rJ(Fr(n),e)})).apply(this,arguments)}function FT(n){return VT.apply(this,arguments)}function VT(){return(VT=D(function*(n){const e=Fr(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})).apply(this,arguments)}function Wqe(n,e,t){return BT.apply(this,arguments)}function BT(){return(BT=D(function*(n,e,t){const r=Fr(n),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};t&&function Pm(n,e,t){var r;Ce((null===(r=t.url)||void 0===r?void 0:r.length)>0,n,"invalid-continue-uri"),Ce(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(Ce(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(Ce(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}(r,i,t),yield Bf(r,i,"getOobCode",Aqe)})).apply(this,arguments)}function Qqe(n,e,t){return GT.apply(this,arguments)}function GT(){return(GT=D(function*(n,e,t){if(Sa(n.app))return Promise.reject(bi(n));const r=Fr(n),o=yield Bf(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",XY).catch(c=>{throw"auth/password-does-not-meet-requirements"===c.code&&FT(n),c}),a=yield ea._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})).apply(this,arguments)}function Yqe(n,e,t){return Sa(n.app)?Promise.reject(bi(n)):function DT(n,e){return LT.apply(this,arguments)}(Jr(n),YY.credential(e,t)).catch(function(){var r=D(function*(i){throw"auth/password-does-not-meet-requirements"===i.code&&FT(n),i});return function(i){return r.apply(this,arguments)}}())}function oWe(n){return Jr(n).signOut()}const zm="__sak";class oJ{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(zm,"1"),this.storage.removeItem(zm),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const hWe=(()=>{class n extends oJ{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=UY(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const r of Object.keys(this.listeners)){const i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key)return void this.forAllChangedKeys((a,c,u)=>{this.notifyListeners(a,u)});const i=t.key;r?this.detachListener():this.stopPolling();const s=()=>{const a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);!function sqe(){return function tHe(){const n=kr();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}()&&10===document.documentMode}()||o===t.newValue||t.newValue===t.oldValue?s():setTimeout(s,10)}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(t,r){var i=()=>super._set,s=this;return D(function*(){yield i().call(s,t,r),s.localCache[t]=JSON.stringify(r)})()}_get(t){var r=()=>super._get,i=this;return D(function*(){const s=yield r().call(i,t);return i.localCache[t]=JSON.stringify(s),s})()}_remove(t){var r=()=>super._remove,i=this;return D(function*(){yield r().call(i,t),delete i.localCache[t]})()}}return n.type="LOCAL",n})(),aJ=(()=>{class n extends oJ{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})();let mWe=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;const i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){var r=this;return D(function*(){const i=t,{eventId:s,eventType:o,data:a}=i.data,c=r.handlersMap[o];if(!c?.size)return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:o});const u=Array.from(c).map(function(){var f=D(function*(p){return p(i.origin,a)});return function(p){return f.apply(this,arguments)}}()),d=yield function pWe(n){return Promise.all(n.map(function(){var e=D(function*(t){try{return{fulfilled:!0,value:yield t}}catch(r){return{fulfilled:!1,reason:r}}});return function(t){return e.apply(this,arguments)}}()))}(u);i.ports[0].postMessage({status:"done",eventId:s,eventType:o,response:d})})()}_subscribe(t,r){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||0===this.handlersMap[t].size)&&delete this.handlersMap[t],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return n.receivers=[],n})();function Om(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(10*Math.random());return n+t}class gWe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){var i=this;return D(function*(){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let o,a;return new Promise((c,u)=>{const d=Om("",20);s.port1.start();const f=setTimeout(()=>{u(new Error("unsupported_event"))},r);a={messageChannel:s,onMessage(p){const g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),c(g.data.response);break;default:clearTimeout(f),clearTimeout(o),u(new Error("invalid_response"))}}},i.handlers.add(a),s.port1.addEventListener("message",a.onMessage),i.target.postMessage({eventType:e,eventId:d,data:t},[s.port2])}).finally(()=>{a&&i.removeMessageHandler(a)})})()}}function Xr(){return window}function oI(){return typeof Xr().WorkerGlobalScope<"u"&&"function"==typeof Xr().importScripts}function aI(){return(aI=D(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const cJ="firebaseLocalStorageDb",km="firebaseLocalStorage",lJ="fbase_key";class Wf{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function Fm(n,e){return n.transaction([km],e?"readwrite":"readonly").objectStore(km)}function cI(){const n=indexedDB.open(cJ,1);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(km,{keyPath:lJ})}catch(i){t(i)}}),n.addEventListener("success",D(function*(){const r=n.result;r.objectStoreNames.contains(km)?e(r):(r.close(),yield function wWe(){const n=indexedDB.deleteDatabase(cJ);return new Wf(n).toPromise()}(),e(yield cI()))}))})}function uJ(n,e,t){return lI.apply(this,arguments)}function lI(){return(lI=D(function*(n,e,t){const r=Fm(n,!0).put({[lJ]:e,value:t});return new Wf(r).toPromise()})).apply(this,arguments)}function uI(){return(uI=D(function*(n,e){const t=Fm(n,!1).get(e),r=yield new Wf(t).toPromise();return void 0===r?null:r.value})).apply(this,arguments)}function dJ(n,e){const t=Fm(n,!0).delete(e);return new Wf(t).toPromise()}const MWe=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var t=this;return D(function*(){return t.db||(t.db=yield cI()),t.db})()}_withRetries(t){var r=this;return D(function*(){let i=0;for(;;)try{const s=yield r._openDb();return yield t(s)}catch(s){if(i++>3)throw s;r.db&&(r.db.close(),r.db=void 0)}})()}initializeServiceWorkerMessaging(){var t=this;return D(function*(){return oI()?t.initializeReceiver():t.initializeSender()})()}initializeReceiver(){var t=this;return D(function*(){t.receiver=mWe._getInstance(function bWe(){return oI()?self:null}()),t.receiver._subscribe("keyChanged",function(){var r=D(function*(i,s){return{keyProcessed:(yield t._poll()).includes(s.key)}});return function(i,s){return r.apply(this,arguments)}}()),t.receiver._subscribe("ping",function(){var r=D(function*(i,s){return["keyChanged"]});return function(i,s){return r.apply(this,arguments)}}())})()}initializeSender(){var t=this;return D(function*(){var r,i;if(t.activeServiceWorker=yield function yWe(){return aI.apply(this,arguments)}(),!t.activeServiceWorker)return;t.sender=new gWe(t.activeServiceWorker);const s=yield t.sender._send("ping",{},800);s&&null!==(r=s[0])&&void 0!==r&&r.fulfilled&&null!==(i=s[0])&&void 0!==i&&i.value.includes("keyChanged")&&(t.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(t){var r=this;return D(function*(){if(r.sender&&r.activeServiceWorker&&function vWe(){var n;return(null===(n=navigator?.serviceWorker)||void 0===n?void 0:n.controller)||null}()===r.activeServiceWorker)try{yield r.sender._send("keyChanged",{key:t},r.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return D(function*(){try{if(!indexedDB)return!1;const t=yield cI();return yield uJ(t,zm,"1"),yield dJ(t,zm),!0}catch{}return!1})()}_withPendingWrite(t){var r=this;return D(function*(){r.pendingWrites++;try{yield t()}finally{r.pendingWrites--}})()}_set(t,r){var i=this;return D(function*(){return i._withPendingWrite(D(function*(){return yield i._withRetries(s=>uJ(s,t,r)),i.localCache[t]=r,i.notifyServiceWorker(t)}))})()}_get(t){var r=this;return D(function*(){const i=yield r._withRetries(s=>function EWe(n,e){return uI.apply(this,arguments)}(s,t));return r.localCache[t]=i,i})()}_remove(t){var r=this;return D(function*(){return r._withPendingWrite(D(function*(){return yield r._withRetries(i=>dJ(i,t)),delete r.localCache[t],r.notifyServiceWorker(t)}))})()}_poll(){var t=this;return D(function*(){const r=yield t._withRetries(o=>{const a=Fm(o,!1).getAll();return new Wf(a).toPromise()});if(!r)return[];if(0!==t.pendingWrites)return[];const i=[],s=new Set;if(0!==r.length)for(const{fbase_key:o,value:a}of r)s.add(o),JSON.stringify(t.localCache[o])!==JSON.stringify(a)&&(t.notifyListeners(o,a),i.push(o));for(const o of Object.keys(t.localCache))t.localCache[o]&&!s.has(o)&&(t.notifyListeners(o,null),i.push(o));return i})()}notifyListeners(t,r){this.localCache[t]=r;const i=this.listeners[t];if(i)for(const s of Array.from(i))s(r)}startPolling(){var t=this;this.stopPolling(),this.pollTimer=setInterval(D(function*(){return t._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),0===this.listeners[t].size&&delete this.listeners[t]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return n.type="LOCAL",n})();function Kl(n,e){return e?nc(e):(Ce(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}HY("rcb"),new zf(3e4,6e4);class vI extends Uf{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return rc(e,this._buildIdpRequest())}_linkToIdToken(e,t){return rc(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return rc(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function UWe(n){return rJ(n.auth,new vI(n),n.bypassAuthState)}function jWe(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),function nJ(n,e){return AT.apply(this,arguments)}(t,new vI(n),n.bypassAuthState)}function $We(n){return bI.apply(this,arguments)}function bI(){return(bI=D(function*(n){const{auth:e,user:t}=n;return Ce(t,e,"internal-error"),function IT(n,e){return MT.apply(this,arguments)}(t,new vI(n),n.bypassAuthState)})).apply(this,arguments)}class hJ{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){var e=this;return new Promise(function(){var t=D(function*(r,i){e.pendingPromise={resolve:r,reject:i};try{e.eventManager=yield e.resolver._initialize(e.auth),yield e.onExecution(),e.eventManager.registerConsumer(e)}catch(s){e.reject(s)}});return function(r,i){return t.apply(this,arguments)}}())}onAuthEvent(e){var t=this;return D(function*(){const{urlResponse:r,sessionId:i,postBody:s,tenantId:o,error:a,type:c}=e;if(a)return void t.reject(a);const u={auth:t.auth,requestUri:r,sessionId:i,tenantId:o||void 0,postBody:s||void 0,user:t.user,bypassAuthState:t.bypassAuthState};try{t.resolve(yield t.getIdpTask(c)(u))}catch(d){t.reject(d)}})()}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return UWe;case"linkViaPopup":case"linkViaRedirect":return $We;case"reauthViaPopup":case"reauthViaRedirect":return jWe;default:Js(this.auth,"internal-error")}}resolve(e){X1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){X1(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const HWe=new zf(2e3,1e4);function GWe(n,e,t){return CI.apply(this,arguments)}function CI(){return(CI=D(function*(n,e,t){if(Sa(n.app))return Promise.reject(Ms(n,"operation-not-supported-in-this-environment"));const r=Fr(n);!function F4(n,e,t){if(!(e instanceof t))throw t.name!==e.constructor.name&&Js(n,"argument-error"),RE(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}(n,e,ic);const i=Kl(r,t);return new TI(r,"signInViaPopup",e,i).executeNotNull()})).apply(this,arguments)}let TI=(()=>{class n extends hJ{constructor(t,r,i,s,o){super(t,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){var t=this;return D(function*(){const r=yield t.execute();return Ce(r,t.auth,"internal-error"),r})()}onExecution(){var t=this;return D(function*(){X1(1===t.filter.length,"Popup operations only handle one event");const r=Om();t.authWindow=yield t.resolver._openPopup(t.auth,t.provider,t.filter[0],r),t.authWindow.associatedEvent=r,t.resolver._originValidation(t.auth).catch(i=>{t.reject(i)}),t.resolver._isIframeWebStorageSupported(t.auth,i=>{i||t.reject(Ms(t.auth,"web-storage-unsupported"))}),t.pollUserCancellation()})()}get eventId(){var t;return(null===(t=this.authWindow)||void 0===t?void 0:t.associatedEvent)||null}cancel(){this.reject(Ms(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){const t=()=>{var r,i;this.pollId=null!==(i=null===(r=this.authWindow)||void 0===r?void 0:r.window)&&void 0!==i&&i.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Ms(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(t,HWe.get())};t()}}return n.currentPopupAction=null,n})();const qWe="pendingRedirect",Kf=new Map;class WWe extends hJ{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){var e=()=>super.execute,t=this;return D(function*(){let r=Kf.get(t.auth._key());if(!r){try{const s=(yield function KWe(n,e){return II.apply(this,arguments)}(t.resolver,t.auth))?yield e().call(t):null;r=()=>Promise.resolve(s)}catch(i){r=()=>Promise.reject(i)}Kf.set(t.auth._key(),r)}return t.bypassAuthState||Kf.set(t.auth._key(),()=>Promise.resolve(null)),r()})()}onAuthEvent(e){var t=()=>super.onAuthEvent,r=this;return D(function*(){if("signInViaRedirect"===e.type)return t().call(r,e);if("unknown"!==e.type){if(e.eventId){const i=yield r.auth._redirectUserForId(e.eventId);if(i)return r.user=i,t().call(r,e);r.resolve(null)}}else r.resolve(null)})()}onExecution(){return D(function*(){})()}cleanUp(){}}function II(){return(II=D(function*(n,e){const t=function mJ(n){return xm(qWe,n.config.apiKey,n.name)}(e),r=function pJ(n){return nc(n._redirectPersistence)}(n);if(!(yield r._isAvailable()))return!1;const i="true"===(yield r._get(t));return yield r._remove(t),i})).apply(this,arguments)}function QWe(n,e){Kf.set(n._key(),e)}function gJ(n,e){return RI.apply(this,arguments)}function RI(){return(RI=D(function*(n,e,t=!1){if(Sa(n.app))return Promise.reject(bi(n));const r=Fr(n),i=Kl(r,e),o=yield new WWe(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})).apply(this,arguments)}class eKe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!function tKe(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return vJ(n);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!vJ(e)){const i=(null===(r=e.error.code)||void 0===r?void 0:r.split("auth/")[1])||"internal-error";t.onError(Ms(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(yJ(e))}saveEventToCache(e){this.cachedEventUids.add(yJ(e)),this.lastProcessedEventTime=Date.now()}}function yJ(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function vJ({type:n,error:e}){return"unknown"===n&&"auth/no-auth-event"===e?.code}function PI(){return(PI=D(function*(n,e={}){return Kn(n,"GET","/v1/projects",e)})).apply(this,arguments)}const rKe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iKe=/^https?/;function zI(){return zI=D(function*(n){if(n.config.emulator)return;const{authorizedDomains:e}=yield function nKe(n){return PI.apply(this,arguments)}(n);for(const t of e)try{if(oKe(t))return}catch{}Js(n,"unauthorized-domain")}),zI.apply(this,arguments)}function oKe(n){const e=Pf(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const o=new URL(n);return""===o.hostname&&""===r?"chrome-extension:"===t&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):"chrome-extension:"===t&&o.hostname===r}if(!iKe.test(t))return!1;if(rKe.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const aKe=new zf(3e4,6e4);function bJ(){const n=Xr().___jsl;if(n?.H)for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}let Bm=null;const uKe=new zf(5e3,15e3),dKe="__/auth/iframe",fKe="emulator/auth/iframe",hKe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},pKe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mKe(n){const e=n.config;Ce(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?zE(e,fKe):`https://${n.config.authDomain}/${dKe}`,r={apiKey:e.apiKey,appName:n.name,v:Gl},i=pKe.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${If(r).slice(1)}`}function OI(){return OI=D(function*(n){const e=yield function lKe(n){return Bm=Bm||function cKe(n){return new Promise((e,t)=>{var r,i,s;function o(){bJ(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bJ(),t(Ms(n,"network-request-failed"))},timeout:aKe.get()})}if(null!==(i=null===(r=Xr().gapi)||void 0===r?void 0:r.iframes)&&void 0!==i&&i.Iframe)e(gapi.iframes.getContext());else{if(null===(s=Xr().gapi)||void 0===s||!s.load){const a=HY("iframefcb");return Xr()[a]=()=>{gapi.load?o():t(Ms(n,"network-request-failed"))},eT(`${function pqe(){return Vf.gapiScript}()}?onload=${a}`).catch(c=>t(c))}o()}}).catch(e=>{throw Bm=null,e})}(n),Bm}(n),t=Xr().gapi;return Ce(t,n,"internal-error"),e.open({where:document.body,url:mKe(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hKe,dontclear:!0},r=>new Promise(function(){var i=D(function*(s,o){yield r.restyle({setHideOnLeave:!1});const a=Ms(n,"network-request-failed"),c=Xr().setTimeout(()=>{o(a)},uKe.get());function u(){Xr().clearTimeout(c),s(r)}r.ping(u).then(u,()=>{o(a)})});return function(s,o){return i.apply(this,arguments)}}()))}),OI.apply(this,arguments)}const _Ke={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class CJ{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const TKe="__/auth/handler",IKe="emulator/auth/handler",MKe=encodeURIComponent("fac");function wJ(n,e,t,r,i,s){return kI.apply(this,arguments)}function kI(){return(kI=D(function*(n,e,t,r,i,s){Ce(n.config.authDomain,n,"auth-domain-config-required"),Ce(n.config.apiKey,n,"invalid-api-key");const o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Gl,eventId:i};if(e instanceof ic){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",function oHe(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries(s||{}))o[d]=f}if(e instanceof JY){const d=e.getScopes().filter(f=>""!==f);d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);const a=o;for(const d of Object.keys(a))void 0===a[d]&&delete a[d];const c=yield n._getAppCheckToken(),u=c?`#${MKe}=${encodeURIComponent(c)}`:"";return`${function SKe({config:n}){return n.emulator?zE(n,IKe):`https://${n.authDomain}/${TKe}`}(n)}?${If(a).slice(1)}${u}`})).apply(this,arguments)}const FI="webStorageSupport",xKe=class AKe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=aJ,this._completeRedirectFn=gJ,this._overrideRedirectResult=QWe}_openPopup(e,t,r,i){var s=this;return D(function*(){var o;X1(null===(o=s.eventManagers[e._key()])||void 0===o?void 0:o.manager,"_initialize() not called before _openPopup()");const a=yield wJ(e,t,r,Pf(),i);return function wKe(n,e,t,r=500,i=600){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c=Object.assign(Object.assign({},_Ke),{width:r.toString(),height:i.toString(),top:s,left:o}),u=kr().toLowerCase();t&&(a=OY(u)?"_blank":t),PY(u)&&(e=e||"http://localhost",c.scrollbars="yes");const d=Object.entries(c).reduce((p,[g,y])=>`${p}${g}=${y},`,"");if(function iqe(n=kr()){var e;return XE(n)&&!(null===(e=window.navigator)||void 0===e||!e.standalone)}(u)&&"_self"!==a)return function EKe(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}(e||"",a),new CJ(null);const f=window.open(e||"",a,d);Ce(f,n,"popup-blocked");try{f.focus()}catch{}return new CJ(f)}(e,a,Om())})()}_openRedirect(e,t,r,i){var s=this;return D(function*(){return yield s._originValidation(e),function _We(n){Xr().location.href=n}(yield wJ(e,t,r,Pf(),i)),new Promise(()=>{})})()}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(X1(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){var t=this;return D(function*(){const r=yield function gKe(n){return OI.apply(this,arguments)}(e),i=new eKe(e);return r.register("authEvent",s=>(Ce(s?.authEvent,e,"invalid-auth-event"),{status:i.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),t.eventManagers[e._key()]={manager:i},t.iframes[e._key()]=r,i})()}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(FI,{type:FI},i=>{var s;const o=null===(s=i?.[0])||void 0===s?void 0:s[FI];void 0!==o&&t(!!o),Js(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=function sKe(n){return zI.apply(this,arguments)}(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return UY()||zY()||XE()}};var MJ="@firebase/auth";class DKe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return D(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Ce(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const PKe=qQ("authIdTokenMaxAge")||300;let AJ=null;const zKe=n=>function(){var e=D(function*(t){const r=t&&(yield t.getIdTokenResult()),i=r&&((new Date).getTime()-Date.parse(r.issuedAtTime))/1e3;if(i&&i>PKe)return;const s=r?.token;AJ!==s&&(AJ=s,yield fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))});return function(t){return e.apply(this,arguments)}}();function OKe(n=Cm()){const e=Df(n,"auth");if(e.isInitialized())return e.getImmediate();const t=function yqe(n,e){const t=Df(n,"auth");if(t.isInitialized()){const i=t.getImmediate();if(P4(t.getOptions(),e??{}))return i;Js(i,"already-initialized")}return t.initialize({options:e})}(n,{popupRedirectResolver:xKe,persistence:[MWe,hWe,aJ]}),r=qQ("authTokenSyncURL");if(r&&"boolean"==typeof isSecureContext&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=zKe(s.toString());(function sWe(n,e,t){Jr(n).beforeAuthStateChanged(e,t)})(t,o,()=>o(t.currentUser)),function iWe(n,e,t,r){Jr(n).onIdTokenChanged(e,t,r)}(t,a=>o(a))}}const i=$Q("auth");return i&&function bqe(n,e,t){const r=Fr(n);Ce(r._canInitEmulator,r,"emulator-config-failed"),Ce(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!t?.disableWarnings,s=WY(e),{host:o,port:a}=function Cqe(n){const e=WY(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:KY(r.substr(s.length+1))}}{const[s,o]=r.split(":");return{host:s,port:KY(o)}}}(e);r.config.emulator={url:`${s}//${o}${null===a?"":`:${a}`}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function wqe(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",n):n())}()}(t,`http://${i}`),t}(function dqe(n){Vf=n})({loadJS:n=>new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=Ms("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",function kKe(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)}),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="}),function RKe(n){Hl(new u2("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ce(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:jY(n)},u=new uqe(r,i,s,c);return function vqe(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(nc);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),Hl(new u2("auth-internal",e=>{const t=Fr(e.getProvider("auth").getImmediate());return new DKe(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ui(MJ,"1.7.9",function LKe(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(n)),Ui(MJ,"1.7.9","esm2017")}("Browser");class jm{constructor(e){return e}}class BI{constructor(){return Em("auth")}}const UI=new Me("angularfire2.auth-instances");function VKe(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new jm(r)}}const BKe={provide:BI,deps:[[new Vi,UI]]},UKe={provide:jm,useFactory:function FKe(n,e){const t=xE("auth",n,e);return t&&new jm(t)},deps:[[new Vi,UI],k4]};function jKe(n,...e){return Ui("angularfire",Nf.full,"auth"),t2([UKe,BKe,{provide:UI,useFactory:VKe(n),multi:!0,deps:[pt,tr,Tm,Im,[new Vi,DE],...e]}])}const $Ke=Is(Qqe,!0),HKe=Is(OKe,!0),GKe=Is(Wqe,!0),qKe=Is(Yqe,!0),WKe=Is(GWe,!0),KKe=Is(oWe,!0),DJ=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=63&i|128):55296==(64512&i)&&r+1<n.length&&56320==(64512&n.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&n.charCodeAt(++r)),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=63&i|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=63&i|128)}return e},LJ={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],o=i+1<n.length,a=o?n[i+1]:0,c=i+2<n.length,u=c?n[i+2]:0;let p=(15&a)<<2|u>>6,g=63&u;c||(g=64,o||(p=64)),r.push(t[s>>2],t[(3&s)<<4|a>>4],t[p],t[g])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(DJ(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const c=((7&i)<<18|(63&n[t++])<<12|(63&n[t++])<<6|63&n[t++])-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(1023&c))}else{const s=n[t++],o=n[t++];e[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&o)}}return e.join("")}(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;const u=i<n.length?t[n.charAt(i)]:64;++i;const f=i<n.length?t[n.charAt(i)]:64;if(++i,null==s||null==a||null==u||null==f)throw new XKe;r.push(s<<2|a>>4),64!==u&&(r.push(a<<4&240|u>>2),64!==f&&r.push(u<<6&192|f))}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class XKe extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const $m=function(n){return function(n){const e=DJ(n);return LJ.encodeByteArray(e,!0)}(n).replace(/\./g,"")},Hm=()=>{try{return function tQe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const n=process.env.__FIREBASE_DEFAULTS__;return n?JSON.parse(n):void 0})()||(()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&function(n){try{return LJ.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null}(n[1]);return e&&JSON.parse(e)})()}catch(n){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`)}};class $4 extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name="FirebaseError",Object.setPrototypeOf(this,$4.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,zJ.prototype.create)}}class zJ{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?function dQe(n,e){return n.replace(fQe,(t,r)=>{const i=e[r];return null!=i?String(i):`<${r}?>`})}(s,r):"Error";return new $4(i,`${this.serviceName}: ${o} (${i}).`,r)}}const fQe=/\{\$([^}]+)}/g;class Qf{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const WI=[];var Xt=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(Xt||{});const FJ={debug:Xt.DEBUG,verbose:Xt.VERBOSE,info:Xt.INFO,warn:Xt.WARN,error:Xt.ERROR,silent:Xt.SILENT},EQe=Xt.INFO,TQe={[Xt.DEBUG]:"log",[Xt.VERBOSE]:"log",[Xt.INFO]:"info",[Xt.WARN]:"warn",[Xt.ERROR]:"error"},IQe=(n,e,...t)=>{if(e<n.logLevel)return;const r=(new Date).toISOString(),i=TQe[e];if(!i)throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`);console[i](`[${r}]  ${n.name}:`,...t)};class VJ{constructor(e){this.name=e,this._logLevel=EQe,this._logHandler=IQe,this._userLogHandler=null,WI.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Xt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel="string"==typeof e?FJ[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Xt.DEBUG,...e),this._logHandler(this,Xt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Xt.VERBOSE,...e),this._logHandler(this,Xt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Xt.INFO,...e),this._logHandler(this,Xt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Xt.WARN,...e),this._logHandler(this,Xt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Xt.ERROR,...e),this._logHandler(this,Xt.ERROR,...e)}}class MQe{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(function SQe(n){const e=n.getComponent();return"VERSION"===e?.type}(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}return null}).filter(t=>t).join(" ")}}const qm="@firebase/app",KI="0.10.16",sc=new VJ("@firebase/app"),tYe={[qm]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/data-connect":"fire-data-connect","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","@firebase/vertexai":"fire-vertex","fire-js":"fire-js",firebase:"fire-js-all"},Yl=new Map,Yf=new Map,Jf=new Map;function BJ(n,e){try{n.container.addComponent(e)}catch(t){sc.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function Km(n){const e=n.name;if(Jf.has(e))return sc.debug(`There were multiple attempts to register component ${e}.`),!1;Jf.set(e,n);for(const t of Yl.values())BJ(t,n);for(const t of Yf.values())BJ(t,n);return!0}const ta=new zJ("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});function H4(n,e,t){var r;let i=null!==(r=tYe[n])&&void 0!==r?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${e}":`];return s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),void sc.warn(a.join(" "))}Km(new Qf(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}const lYe="firebase-heartbeat-database",uYe=1,Xf="firebase-heartbeat-store";let YI=null;function jJ(){return YI||(YI=iY(lYe,uYe,{upgrade:(n,e)=>{if(0===e)try{n.createObjectStore(Xf)}catch(t){console.warn(t)}}}).catch(n=>{throw ta.create("idb-open",{originalErrorMessage:n.message})})),YI}function JI(){return(JI=D(function*(n){try{const t=(yield jJ()).transaction(Xf),r=yield t.objectStore(Xf).get(HJ(n));return yield t.done,r}catch(e){if(e instanceof $4)sc.warn(e.message);else{const t=ta.create("idb-get",{originalErrorMessage:e?.message});sc.warn(t.message)}}})).apply(this,arguments)}function $J(n,e){return XI.apply(this,arguments)}function XI(){return(XI=D(function*(n,e){try{const r=(yield jJ()).transaction(Xf,"readwrite");yield r.objectStore(Xf).put(e,HJ(n)),yield r.done}catch(t){if(t instanceof $4)sc.warn(t.message);else{const r=ta.create("idb-set",{originalErrorMessage:t?.message});sc.warn(r.message)}}})).apply(this,arguments)}function HJ(n){return`${n.name}!${n.options.appId}`}class pYe{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new gYe(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){var e=this;return D(function*(){var t,r;try{const s=e.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=GJ();return null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&(e._heartbeatsCache=yield e._heartbeatsCachePromise,null==(null===(r=e._heartbeatsCache)||void 0===r?void 0:r.heartbeats))||e._heartbeatsCache.lastSentHeartbeatDate===o||e._heartbeatsCache.heartbeats.some(a=>a.date===o)?void 0:(e._heartbeatsCache.heartbeats.push({date:o,agent:s}),e._heartbeatsCache.heartbeats=e._heartbeatsCache.heartbeats.filter(a=>{const c=new Date(a.date).valueOf();return Date.now()-c<=2592e6}),e._storage.overwrite(e._heartbeatsCache))}catch(i){sc.warn(i)}})()}getHeartbeatsHeader(){var e=this;return D(function*(){var t;try{if(null===e._heartbeatsCache&&(yield e._heartbeatsCachePromise),null==(null===(t=e._heartbeatsCache)||void 0===t?void 0:t.heartbeats)||0===e._heartbeatsCache.heartbeats.length)return"";const r=GJ(),{heartbeatsToSend:i,unsentEntries:s}=function mYe(n,e=1024){const t=[];let r=n.slice();for(const i of n){const s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),qJ(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),qJ(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}(e._heartbeatsCache.heartbeats),o=$m(JSON.stringify({version:2,heartbeats:i}));return e._heartbeatsCache.lastSentHeartbeatDate=r,s.length>0?(e._heartbeatsCache.heartbeats=s,yield e._storage.overwrite(e._heartbeatsCache)):(e._heartbeatsCache.heartbeats=[],e._storage.overwrite(e._heartbeatsCache)),o}catch(r){return sc.warn(r),""}})()}}function GJ(){return(new Date).toISOString().substring(0,10)}class gYe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return D(function*(){return!!function PJ(){try{return"object"==typeof indexedDB}catch{return!1}}()&&function lQe(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e((null===(s=i.error)||void 0===s?void 0:s.message)||"")}}catch(t){e(t)}})}().then(()=>!0).catch(()=>!1)})()}read(){var e=this;return D(function*(){if(yield e._canUseIndexedDBPromise){const r=yield function dYe(n){return JI.apply(this,arguments)}(e.app);return r?.heartbeats?r:{heartbeats:[]}}return{heartbeats:[]}})()}overwrite(e){var t=this;return D(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return $J(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}})()}add(e){var t=this;return D(function*(){var r;if(yield t._canUseIndexedDBPromise){const s=yield t.read();return $J(t.app,{lastSentHeartbeatDate:null!==(r=e.lastSentHeartbeatDate)&&void 0!==r?r:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}})()}}function qJ(n){return $m(JSON.stringify({version:2,heartbeats:n})).length}!function _Ye(n){Km(new Qf("platform-logger",e=>new MQe(e),"PRIVATE")),Km(new Qf("heartbeat",e=>new pYe(e),"PRIVATE")),H4(qm,KI,n),H4(qm,KI,"esm2017"),H4("fire-js","")}("");var Jl,QJ,WJ=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},KJ={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(M,v,E){E||(E=0);var S=Array(16);if("string"==typeof v)for(var A=0;16>A;++A)S[A]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(A=0;16>A;++A)S[A]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;var x=M.g[3],I=(v=M.g[0])+(x^(E=M.g[1])&((A=M.g[2])^x))+S[0]+3614090360&4294967295;I=(E=(A=(x=(v=(E=(A=(x=(v=(E=(A=(x=(v=(E=(A=(x=(v=(E=(A=(x=(v=(E=(A=(x=(v=(E=(A=(x=(v=(E=(A=(x=(v=(E=(A=(x=(v=(E=(A=(x=(v=(E=(A=(x=(v=(E=(A=(x=(v=(E=(A=(x=(v=(E=(A=(x=(v=(E=(A=(x=(v=E+(I<<7&4294967295|I>>>25))+((I=x+(A^v&(E^A))+S[1]+3905402710&4294967295)<<12&4294967295|I>>>20))+((I=A+(E^x&(v^E))+S[2]+606105819&4294967295)<<17&4294967295|I>>>15))+((I=E+(v^A&(x^v))+S[3]+3250441966&4294967295)<<22&4294967295|I>>>10))+((I=v+(x^E&(A^x))+S[4]+4118548399&4294967295)<<7&4294967295|I>>>25))+((I=x+(A^v&(E^A))+S[5]+1200080426&4294967295)<<12&4294967295|I>>>20))+((I=A+(E^x&(v^E))+S[6]+2821735955&4294967295)<<17&4294967295|I>>>15))+((I=E+(v^A&(x^v))+S[7]+4249261313&4294967295)<<22&4294967295|I>>>10))+((I=v+(x^E&(A^x))+S[8]+1770035416&4294967295)<<7&4294967295|I>>>25))+((I=x+(A^v&(E^A))+S[9]+2336552879&4294967295)<<12&4294967295|I>>>20))+((I=A+(E^x&(v^E))+S[10]+4294925233&4294967295)<<17&4294967295|I>>>15))+((I=E+(v^A&(x^v))+S[11]+2304563134&4294967295)<<22&4294967295|I>>>10))+((I=v+(x^E&(A^x))+S[12]+1804603682&4294967295)<<7&4294967295|I>>>25))+((I=x+(A^v&(E^A))+S[13]+4254626195&4294967295)<<12&4294967295|I>>>20))+((I=A+(E^x&(v^E))+S[14]+2792965006&4294967295)<<17&4294967295|I>>>15))+((I=E+(v^A&(x^v))+S[15]+1236535329&4294967295)<<22&4294967295|I>>>10))+((I=v+(A^x&(E^A))+S[1]+4129170786&4294967295)<<5&4294967295|I>>>27))+((I=x+(E^A&(v^E))+S[6]+3225465664&4294967295)<<9&4294967295|I>>>23))+((I=A+(v^E&(x^v))+S[11]+643717713&4294967295)<<14&4294967295|I>>>18))+((I=E+(x^v&(A^x))+S[0]+3921069994&4294967295)<<20&4294967295|I>>>12))+((I=v+(A^x&(E^A))+S[5]+3593408605&4294967295)<<5&4294967295|I>>>27))+((I=x+(E^A&(v^E))+S[10]+38016083&4294967295)<<9&4294967295|I>>>23))+((I=A+(v^E&(x^v))+S[15]+3634488961&4294967295)<<14&4294967295|I>>>18))+((I=E+(x^v&(A^x))+S[4]+3889429448&4294967295)<<20&4294967295|I>>>12))+((I=v+(A^x&(E^A))+S[9]+568446438&4294967295)<<5&4294967295|I>>>27))+((I=x+(E^A&(v^E))+S[14]+3275163606&4294967295)<<9&4294967295|I>>>23))+((I=A+(v^E&(x^v))+S[3]+4107603335&4294967295)<<14&4294967295|I>>>18))+((I=E+(x^v&(A^x))+S[8]+1163531501&4294967295)<<20&4294967295|I>>>12))+((I=v+(A^x&(E^A))+S[13]+2850285829&4294967295)<<5&4294967295|I>>>27))+((I=x+(E^A&(v^E))+S[2]+4243563512&4294967295)<<9&4294967295|I>>>23))+((I=A+(v^E&(x^v))+S[7]+1735328473&4294967295)<<14&4294967295|I>>>18))+((I=E+(x^v&(A^x))+S[12]+2368359562&4294967295)<<20&4294967295|I>>>12))+((I=v+(E^A^x)+S[5]+4294588738&4294967295)<<4&4294967295|I>>>28))+((I=x+(v^E^A)+S[8]+2272392833&4294967295)<<11&4294967295|I>>>21))+((I=A+(x^v^E)+S[11]+1839030562&4294967295)<<16&4294967295|I>>>16))+((I=E+(A^x^v)+S[14]+4259657740&4294967295)<<23&4294967295|I>>>9))+((I=v+(E^A^x)+S[1]+2763975236&4294967295)<<4&4294967295|I>>>28))+((I=x+(v^E^A)+S[4]+1272893353&4294967295)<<11&4294967295|I>>>21))+((I=A+(x^v^E)+S[7]+4139469664&4294967295)<<16&4294967295|I>>>16))+((I=E+(A^x^v)+S[10]+3200236656&4294967295)<<23&4294967295|I>>>9))+((I=v+(E^A^x)+S[13]+681279174&4294967295)<<4&4294967295|I>>>28))+((I=x+(v^E^A)+S[0]+3936430074&4294967295)<<11&4294967295|I>>>21))+((I=A+(x^v^E)+S[3]+3572445317&4294967295)<<16&4294967295|I>>>16))+((I=E+(A^x^v)+S[6]+76029189&4294967295)<<23&4294967295|I>>>9))+((I=v+(E^A^x)+S[9]+3654602809&4294967295)<<4&4294967295|I>>>28))+((I=x+(v^E^A)+S[12]+3873151461&4294967295)<<11&4294967295|I>>>21))+((I=A+(x^v^E)+S[15]+530742520&4294967295)<<16&4294967295|I>>>16))+((I=E+(A^x^v)+S[2]+3299628645&4294967295)<<23&4294967295|I>>>9))+((I=v+(A^(E|~x))+S[0]+4096336452&4294967295)<<6&4294967295|I>>>26))+((I=x+(E^(v|~A))+S[7]+1126891415&4294967295)<<10&4294967295|I>>>22))+((I=A+(v^(x|~E))+S[14]+2878612391&4294967295)<<15&4294967295|I>>>17))+((I=E+(x^(A|~v))+S[5]+4237533241&4294967295)<<21&4294967295|I>>>11))+((I=v+(A^(E|~x))+S[12]+1700485571&4294967295)<<6&4294967295|I>>>26))+((I=x+(E^(v|~A))+S[3]+2399980690&4294967295)<<10&4294967295|I>>>22))+((I=A+(v^(x|~E))+S[10]+4293915773&4294967295)<<15&4294967295|I>>>17))+((I=E+(x^(A|~v))+S[1]+2240044497&4294967295)<<21&4294967295|I>>>11))+((I=v+(A^(E|~x))+S[8]+1873313359&4294967295)<<6&4294967295|I>>>26))+((I=x+(E^(v|~A))+S[15]+4264355552&4294967295)<<10&4294967295|I>>>22))+((I=A+(v^(x|~E))+S[6]+2734768916&4294967295)<<15&4294967295|I>>>17))+((I=E+(x^(A|~v))+S[13]+1309151649&4294967295)<<21&4294967295|I>>>11))+((x=(v=E+((I=v+(A^(E|~x))+S[4]+4149444226&4294967295)<<6&4294967295|I>>>26))+((I=x+(E^(v|~A))+S[11]+3174756917&4294967295)<<10&4294967295|I>>>22))^((A=x+((I=A+(v^(x|~E))+S[2]+718787259&4294967295)<<15&4294967295|I>>>17))|~v))+S[9]+3951481745&4294967295,M.g[0]=M.g[0]+v&4294967295,M.g[1]=M.g[1]+(A+(I<<21&4294967295|I>>>11))&4294967295,M.g[2]=M.g[2]+A&4294967295,M.g[3]=M.g[3]+x&4294967295}function o(M,v){this.h=v;for(var E=[],S=!0,A=M.length-1;0<=A;A--){var x=0|M[A];S&&x==v||(E[A]=x,S=!1)}this.g=E}(function e(M,v){function E(){}E.prototype=v.prototype,M.D=v.prototype,M.prototype=new E,M.prototype.constructor=M,M.C=function(S,A,x){for(var I=Array(arguments.length-2),sn=2;sn<arguments.length;sn++)I[sn-2]=arguments[sn];return v.prototype[A].apply(S,I)}})(r,function t(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(M,v){void 0===v&&(v=M.length);for(var E=v-this.blockSize,S=this.B,A=this.h,x=0;x<v;){if(0==A)for(;x<=E;)i(this,M,x),x+=this.blockSize;if("string"==typeof M){for(;x<v;)if(S[A++]=M.charCodeAt(x++),A==this.blockSize){i(this,S),A=0;break}}else for(;x<v;)if(S[A++]=M[x++],A==this.blockSize){i(this,S),A=0;break}}this.h=A,this.o+=v},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var v=1;v<M.length-8;++v)M[v]=0;var E=8*this.o;for(v=M.length-8;v<M.length;++v)M[v]=255&E,E/=256;for(this.u(M),M=Array(16),v=E=0;4>v;++v)for(var S=0;32>S;S+=8)M[E++]=this.g[v]>>>S&255;return M};var a={};function c(M){return-128<=M&&128>M?function s(M,v){var E=a;return Object.prototype.hasOwnProperty.call(E,M)?E[M]:E[M]=v(M)}(M,function(v){return new o([0|v],0>v?-1:0)}):new o([0|M],0>M?-1:0)}function u(M){if(isNaN(M)||!isFinite(M))return f;if(0>M)return w(u(-M));for(var v=[],E=1,S=0;M>=E;S++)v[S]=M/E|0,E*=4294967296;return new o(v,0)}var f=c(0),p=c(1),g=c(16777216);function y(M){if(0!=M.h)return!1;for(var v=0;v<M.g.length;v++)if(0!=M.g[v])return!1;return!0}function C(M){return-1==M.h}function w(M){for(var v=M.g.length,E=[],S=0;S<v;S++)E[S]=~M.g[S];return new o(E,~M.h).add(p)}function N(M,v){return M.add(w(v))}function R(M,v){for(;(65535&M[v])!=M[v];)M[v+1]+=M[v]>>>16,M[v]&=65535,v++}function O(M,v){this.g=M,this.h=v}function F(M,v){if(y(v))throw Error("division by zero");if(y(M))return new O(f,f);if(C(M))return v=F(w(M),v),new O(w(v.g),w(v.h));if(C(v))return v=F(M,w(v)),new O(w(v.g),v.h);if(30<M.g.length){if(C(M)||C(v))throw Error("slowDivide_ only works with positive integers.");for(var E=p,S=v;0>=S.l(M);)E=j(E),S=j(S);var A=W(E,1),x=W(S,1);for(S=W(S,2),E=W(E,2);!y(S);){var I=x.add(S);0>=I.l(M)&&(A=A.add(E),x=I),S=W(S,1),E=W(E,1)}return v=N(M,A.j(v)),new O(A,v)}for(A=f;0<=M.l(v);){for(E=Math.max(1,Math.floor(M.m()/v.m())),S=48>=(S=Math.ceil(Math.log(E)/Math.LN2))?1:Math.pow(2,S-48),I=(x=u(E)).j(v);C(I)||0<I.l(M);)I=(x=u(E-=S)).j(v);y(x)&&(x=p),A=A.add(x),M=N(M,I)}return new O(A,M)}function j(M){for(var v=M.g.length+1,E=[],S=0;S<v;S++)E[S]=M.i(S)<<1|M.i(S-1)>>>31;return new o(E,M.h)}function W(M,v){var E=v>>5;v%=32;for(var S=M.g.length-E,A=[],x=0;x<S;x++)A[x]=0<v?M.i(x+E)>>>v|M.i(x+E+1)<<32-v:M.i(x+E);return new o(A,M.h)}(n=o.prototype).m=function(){if(C(this))return-w(this).m();for(var M=0,v=1,E=0;E<this.g.length;E++){var S=this.i(E);M+=(0<=S?S:4294967296+S)*v,v*=4294967296}return M},n.toString=function(M){if(2>(M=M||10)||36<M)throw Error("radix out of range: "+M);if(y(this))return"0";if(C(this))return"-"+w(this).toString(M);for(var v=u(Math.pow(M,6)),E=this,S="";;){var A=F(E,v).g,x=((0<(E=N(E,A.j(v))).g.length?E.g[0]:E.h)>>>0).toString(M);if(y(E=A))return x+S;for(;6>x.length;)x="0"+x;S=x+S}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h},n.l=function(M){return C(M=N(this,M))?-1:y(M)?0:1},n.abs=function(){return C(this)?w(this):this},n.add=function(M){for(var v=Math.max(this.g.length,M.g.length),E=[],S=0,A=0;A<=v;A++){var x=S+(65535&this.i(A))+(65535&M.i(A)),I=(x>>>16)+(this.i(A)>>>16)+(M.i(A)>>>16);S=I>>>16,E[A]=(I&=65535)<<16|(x&=65535)}return new o(E,-2147483648&E[E.length-1]?-1:0)},n.j=function(M){if(y(this)||y(M))return f;if(C(this))return C(M)?w(this).j(w(M)):w(w(this).j(M));if(C(M))return w(this.j(w(M)));if(0>this.l(g)&&0>M.l(g))return u(this.m()*M.m());for(var v=this.g.length+M.g.length,E=[],S=0;S<2*v;S++)E[S]=0;for(S=0;S<this.g.length;S++)for(var A=0;A<M.g.length;A++){var x=this.i(S)>>>16,I=65535&this.i(S),sn=M.i(A)>>>16,Xn=65535&M.i(A);E[2*S+2*A]+=I*Xn,R(E,2*S+2*A),E[2*S+2*A+1]+=x*Xn,R(E,2*S+2*A+1),E[2*S+2*A+1]+=I*sn,R(E,2*S+2*A+1),E[2*S+2*A+2]+=x*sn,R(E,2*S+2*A+2)}for(S=0;S<v;S++)E[S]=E[2*S+1]<<16|E[2*S];for(S=v;S<2*v;S++)E[S]=0;return new o(E,0)},n.A=function(M){return F(this,M).h},n.and=function(M){for(var v=Math.max(this.g.length,M.g.length),E=[],S=0;S<v;S++)E[S]=this.i(S)&M.i(S);return new o(E,this.h&M.h)},n.or=function(M){for(var v=Math.max(this.g.length,M.g.length),E=[],S=0;S<v;S++)E[S]=this.i(S)|M.i(S);return new o(E,this.h|M.h)},n.xor=function(M){for(var v=Math.max(this.g.length,M.g.length),E=[],S=0;S<v;S++)E[S]=this.i(S)^M.i(S);return new o(E,this.h^M.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,QJ=KJ.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=function d(M,v){if(0==M.length)throw Error("number format error: empty string");if(2>(v=v||10)||36<v)throw Error("radix out of range: "+v);if("-"==M.charAt(0))return w(d(M.substring(1),v));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=u(Math.pow(v,8)),S=f,A=0;A<M.length;A+=8){var x=Math.min(8,M.length-A),I=parseInt(M.substring(A,A+x),v);8>x?(x=u(Math.pow(v,x)),S=S.j(x).add(u(I))):S=(S=S.j(E)).add(u(I))}return S},Jl=KJ.Integer=o}).apply(typeof WJ<"u"?WJ:typeof self<"u"?self:typeof window<"u"?window:{});var YJ,Zf,JJ,Ym,ZI,XJ,ZJ,eX,Qm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},oc={};(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(l,h,m){return l==Array.prototype||l==Object.prototype||(l[h]=m.value),l},r=function t(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof Qm&&Qm];for(var h=0;h<l.length;++h){var m=l[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}(this);!function i(l,h){if(h)e:{var m=r;l=l.split(".");for(var _=0;_<l.length-1;_++){var L=l[_];if(!(L in m))break e;m=m[L]}(h=h(_=m[l=l[l.length-1]]))!=_&&null!=h&&e(m,l,{configurable:!0,writable:!0,value:h})}}("Array.prototype.values",function(l){return l||function(){return function s(l,h){l instanceof String&&(l+="");var m=0,_=!1,L={next:function(){if(!_&&m<l.length){var z=m++;return{value:h(z,l[z]),done:!1}}return _=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}(this,function(h,m){return m})}});var o=o||{},a=this||self;function c(l){var h=typeof l;return"array"==(h="object"!=h?h:l?Array.isArray(l)?"array":h:"null")||"object"==h&&"number"==typeof l.length}function u(l){var h=typeof l;return"object"==h&&null!=l||"function"==h}function d(l,h,m){return l.call.apply(l.bind,arguments)}function f(l,h,m){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,_),l.apply(h,L)}}return function(){return l.apply(h,arguments)}}function p(l,h,m){return(p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:f).apply(null,arguments)}function g(l,h){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function y(l,h){function m(){}m.prototype=h.prototype,l.aa=h.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(_,L,z){for(var G=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)G[Ye-2]=arguments[Ye];return h.prototype[L].apply(_,G)}}function C(l){const h=l.length;if(0<h){const m=Array(h);for(let _=0;_<h;_++)m[_]=l[_];return m}return[]}function w(l,h){for(let m=1;m<arguments.length;m++){const _=arguments[m];if(c(_)){const L=l.length||0,z=_.length||0;l.length=L+z;for(let G=0;G<z;G++)l[L+G]=_[G]}else l.push(_)}}function R(l){return/^[\s\xa0]*$/.test(l)}function O(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function F(l){return F[" "](l),l}F[" "]=function(){};var j=!(-1==O().indexOf("Gecko")||-1!=O().toLowerCase().indexOf("webkit")&&-1==O().indexOf("Edge")||-1!=O().indexOf("Trident")||-1!=O().indexOf("MSIE")||-1!=O().indexOf("Edge"));function W(l,h,m){for(const _ in l)h.call(m,l[_],_,l)}function v(l){const h={};for(const m in l)h[m]=l[m];return h}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(l,h){let m,_;for(let L=1;L<arguments.length;L++){for(m in _=arguments[L],_)l[m]=_[m];for(let z=0;z<E.length;z++)m=E[z],Object.prototype.hasOwnProperty.call(_,m)&&(l[m]=_[m])}}function A(l){var h=1;l=l.split(":");const m=[];for(;0<h&&l.length;)m.push(l.shift()),h--;return l.length&&m.push(l.join(":")),m}function x(l){a.setTimeout(()=>{throw l},0)}function I(){var l=rt;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}var Xn=new class N{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}(()=>new we,l=>l.reset());class we{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,Pe=!1,rt=new class sn{constructor(){this.h=this.g=null}add(h,m){const _=Xn.get();_.set(h,m),this.h?this.h.next=_:this.g=_,this.h=_}},mn=()=>{const l=a.Promise.resolve(void 0);Ie=()=>{l.then(Hn)}};var Hn=()=>{for(var l;l=I();){try{l.h.call(l.g)}catch(m){x(m)}var h=Xn;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}Pe=!1};function Mt(){this.s=this.s,this.C=this.C}function Ze(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}Mt.prototype.s=!1,Mt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Mt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Ze.prototype.h=function(){this.defaultPrevented=!0};var Dt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,h),a.removeEventListener("test",m,h)}catch{}return l}();function Gn(l,h){if(Ze.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(j){e:{try{F(h.nodeName);var L=!0;break e}catch{}L=!1}L||(h=null)}}else"mouseover"==m?h=l.fromElement:"mouseout"==m&&(h=l.toElement);this.relatedTarget=h,_?(this.clientX=void 0!==_.clientX?_.clientX:_.pageX,this.clientY=void 0!==_.clientY?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:Si[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Gn.aa.h.call(this)}}y(Gn,Ze);var Si={2:"touch",3:"pen",4:"mouse"};Gn.prototype.h=function(){Gn.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var $t="closure_listenable_"+(1e6*Math.random()|0),xr=0;function Dr(l,h,m,_,L){this.listener=l,this.proxy=null,this.src=h,this.type=m,this.capture=!!_,this.ha=L,this.key=++xr,this.da=this.fa=!1}function di(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function fi(l){this.src=l,this.g={},this.h=0}function zo(l,h){var m=h.type;if(m in l.g){var z,_=l.g[m],L=Array.prototype.indexOf.call(_,h,void 0);(z=0<=L)&&Array.prototype.splice.call(_,L,1),z&&(di(h),0==l.g[m].length&&(delete l.g[m],l.h--))}}function Oo(l,h,m,_){for(var L=0;L<l.length;++L){var z=l[L];if(!z.da&&z.listener==h&&z.capture==!!m&&z.ha==_)return L}return-1}fi.prototype.add=function(l,h,m,_,L){var z=l.toString();(l=this.g[z])||(l=this.g[z]=[],this.h++);var G=Oo(l,h,_,L);return-1<G?(h=l[G],m||(h.fa=!1)):((h=new Dr(h,this.src,z,!!_,L)).fa=m,l.push(h)),h};var oo="closure_lm_"+(1e6*Math.random()|0),aa={};function Gr(l,h,m,_,L){if(_&&_.once)return hi(l,h,m,_,L);if(Array.isArray(h)){for(var z=0;z<h.length;z++)Gr(l,h[z],m,_,L);return null}return m=ao(m),l&&l[$t]?l.K(h,m,u(_)?!!_.capture:!!_,L):Ds(l,h,m,!1,_,L)}function Ds(l,h,m,_,L,z){if(!h)throw Error("Invalid event type");var G=u(L)?!!L.capture:!!L,Ye=tn(l);if(Ye||(l[oo]=Ye=new fi(l)),(m=Ye.add(h,m,_,G,z)).proxy)return m;if(_=function ut(){const h=Lc;return function l(m){return h.call(l.src,l.listener,m)}}(),m.proxy=_,_.src=l,_.listener=m,l.addEventListener)Dt||(L=G),void 0===L&&(L=!1),l.addEventListener(h.toString(),_,L);else if(l.attachEvent)l.attachEvent(Pa(h.toString()),_);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(_)}return m}function hi(l,h,m,_,L){if(Array.isArray(h)){for(var z=0;z<h.length;z++)hi(l,h[z],m,_,L);return null}return m=ao(m),l&&l[$t]?l.L(h,m,u(_)?!!_.capture:!!_,L):Ds(l,h,m,!0,_,L)}function ur(l,h,m,_,L){if(Array.isArray(h))for(var z=0;z<h.length;z++)ur(l,h[z],m,_,L);else _=u(_)?!!_.capture:!!_,m=ao(m),l&&l[$t]?(l=l.i,(h=String(h).toString())in l.g&&-1<(m=Oo(z=l.g[h],m,_,L))&&(di(z[m]),Array.prototype.splice.call(z,m,1),0==z.length&&(delete l.g[h],l.h--))):l&&(l=tn(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Oo(h,m,_,L)),(m=-1<l?h[l]:null)&&Ls(m))}function Ls(l){if("number"!=typeof l&&l&&!l.da){var h=l.src;if(h&&h[$t])zo(h.i,l);else{var m=l.type,_=l.proxy;h.removeEventListener?h.removeEventListener(m,_,l.capture):h.detachEvent?h.detachEvent(Pa(m),_):h.addListener&&h.removeListener&&h.removeListener(_),(m=tn(h))?(zo(m,l),0==m.h&&(m.src=null,h[oo]=null)):di(l)}}}function Pa(l){return l in aa?aa[l]:aa[l]="on"+l}function Lc(l,h){if(l.da)l=!0;else{h=new Gn(h,this);var m=l.listener,_=l.ha||l.src;l.fa&&Ls(l),l=m.call(_,h)}return l}function tn(l){return(l=l[oo])instanceof fi?l:null}var ds="__closure_events_fn_"+(1e9*Math.random()>>>0);function ao(l){return"function"==typeof l?l:(l[ds]||(l[ds]=function(h){return l.handleEvent(h)}),l[ds])}function Et(){Mt.call(this),this.i=new fi(this),this.M=this,this.F=null}function gt(l,h){var m,_=l.F;if(_)for(m=[];_;_=_.F)m.push(_);if(l=l.M,_=h.type||h,"string"==typeof h)h=new Ze(h,l);else if(h instanceof Ze)h.target=h.target||l;else{var L=h;S(h=new Ze(_,l),L)}if(L=!0,m)for(var z=m.length-1;0<=z;z--){var G=h.g=m[z];L=ko(G,_,!0,h)&&L}if(L=ko(G=h.g=l,_,!0,h)&&L,L=ko(G,_,!1,h)&&L,m)for(z=0;z<m.length;z++)L=ko(G=h.g=m[z],_,!1,h)&&L}function ko(l,h,m,_){if(!(h=l.i.g[String(h)]))return!0;h=h.concat();for(var L=!0,z=0;z<h.length;++z){var G=h[z];if(G&&!G.da&&G.capture==m){var Ye=G.listener,Kt=G.ha||G.src;G.fa&&zo(l.i,G),L=!1!==Ye.call(Kt,_)&&L}}return L&&!_.defaultPrevented}function Fo(l,h,m){if("function"==typeof l)m&&(l=p(l,m));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=p(l.handleEvent,l)}return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function sl(l){l.g=Fo(()=>{l.g=null,l.i&&(l.i=!1,sl(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}y(Et,Mt),Et.prototype[$t]=!0,Et.prototype.removeEventListener=function(l,h,m,_){ur(this,l,h,m,_)},Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var h,l=this.i;for(h in l.g){for(var m=l.g[h],_=0;_<m.length;_++)di(m[_]);delete l.g[h],l.h--}}this.F=null},Et.prototype.K=function(l,h,m,_){return this.i.add(String(l),h,!1,m,_)},Et.prototype.L=function(l,h,m,_){return this.i.add(String(l),h,!0,m,_)};class Rc extends Mt{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:sl(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(l){Mt.call(this),this.h=l,this.g={}}y(fs,Mt);var Nc=[];function ol(l){W(l.g,function(h,m){this.g.hasOwnProperty(m)&&Ls(h)},l),l.g={}}fs.prototype.N=function(){fs.aa.N.call(this),ol(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var T1=a.JSON.stringify,z6=a.JSON.parse,p5=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function I1(){}function S1(){}I1.prototype.h=null;var Ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ca(){Ze.call(this,"d")}function Vo(){Ze.call(this,"c")}y(ca,Ze),y(Vo,Ze);var qr={},la=null;function co(){return la=la||new Et}function pi(l){Ze.call(this,qr.La,l)}function hs(l){const h=co();gt(h,new pi(h))}function l3(l,h){Ze.call(this,qr.STAT_EVENT,l),this.stat=h}function Tt(l){const h=co();gt(h,new l3(h,l))}function Pc(l,h){Ze.call(this,qr.Ma,l),this.size=h}function ti(l,h){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Rs(){this.g=!0}function xi(l,h,m,_){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+function _5(l,h){if(!l.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m)for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var _=m[l];if(!(2>_.length)){var L=_[1];if(Array.isArray(L)&&!(1>L.length)){var z=L[0];if("noop"!=z&&"stop"!=z&&"close"!=z)for(var G=1;G<L.length;G++)L[G]=""}}}return T1(m)}catch{return h}}(l,m)+(_?" "+_:"")})}qr.La="serverreachability",y(pi,Ze),qr.STAT_EVENT="statevent",y(l3,Ze),qr.Ma="timingevent",y(Pc,Ze),Rs.prototype.xa=function(){this.g=!1},Rs.prototype.info=function(){};var A1,za={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ns={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oa(){}function nn(l,h,m,_){this.j=l,this.i=h,this.l=m,this.R=_||1,this.U=new fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new al}function al(){this.i=null,this.g="",this.h=!1}y(Oa,I1),Oa.prototype.g=function(){return new XMLHttpRequest},Oa.prototype.i=function(){return{}},A1=new Oa;var Ps={},ua={};function da(l,h,m){l.L=1,l.v=mi(Cr(h)),l.m=m,l.P=!0,cl(l,null)}function cl(l,h){l.F=Date.now(),Bo(l),l.A=Cr(l.v);var m=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),ne(m.i,"t",_),l.C=0,m=l.j.J,l.h=new al,l.g=M5(l.j,m?h:null,!l.m),0<l.O&&(l.M=new Rc(p(l.Y,l,l.g),l.O)),h=l.U,m=l.g,_=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(Nc[0]=L.toString()),L=Nc);for(var z=0;z<L.length;z++){var G=Gr(m,L[z],_||h.handleEvent,!1,h.h||h);if(!G)break;h.g[G.key]=G}h=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),hs(),function u3(l,h,m,_,L,z){l.info(function(){if(l.g)if(z)for(var G="",Ye=z.split("&"),Kt=0;Kt<Ye.length;Kt++){var Be=Ye[Kt].split("=");if(1<Be.length){var cn=Be[0];Be=Be[1];var ln=cn.split("_");G=2<=ln.length&&"type"==ln[1]?G+(cn+"=")+Be+"&":G+(cn+"=redacted&")}}else G=null;else G=z;return"XMLHTTP REQ ("+_+") [attempt "+L+"]: "+h+"\n"+m+"\n"+G})}(l.i,l.u,l.A,l.l,l.R,l.m)}function zc(l){return!!l.g&&"GET"==l.u&&2!=l.L&&l.j.Ca}function y5(l,h){var m=l.C,_=h.indexOf("\n",m);return-1==_?ua:(m=Number(h.substring(m,_)),isNaN(m)?Ps:(_+=1)+m>h.length?ua:(h=h.slice(_,_+m),l.C=_+m,h))}function Bo(l){l.S=Date.now()+l.I,d3(l,l.I)}function d3(l,h){if(null!=l.B)throw Error("WatchDog timer not null");l.B=ti(p(l.ba,l),h)}function Oc(l){l.B&&(a.clearTimeout(l.B),l.B=null)}function lo(l){0==l.j.G||l.J||w5(l.j,l)}function Di(l){Oc(l);var h=l.M;h&&"function"==typeof h.ma&&h.ma(),l.M=null,ol(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function x1(l,h){try{var m=l.j;if(0!=m.G&&(m.g==l||kc(m.h,l)))if(!l.K&&kc(m.h,l)&&3==m.G){try{var _=m.Da.g.parse(h)}catch{_=null}if(Array.isArray(_)&&3==_.length){var L=_;if(0==L[0]){e:if(!m.u){if(m.g){if(!(m.g.F+3e3<l.F))break e;Uc(m),ha(m)}fo(m),Tt(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&0==m.v&&!m.C&&(m.C=ti(p(m.Za,m),6e3));if(1>=p3(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Fs(m,11)}else if((l.K||m.g==l)&&Uc(m),!R(h))for(L=m.Da.g.parse(h),h=0;h<L.length;h++){let Be=L[h];if(m.T=Be[0],Be=Be[1],2==m.G)if("c"==Be[0]){m.K=Be[1],m.ia=Be[2];const cn=Be[3];null!=cn&&(m.la=cn,m.j.info("VER="+m.la));const ln=Be[4];null!=ln&&(m.Aa=ln,m.j.info("SVER="+m.Aa));const $o=Be[5];null!=$o&&"number"==typeof $o&&0<$o&&(m.L=_=1.5*$o,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;const wr=l.g;if(wr){const $c=wr.g?wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($c){var z=_.h;z.g||-1==$c.indexOf("spdy")&&-1==$c.indexOf("quic")&&-1==$c.indexOf("h2")||(z.j=z.l,z.g=new Set,z.h&&(Fc(z,z.h),z.h=null))}if(_.D){const v3=wr.g?wr.g.getResponseHeader("X-HTTP-Session-Id"):null;v3&&(_.ya=v3,et(_.I,_.D,v3))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms"));var G=l;if((_=m).qa=I5(_,_.J?_.ia:null,_.W),G.K){m3(_.h,G);var Ye=G,Kt=_.L;Kt&&(Ye.I=Kt),Ye.B&&(Oc(Ye),Bo(Ye)),_.g=G}else ml(_);0<m.i.length&&ks(m)}else"stop"!=Be[0]&&"close"!=Be[0]||Fs(m,7);else 3==m.G&&("stop"==Be[0]||"close"==Be[0]?"stop"==Be[0]?Fs(m,7):qn(m):"noop"!=Be[0]&&m.l&&m.l.ta(Be),m.v=0)}hs()}catch{}}function f3(l){this.l=l||10,l=a.PerformanceNavigationTiming?0<(l=a.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function h3(l){return!!l.h||!!l.g&&l.g.size>=l.j}function p3(l){return l.h?1:l.g?l.g.size:0}function kc(l,h){return l.h?l.h==h:!!l.g&&l.g.has(h)}function Fc(l,h){l.g?l.g.add(h):l.h=h}function m3(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}function D1(l){if(null!=l.h)return l.i.concat(l.h.D);if(null!=l.g&&0!==l.g.size){let h=l.i;for(const m of l.g.values())h=h.concat(m.D);return h}return C(l.i)}function g3(l,h){if(l.forEach&&"function"==typeof l.forEach)l.forEach(h,void 0);else if(c(l)||"string"==typeof l)Array.prototype.forEach.call(l,h,void 0);else for(var m=function b5(l){if(l.na&&"function"==typeof l.na)return l.na();if(!l.V||"function"!=typeof l.V){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||"string"==typeof l){var h=[];l=l.length;for(var m=0;m<l;m++)h.push(m);return h}h=[],m=0;for(const _ in l)h[m++]=_;return h}}}(l),_=function ll(l){if(l.V&&"function"==typeof l.V)return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if("string"==typeof l)return l.split("");if(c(l)){for(var h=[],m=l.length,_=0;_<m;_++)h.push(l[_]);return h}for(_ in h=[],m=0,l)h[m++]=l[_];return h}(l),L=_.length,z=0;z<L;z++)h.call(void 0,_[z],m&&m[z],l)}nn.prototype.ca=function(l){l=l.target;const h=this.M;h&&3==tt(l)?h.j():this.Y(l)},nn.prototype.Y=function(l){try{if(l==this.g)e:{const ln=tt(this.g);var h=this.g.Ba();if(this.g.Z(),!(3>ln)&&(3!=ln||this.g&&(this.h.h||this.g.oa()||Ht(this.g)))){this.J||4!=ln||7==h||hs(),Oc(this);var m=this.g.Z();this.X=m;t:if(zc(this)){var _=Ht(this.g);l="";var L=_.length,z=4==tt(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Di(this),lo(this);var G="";break t}this.h.i=new a.TextDecoder}for(h=0;h<L;h++)this.h.h=!0,l+=this.h.i.decode(_[h],{stream:!(z&&h==L-1)});_.length=0,this.h.g+=l,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=200==m,function m5(l,h,m,_,L,z,G){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+L+"]: "+h+"\n"+m+"\n"+z+" "+G})}(this.i,this.u,this.A,this.l,this.R,ln,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Kt=this.g;if((Ye=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(Ye)){var Be=Ye;break t}}Be=null}if(!(m=Be)){this.o=!1,this.s=3,Tt(12),Di(this),lo(this);break e}xi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,x1(this,m)}if(this.P){let wr;for(m=!0;!this.J&&this.C<G.length;){if(wr=y5(this,G),wr==ua){4==ln&&(this.s=4,Tt(14),m=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}if(wr==Ps){this.s=4,Tt(15),xi(this.i,this.l,G,"[Invalid Chunk]"),m=!1;break}xi(this.i,this.l,wr,null),x1(this,wr)}if(zc(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ln||0!=G.length||this.h.h||(this.s=1,Tt(16),m=!1),this.o=this.o&&m,m){if(0<G.length&&!this.W){this.W=!0;var cn=this.j;cn.g==this&&cn.ba&&!cn.M&&(cn.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Bc(cn),cn.M=!0,Tt(11))}}else xi(this.i,this.l,G,"[Invalid Chunked Response]"),Di(this),lo(this)}else xi(this.i,this.l,G,null),x1(this,G);4==ln&&Di(this),this.o&&!this.J&&(4==ln?w5(this.j,this):(this.o=!1,Bo(this)))}else(function ps(l){const h={};l=(l.g&&2<=tt(l)&&l.g.getAllResponseHeaders()||"").split("\r\n");for(let _=0;_<l.length;_++){if(R(l[_]))continue;var m=A(l[_]);const L=m[0];if("string"!=typeof(m=m[1]))continue;m=m.trim();const z=h[L]||[];h[L]=z,z.push(m)}!function M(l,h){for(const m in l)h.call(void 0,l[m],m,l)}(h,function(_){return _.join(", ")})})(this.g),400==m&&0<G.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),Di(this),lo(this)}}}catch{}},nn.prototype.cancel=function(){this.J=!0,Di(this)},nn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(function g5(l,h){l.info(function(){return"TIMEOUT: "+h})}(this.i,this.A),2!=this.L&&(hs(),Tt(17)),Di(this),this.s=2,lo(this)):d3(this,this.S-l)},f3.prototype.cancel=function(){if(this.i=D1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}};var ul=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Li(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Li){this.h=l.h,ka(this,l.j),this.o=l.o,this.g=l.g,fa(this,l.s),this.l=l.l;var h=l.i,m=new B;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),L1(this,m),this.m=l.m}else l&&(h=String(l).match(ul))?(this.h=!1,ka(this,h[1]||"",!0),this.o=zs(h[2]||""),this.g=zs(h[3]||"",!0),fa(this,h[4]),this.l=zs(h[5]||"",!0),L1(this,h[6]||"",!0),this.m=zs(h[7]||"")):(this.h=!1,this.i=new B(null,this.h))}function Cr(l){return new Li(l)}function ka(l,h,m){l.j=m?zs(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function fa(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function L1(l,h,m){h instanceof B?(l.i=h,function ye(l,h){h&&!l.j&&(K(l),l.i=null,l.g.forEach(function(m,_){var L=_.toLowerCase();_!=L&&(te(this,_),ne(this,L,m))},l)),l.j=h}(l.i,l.h)):(m||(h=uo(h,P)),l.i=new B(h,l.h))}function et(l,h,m){l.i.set(h,m)}function mi(l){return et(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function zs(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function uo(l,h,m){return"string"==typeof l?(l=encodeURI(l).replace(h,dl),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function dl(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}Li.prototype.toString=function(){var l=[],h=this.j;h&&l.push(uo(h,fl,!0),":");var m=this.g;return(m||"file"==h)&&(l.push("//"),(h=this.o)&&l.push(uo(h,fl,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(m=this.s)&&l.push(":",String(m))),(m=this.l)&&(this.g&&"/"!=m.charAt(0)&&l.push("/"),l.push(uo(m,"/"==m.charAt(0)?b:T,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",uo(m,k)),l.join("")};var l,fl=/[#\/\?@]/g,T=/[#\?:]/g,b=/[#\?]/g,P=/[#\?@]/g,k=/#/g;function B(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function K(l){l.g||(l.g=new Map,l.h=0,l.i&&function _3(l,h){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var _=l[m].indexOf("="),L=null;if(0<=_){var z=l[m].substring(0,_);L=l[m].substring(_+1)}else z=l[m];h(z,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}(l.i,function(h,m){l.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}function te(l,h){K(l),h=X(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function ee(l,h){return K(l),h=X(l,h),l.g.has(h)}function ne(l,h,m){te(l,h),0<m.length&&(l.i=null,l.g.set(X(l,h),C(m)),l.h+=m.length)}function X(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function ke(l,h,m,_,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),_(m)}catch{}}function be(){this.g=new p5}function gn(l,h,m){const _=m||"";try{g3(l,function(L,z){let G=L;u(L)&&(G=T1(L)),h.push(_+z+"="+encodeURIComponent(G))})}catch(L){throw h.push(_+"type="+encodeURIComponent("_badmap")),L}}function on(l){this.l=l.Ub||null,this.j=l.eb||!1}function Je(l,h){Et.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function _t(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}function an(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Zn(l)}function Zn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}function Os(l){let h="";return W(l,function(m,_){h+=_,h+=":",h+=m,h+="\r\n"}),h}function It(l,h,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=Os(m),"string"==typeof l?null!=m&&encodeURIComponent(String(m)):et(l,h,m))}function Xe(l){Et.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=B.prototype).add=function(l,h){K(this),this.i=null,l=X(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(h),this.h+=1,this},n.forEach=function(l,h){K(this),this.g.forEach(function(m,_){m.forEach(function(L){l.call(h,L,_,this)},this)},this)},n.na=function(){K(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let _=0;_<h.length;_++){const L=l[_];for(let z=0;z<L.length;z++)m.push(h[_])}return m},n.V=function(l){K(this);let h=[];if("string"==typeof l)ee(this,l)&&(h=h.concat(this.g.get(X(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)h=h.concat(l[m])}return h},n.set=function(l,h){return K(this),this.i=null,ee(this,l=X(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l&&0<(l=this.V(l)).length?String(l[0]):h},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var _=h[m];const z=encodeURIComponent(String(_)),G=this.V(_);for(_=0;_<G.length;_++){var L=z;""!==G[_]&&(L+="="+encodeURIComponent(String(G[_]))),l.push(L)}}return this.i=l.join("&")},y(on,I1),on.prototype.g=function(){return new Je(this.l,this.j)},on.prototype.i=(l={},function(){return l}),y(Je,Et),(n=Je.prototype).open=function(l,h){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Zn(this)},n.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,an(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_t(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?an(this):Zn(this),3==this.readyState&&_t(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,an(this))},n.Qa=function(l){this.g&&(this.response=l,an(this))},n.ga=function(){this.g&&an(this)},n.setRequestHeader=function(l,h){this.u.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var m=h.next();!m.done;)l.push((m=m.value)[0]+": "+m[1]),m=h.next();return l.join("\r\n")},Object.defineProperty(Je.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}}),y(Xe,Et);var y3=/^https?$/i,_e=["POST","PUT"];function Ke(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,At(l),it(l)}function At(l){l.A||(l.A=!0,gt(l,"complete"),gt(l,"error"))}function vt(l){if(l.h&&typeof o<"u"&&(!l.v[1]||4!=tt(l)||2!=l.Z()))if(l.u&&4==tt(l))Fo(l.Ea,0,l);else if(gt(l,"readystatechange"),4==tt(l)){l.h=!1;try{const G=l.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var _;if(_=0===G){var L=String(l.D).match(ul)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),_=!y3.test(L?L.toLowerCase():"")}m=_}if(m)gt(l,"complete"),gt(l,"success");else{l.m=6;try{var z=2<tt(l)?l.g.statusText:""}catch{z=""}l.l=z+" ["+l.Z()+"]",At(l)}}finally{it(l)}}}function it(l,h){if(l.g){Wt(l);const m=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||gt(l,"ready");try{m.onreadystatechange=_}catch{}}}function Wt(l){l.I&&(a.clearTimeout(l.I),l.I=null)}function tt(l){return l.g?l.g.readyState:0}function Ht(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function _n(l,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||h}function ms(l){this.Aa=0,this.i=[],this.j=new Rs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_n("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_n("baseRetryDelayMs",5e3,l),this.cb=_n("retryDelaySeedMs",1e4,l),this.Wa=_n("forwardChannelMaxRetries",2,l),this.wa=_n("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new f3(l&&l.concurrentRequestLimit),this.Da=new be,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function qn(l){if(hl(l),3==l.G){var h=l.U++,m=Cr(l.I);if(et(m,"SID",l.K),et(m,"RID",h),et(m,"TYPE","terminate"),gi(l,m),(h=new nn(l,l.j,h)).L=2,h.v=mi(Cr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&a.Image&&((new Image).src=h.v,m=!0),m||(h.g=M5(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Bo(h)}T5(l)}function ha(l){l.g&&(Bc(l),l.g.cancel(),l.g=null)}function hl(l){ha(l),l.u&&(a.clearTimeout(l.u),l.u=null),Uc(l),l.h.cancel(),l.s&&("number"==typeof l.s&&a.clearTimeout(l.s),l.s=null)}function ks(l){if(!h3(l.h)&&!l.s){l.s=!0;var h=l.Ga;Ie||mn(),Pe||(Ie(),Pe=!0),rt.add(h,l),l.B=0}}function Uo(l,h){var m;m=h?h.l:l.U++;const _=Cr(l.I);et(_,"SID",l.K),et(_,"RID",m),et(_,"AID",l.T),gi(l,_),l.m&&l.o&&It(_,l.m,l.o),m=new nn(l,l.j,m,l.B+1),null===l.m&&(m.H=l.o),h&&(l.i=h.D.concat(l.i)),h=pl(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Fc(l.h,m),da(m,_,h)}function gi(l,h){l.H&&W(l.H,function(m,_){et(h,_,m)}),l.l&&g3({},function(m,_){et(h,_,m)})}function pl(l,h,m){m=Math.min(l.i.length,m);var _=l.l?p(l.l.Na,l.l,l):null;e:{var L=l.i;let z=-1;for(;;){const G=["count="+m];-1==z?0<m?(z=L[0].g,G.push("ofs="+z)):z=0:G.push("ofs="+z);let Ye=!0;for(let Kt=0;Kt<m;Kt++){let Be=L[Kt].g;const cn=L[Kt].map;if(Be-=z,0>Be)z=Math.max(0,L[Kt].g-100),Ye=!1;else try{gn(cn,G,"req"+Be+"_")}catch{_&&_(cn)}}if(Ye){_=G.join("&");break e}}}return l=l.i.splice(0,m),h.D=l,_}function ml(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;Ie||mn(),Pe||(Ie(),Pe=!0),rt.add(h,l),l.v=0}}function fo(l){return!(l.g||l.u||3<=l.v||(l.Y++,l.u=ti(p(l.Fa,l),E5(l,l.v)),l.v++,0))}function Bc(l){null!=l.A&&(a.clearTimeout(l.A),l.A=null)}function C5(l){l.g=new nn(l,l.j,"rpc",l.Y),null===l.m&&(l.g.H=l.o),l.g.O=0;var h=Cr(l.qa);et(h,"RID","rpc"),et(h,"SID",l.K),et(h,"AID",l.T),et(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&et(h,"TO",l.ja),et(h,"TYPE","xmlhttp"),gi(l,h),l.m&&l.o&&It(h,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=mi(Cr(h)),m.m=null,m.P=!0,cl(m,l)}function Uc(l){null!=l.C&&(a.clearTimeout(l.C),l.C=null)}function w5(l,h){var m=null;if(l.g==h){Uc(l),Bc(l),l.g=null;var _=2}else{if(!kc(l.h,h))return;m=h.D,m3(l.h,h),_=1}if(0!=l.G)if(h.o)if(1==_){m=h.m?h.m.length:0,h=Date.now()-h.F;var L=l.B;gt(_=co(),new Pc(_,m)),ks(l)}else ml(l);else if(3==(L=h.s)||0==L&&0<h.X||!(1==_&&function Vc(l,h){return!(p3(l.h)>=l.h.j-(l.s?1:0)||(l.s?(l.i=h.D.concat(l.i),0):1==l.G||2==l.G||l.B>=(l.Va?0:l.Wa)||(l.s=ti(p(l.Ga,l,h),E5(l,l.B)),l.B++,0)))}(l,h)||2==_&&fo(l)))switch(m&&0<m.length&&(h=l.h,h.i=h.i.concat(m)),L){case 1:Fs(l,5);break;case 4:Fs(l,10);break;case 3:Fs(l,6);break;default:Fs(l,2)}}function E5(l,h){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*h}function Fs(l,h){if(l.j.info("Error code "+h),2==h){var m=p(l.fb,l),_=l.Xa;const L=!_;_=new Li(_||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||ka(_,"https"),mi(_),L?function ze(l,h){const m=new Rs;if(a.Image){const _=new Image;_.onload=g(ke,m,"TestLoadImage: loaded",!0,h,_),_.onerror=g(ke,m,"TestLoadImage: error",!1,h,_),_.onabort=g(ke,m,"TestLoadImage: abort",!1,h,_),_.ontimeout=g(ke,m,"TestLoadImage: timeout",!1,h,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else h(!1)}(_.toString(),m):function Oe(l,h){new Rs;const _=new AbortController,L=setTimeout(()=>{_.abort(),ke(0,0,!1,h)},1e4);fetch(l,{signal:_.signal}).then(z=>{clearTimeout(L),ke(0,0,!!z.ok,h)}).catch(()=>{clearTimeout(L),ke(0,0,!1,h)})}(_.toString(),m)}else Tt(2);l.G=0,l.l&&l.l.sa(h),T5(l),hl(l)}function T5(l){if(l.G=0,l.ka=[],l.l){const h=D1(l.h);(0!=h.length||0!=l.i.length)&&(w(l.ka,h),w(l.ka,l.i),l.h.i.length=0,C(l.i),l.i.length=0),l.l.ra()}}function I5(l,h,m){var _=m instanceof Li?Cr(m):new Li(m);if(""!=_.g)h&&(_.g=h+"."+_.g),fa(_,_.s);else{var L=a.location;_=L.protocol,h=h?h+"."+L.hostname:L.hostname,L=+L.port;var z=new Li(null);_&&ka(z,_),h&&(z.g=h),L&&fa(z,L),m&&(z.l=m),_=z}return h=l.ya,(m=l.D)&&h&&et(_,m,h),et(_,"VER",l.la),gi(l,_),_}function M5(l,h,m){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return(h=new Xe(l.Ca&&!l.pa?new on({eb:m}):l.pa)).Ha(l.J),h}function S5(){}function jc(){}function zn(l,h){Et.call(this),this.g=new ms(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!R(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!R(h)&&(this.g.D=h,null!==(l=this.h)&&h in l&&h in(l=this.h)&&delete l[h]),this.j=new jo(this)}function A5(l){ca.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const m in h){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,h=null!==h&&l in h?h[l]:void 0),this.data=h}else this.data=l}function x5(){Vo.call(this),this.status=1}function jo(l){this.g=l}(n=Xe.prototype).Ha=function(l){this.J=l},n.ea=function(l,h,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():A1.g(),this.v=function M1(l){return l.h||(l.h=l.i())}(this.o?this.o:A1),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(z){return void Ke(this,z)}if(l=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var L in _)m.set(L,_[L]);else{if("function"!=typeof _.keys||"function"!=typeof _.get)throw Error("Unknown input type for opt_headers: "+String(_));for(const z of _.keys())m.set(z,_.get(z))}_=Array.from(m.keys()).find(z=>"content-type"==z.toLowerCase()),L=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(_e,h,void 0))||_||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,G]of m)this.g.setRequestHeader(z,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wt(this),this.u=!0,this.g.send(l),this.u=!1}catch(z){Ke(this,z)}},n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,gt(this,"complete"),gt(this,"abort"),it(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),it(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?vt(this):this.bb())},n.bb=function(){vt(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<tt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&0==h.indexOf(l)&&(h=h.substring(l.length)),z6(h)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=ms.prototype).la=8,n.G=1,n.connect=function(l,h,m,_){Tt(0),this.W=l,this.H=h||{},m&&void 0!==_&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.I=I5(this,null,this.W),ks(this)},n.Ga=function(l){if(this.s)if(this.s=null,1==this.G){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new nn(this,this.j,l);let z=this.o;if(this.S&&(z?(z=v(z),S(z,this.S)):z=this.S),null!==this.m||this.O||(L.H=z,z=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){var _=this.i[m];if(void 0===(_="__data__"in _.map&&"string"==typeof(_=_.map.__data__)?_.length:void 0))break;if(4096<(h+=_)){h=m;break e}if(4096===h||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=pl(this,L,h),et(m=Cr(this.I),"RID",l),et(m,"CVER",22),this.D&&et(m,"X-HTTP-Session-Id",this.D),gi(this,m),z&&(this.O?h="headers="+encodeURIComponent(String(Os(z)))+"&"+h:this.m&&It(m,this.m,z)),Fc(this.h,L),this.Ua&&et(m,"TYPE","init"),this.P?(et(m,"$req",h),et(m,"SID","null"),L.T=!0,da(L,m,null)):da(L,m,h),this.G=2}}else 3==this.G&&(l?Uo(this,l):0==this.i.length||h3(this.h)||Uo(this))},n.Fa=function(){if(this.u=null,C5(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=ti(p(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),ha(this),C5(this))},n.Za=function(){null!=this.C&&(this.C=null,ha(this),fo(this),Tt(19))},n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=S5.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},jc.prototype.g=function(l,h){return new zn(l,h)},y(zn,Et),zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){qn(this.g)},zn.prototype.o=function(l){var h=this.g;if("string"==typeof l){var m={};m.__data__=l,l=m}else this.u&&((m={}).__data__=T1(l),l=m);h.i.push(new class{constructor(l,h){this.g=l,this.map=h}}(h.Ya++,l)),3==h.G&&ks(h)},zn.prototype.N=function(){this.g.l=null,delete this.j,qn(this.g),delete this.g,zn.aa.N.call(this)},y(A5,ca),y(x5,Vo),y(jo,S5),jo.prototype.ua=function(){gt(this.g,"a")},jo.prototype.ta=function(l){gt(this.g,new A5(l))},jo.prototype.sa=function(l){gt(this.g,new x5)},jo.prototype.ra=function(){gt(this.g,"b")},jc.prototype.createWebChannel=jc.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,eX=oc.createWebChannelTransport=function(){return new jc},ZJ=oc.getStatEventTarget=function(){return co()},XJ=oc.Event=qr,ZI=oc.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},za.NO_ERROR=0,za.TIMEOUT=8,za.HTTP_ERROR=6,Ym=oc.ErrorCode=za,Ns.COMPLETE="complete",JJ=oc.EventType=Ns,S1.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Zf=oc.WebChannel=S1,oc.FetchXmlHttpFactory=on,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,YJ=oc.XhrIo=Xe}).apply(typeof Qm<"u"?Qm:typeof self<"u"?self:typeof window<"u"?window:{});const tX="@firebase/firestore";class Ci{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ci.UNAUTHENTICATED=new Ci(null),Ci.GOOGLE_CREDENTIALS=new Ci("google-credentials-uid"),Ci.FIRST_PARTY=new Ci("first-party-uid"),Ci.MOCK_USER=new Ci("mock-user");let G4="11.0.2";const p2=new VJ("@firebase/firestore");function q4(){return p2.logLevel}function ae(n,...e){if(p2.logLevel<=Xt.DEBUG){const t=e.map(eM);p2.debug(`Firestore (${G4}): ${n}`,...t)}}function Vr(n,...e){if(p2.logLevel<=Xt.ERROR){const t=e.map(eM);p2.error(`Firestore (${G4}): ${n}`,...t)}}function na(n,...e){if(p2.logLevel<=Xt.WARN){const t=e.map(eM);p2.warn(`Firestore (${G4}): ${n}`,...t)}}function eM(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Re(n="Unexpected state"){const e=`FIRESTORE (${G4}) INTERNAL ASSERTION FAILED: `+n;throw Vr(e),new Error(e)}function Ue(n,e){n||Re()}function Ee(n,e){return n}const Q={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends $4{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class wi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class nX{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class vYe{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ci.UNAUTHENTICATED))}shutdown(){}}class CYe{constructor(e){this.t=e,this.currentUser=Ci.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;Ue(void 0===this.o);let i=this.i;const s=u=>this.i!==i?(i=this.i,t(u)):Promise.resolve();let o=new wi;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new wi,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable(D(function*(){yield u.promise,yield s(r.currentUser)}))},c=u=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new wi)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ue("string"==typeof r.accessToken),new nX(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ue(null===e||"string"==typeof e),new Ci(e)}}class wYe{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ci.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class EYe{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new wYe(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ci.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class rX{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TYe{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Ue(void 0===this.o);const r=s=>{null!=s.error&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,ae("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ue("string"==typeof t.token),this.R=t.token,new rX(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function IYe(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class iX{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=IYe(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function at(n,e){return n<e?-1:n>e?1:0}function W4(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class gr{static now(){return gr.fromMillis(Date.now())}static fromDate(e){return gr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new gr(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ce(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ce(Q.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ce(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ce(Q.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?at(this.nanoseconds,e.nanoseconds):at(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Ge{static fromTimestamp(e){return new Ge(e)}static min(){return new Ge(new gr(0,0))}static max(){return new Ge(new gr(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class eh{constructor(e,t,r){void 0===t?t=0:t>e.length&&Re(),void 0===r?r=e.length-t:r>e.length-t&&Re(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===eh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof eh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Vt extends eh{construct(e,t,r){return new Vt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ce(Q.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Vt(t)}static emptyPath(){return new Vt([])}}const MYe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class nr extends eh{construct(e,t,r){return new nr(e,t,r)}static isValidIdentifier(e){return MYe.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),nr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new nr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new ce(Q.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new ce(Q.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new ce(Q.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ce(Q.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new nr(t)}static emptyPath(){return new nr([])}}class Ae{constructor(e){this.path=e}static fromPath(e){return new Ae(Vt.fromString(e))}static fromName(e){return new Ae(Vt.fromString(e).popFirst(5))}static empty(){return new Ae(Vt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Vt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Vt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ae(new Vt(e.slice()))}}function aX(n){return new To(n.readTime,n.key,-1)}class To{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new To(Ge.min(),Ae.empty(),-1)}static max(){return new To(Ge.max(),Ae.empty(),-1)}}function nM(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ae.comparator(n.documentKey,e.documentKey),0!==t?t:at(n.largestBatchId,e.largestBatchId))}const cX="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class lX{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function m2(n){return rM.apply(this,arguments)}function rM(){return(rM=D(function*(n){if(n.code!==Q.FAILED_PRECONDITION||n.message!==cX)throw n;ae("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class ${constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new $((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof $?t:$.resolve(t)}catch(t){return $.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):$.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):$.reject(t)}static resolve(e){return new $((t,r)=>{t(e)})}static reject(e){return new $((t,r)=>{r(e)})}static waitFor(e){return new $((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=$.resolve(!1);for(const r of e)t=t.next(i=>i?$.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new $((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;t(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,t){return new $((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function g2(n){return"IndexedDbTransactionError"===n.name}let Io=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function nh(n){return null==n}function rh(n){return 0===n&&1/n==-1/0}function NYe(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=s}}return t}function hX(n){return n+"\x01\x01"}function vX(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function _2(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}class jn{constructor(e,t){this.comparator=e,this.root=t||ji.EMPTY}insert(e,t){return new jn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,ji.BLACK,null,null))}remove(e){return new jn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ji.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Zm(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Zm(this.root,e,this.comparator,!1)}getReverseIterator(){return new Zm(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Zm(this.root,e,this.comparator,!0)}}class Zm{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ji{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??ji.RED,this.left=i??ji.EMPTY,this.right=s??ji.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new ji(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return ji.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return ji.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ji.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ji.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Re();const e=this.left.check();if(e!==this.right.check())throw Re();return e+(this.isRed()?0:1)}}ji.EMPTY=null,ji.RED=!0,ji.BLACK=!1,ji.EMPTY=new class{constructor(){this.size=0}get key(){throw Re()}get value(){throw Re()}get color(){throw Re()}get left(){throw Re()}get right(){throw Re()}copy(e,t,r,i,s){return this}insert(e,t,r){return new ji(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Mn{constructor(e){this.comparator=e,this.data=new jn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new wX(this.data.getIterator())}getIteratorFrom(e){return new wX(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Mn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Mn(this.comparator);return t.data=e,t}}class wX{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Xs{constructor(e){this.fields=e,e.sort(nr.comparator)}static empty(){return new Xs([])}unionWith(e){let t=new Mn(nr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Xs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return W4(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class EX extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Sr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new EX("Invalid base64 string: "+s):s}}(e);return new Sr(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Sr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return at(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Sr.EMPTY_BYTE_STRING=new Sr("");const XYe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ac(n){if(Ue(!!n),"string"==typeof n){let e=0;const t=XYe.exec(n);if(Ue(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:rr(n.seconds),nanos:rr(n.nanos)}}function rr(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function cc(n){return"string"==typeof n?Sr.fromBase64String(n):Sr.fromUint8Array(n)}function e9(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function t9(n){const e=n.mapValue.fields.__previous_value__;return e9(e)?t9(e):e}function ih(n){const e=ac(n.mapValue.fields.__local_write_time__.timestampValue);return new gr(e.seconds,e.nanos)}class ZYe{constructor(e,t,r,i,s,o,a,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class t0{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new t0("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof t0&&e.projectId===this.projectId&&e.database===this.database}}const y2={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function v2(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?e9(n)?4:AX(n)?9007199254740991:s9(n)?10:11:Re()}function o1(n,e){if(n===e)return!0;const t=v2(n);if(t!==v2(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return ih(n).isEqual(ih(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=ac(i.timestampValue),a=ac(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,cc(n.bytesValue).isEqual(cc(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return rr(i.geoPointValue.latitude)===rr(s.geoPointValue.latitude)&&rr(i.geoPointValue.longitude)===rr(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return rr(i.integerValue)===rr(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=rr(i.doubleValue),a=rr(s.doubleValue);return o===a?rh(o)===rh(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return W4(n.arrayValue.values||[],e.arrayValue.values||[],o1);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(vX(o)!==vX(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(void 0===a[c]||!o1(o[c],a[c])))return!1;return!0}(n,e);default:return Re()}var s}function sh(n,e){return void 0!==(n.values||[]).find(t=>o1(t,e))}function b2(n,e){if(n===e)return 0;const t=v2(n),r=v2(e);if(t!==r)return at(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return at(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=rr(s.integerValue||s.doubleValue),c=rr(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return TX(n.timestampValue,e.timestampValue);case 4:return TX(ih(n),ih(e));case 5:return at(n.stringValue,e.stringValue);case 6:return function(s,o){const a=cc(s),c=cc(o);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const d=at(a[u],c[u]);if(0!==d)return d}return at(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=at(rr(s.latitude),rr(o.latitude));return 0!==a?a:at(rr(s.longitude),rr(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return IX(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,u,d;const g=null===(a=(s.fields||{}).value)||void 0===a?void 0:a.arrayValue,y=null===(c=(o.fields||{}).value)||void 0===c?void 0:c.arrayValue,C=at((null===(u=g?.values)||void 0===u?void 0:u.length)||0,(null===(d=y?.values)||void 0===d?void 0:d.length)||0);return 0!==C?C:IX(g,y)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===y2.mapValue&&o===y2.mapValue)return 0;if(s===y2.mapValue)return 1;if(o===y2.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const p=at(c[f],d[f]);if(0!==p)return p;const g=b2(a[c[f]],u[d[f]]);if(0!==g)return g}return at(c.length,d.length)}(n.mapValue,e.mapValue);default:throw Re()}}function TX(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return at(n,e);const t=ac(n),r=ac(e),i=at(t.seconds,r.seconds);return 0!==i?i:at(t.nanos,r.nanos)}function IX(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=b2(t[i],r[i]);if(s)return s}return at(t.length,r.length)}function J4(n){return aM(n)}function aM(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=ac(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?cc(n.bytesValue).toBase64():"referenceValue"in n?Ae.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=aM(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${aM(t.fields[o])}`;return i+"}"}(n.mapValue):Re()}function r9(n){switch(v2(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=t9(n);return e?16+r9(e):16;case 5:return 2*n.stringValue.length;case 6:return cc(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(n.arrayValue.values||[]).reduce((i,s)=>i+r9(s),0);case 10:case 11:return function(r){let i=0;return _2(r.fields,(s,o)=>{i+=s.length+r9(o)}),i}(n.mapValue);default:throw Re()}}function cM(n){return!!n&&"integerValue"in n}function oh(n){return!!n&&"arrayValue"in n}function MX(n){return!!n&&"nullValue"in n}function SX(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function i9(n){return!!n&&"mapValue"in n}function s9(n){var e,t;return"__vector__"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function ah(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return _2(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ah(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ah(n.arrayValue.values[t]);return e}return Object.assign({},n)}function AX(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class $i{constructor(e){this.value=e}static empty(){return new $i({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!i9(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ah(t)}setAll(e){let t=nr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=ah(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());i9(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return o1(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];i9(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){_2(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new $i(ah(this.value))}}class Qn{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Qn(e,0,Ge.min(),Ge.min(),Ge.min(),$i.empty(),0)}static newFoundDocument(e,t,r,i){return new Qn(e,1,t,Ge.min(),r,i,0)}static newNoDocument(e,t){return new Qn(e,2,t,Ge.min(),Ge.min(),$i.empty(),0)}static newUnknownDocument(e,t){return new Qn(e,3,t,Ge.min(),Ge.min(),$i.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ge.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$i.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ge.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Qn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Qn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class C2{constructor(e,t){this.position=e,this.inclusive=t}}function NX(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?Ae.comparator(Ae.fromName(o.referenceValue),t.key):b2(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function PX(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!o1(n.position[t],e.position[t]))return!1;return!0}class ch{constructor(e,t="asc"){this.field=e,this.dir=t}}function nJe(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class zX{}class Bt extends zX{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new rJe(e,t,r):"array-contains"===t?new oJe(e,r):"in"===t?new UX(e,r):"not-in"===t?new aJe(e,r):"array-contains-any"===t?new cJe(e,r):new Bt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new iJe(e,r):new sJe(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(b2(t,this.value)):null!==t&&v2(this.value)===v2(t)&&this.matchesComparison(b2(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Re()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Sn extends zX{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Sn(e,t)}matches(e){return X4(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function X4(n){return"and"===n.op}function uM(n){return function OX(n){for(const e of n.filters)if(e instanceof Sn)return!1;return!0}(n)&&X4(n)}function dM(n){if(n instanceof Bt)return n.field.canonicalString()+n.op.toString()+J4(n.value);if(uM(n))return n.filters.map(e=>dM(e)).join(",");{const e=n.filters.map(t=>dM(t)).join(",");return`${n.op}(${e})`}}function kX(n,e){return n instanceof Bt?(r=n,(i=e)instanceof Bt&&r.op===i.op&&r.field.isEqual(i.field)&&o1(r.value,i.value)):n instanceof Sn?function(r,i){return i instanceof Sn&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&kX(o,i.filters[a]),!0)}(n,e):void Re();var r,i}function VX(n){return n instanceof Bt?`${(t=n).field.canonicalString()} ${t.op} ${J4(t.value)}`:n instanceof Sn?function(t){return t.op.toString()+" {"+t.getFilters().map(VX).join(" ,")+"}"}(n):"Filter";var t}class rJe extends Bt{constructor(e,t,r){super(e,t,r),this.key=Ae.fromName(r.referenceValue)}matches(e){const t=Ae.comparator(e.key,this.key);return this.matchesComparison(t)}}class iJe extends Bt{constructor(e,t){super(e,"in",t),this.keys=BX(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sJe extends Bt{constructor(e,t){super(e,"not-in",t),this.keys=BX(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function BX(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ae.fromName(r.referenceValue))}class oJe extends Bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return oh(t)&&sh(t.arrayValue,this.value)}}class UX extends Bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&sh(this.value.arrayValue,t)}}class aJe extends Bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(sh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!sh(this.value.arrayValue,t)}}class cJe extends Bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!oh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>sh(this.value.arrayValue,r))}}class lJe{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function fM(n,e=null,t=[],r=[],i=null,s=null,o=null){return new lJe(n,e,t,r,i,s,o)}function r0(n){const e=Ee(n);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>dM(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),nh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>J4(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>J4(r)).join(",")),e.ue=t}return e.ue}function lh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!nJe(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!kX(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!PX(n.startAt,e.startAt)&&PX(n.endAt,e.endAt)}function o9(n){return Ae.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class lc{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null}}function Z4(n){return new lc(n)}function GX(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function eu(n){const e=Ee(n);if(null===e.ce){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Mn(nr.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new ch(s,r))}),t.has(nr.keyField().canonicalString())||e.ce.push(new ch(nr.keyField(),r))}return e.ce}function rs(n){const e=Ee(n);return e.le||(e.le=function WX(n,e){if("F"===n.limitType)return fM(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new ch(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new C2(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new C2(n.startAt.position,n.startAt.inclusive):null;return fM(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,eu(n))),e.le}function c9(n,e,t){return new lc(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function uh(n,e){return lh(rs(n),rs(e))&&n.limitType===e.limitType}function KX(n){return`${r0(rs(n))}|lt:${n.limitType}`}function tu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>VX(i)).join(", ")}]`),nh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>J4(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>J4(i)).join(",")),`Target(${r})`}(rs(n))}; limitType=${n.limitType})`}function dh(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Ae.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of eu(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,c){const u=NX(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,eu(r),i)||r.endAt&&!function(o,a,c){const u=NX(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,eu(r),i)));var r,i}function YX(n){return(e,t)=>{let r=!1;for(const i of eu(n)){const s=uJe(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function uJe(n,e,t){const r=n.field.isKeyField()?Ae.comparator(e.key,t.key):function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return null!==c&&null!==u?b2(c,u):Re()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Re()}}class uc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){_2(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return function CX(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}(this.inner)}size(){return this.innerSize}}const dJe=new jn(Ae.comparator);function Zs(){return dJe}const JX=new jn(Ae.comparator);function fh(...n){let e=JX;for(const t of n)e=e.insert(t.key,t);return e}function XX(n){let e=JX;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function a1(){return hh()}function ZX(){return hh()}function hh(){return new uc(n=>n.toString(),(n,e)=>n.isEqual(e))}new jn(Ae.comparator);const hJe=new Mn(Ae.comparator);function Ct(...n){let e=hJe;for(const t of n)e=e.add(t);return e}const pJe=new Mn(at);class l9{constructor(){this._=void 0}}function mJe(n,e,t){return n instanceof nu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&e9(s)&&(s=t9(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof s0?rZ(n,e):n instanceof o0?iZ(n,e):function(i,s){const o=function nZ(n,e){return n instanceof ru?cM(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}(i,s),a=sZ(o)+sZ(i.Pe);return cM(o)&&cM(i.Pe)?function eZ(n){return{integerValue:""+n}}(a):function gM(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:rh(e)?"-0":e}}(i.serializer,a)}(n,e)}function gJe(n,e,t){return n instanceof s0?rZ(n,e):n instanceof o0?iZ(n,e):t}class nu extends l9{}class s0 extends l9{constructor(e){super(),this.elements=e}}function rZ(n,e){const t=oZ(e);for(const r of n.elements)t.some(i=>o1(i,r))||t.push(r);return{arrayValue:{values:t}}}class o0 extends l9{constructor(e){super(),this.elements=e}}function iZ(n,e){let t=oZ(e);for(const r of n.elements)t=t.filter(i=>!o1(i,r));return{arrayValue:{values:t}}}class ru extends l9{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function sZ(n){return rr(n.integerValue||n.doubleValue)}function oZ(n){return oh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ir{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ir}static exists(e){return new ir(void 0,e)}static updateTime(e){return new ir(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function u9(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class d9{}function aZ(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new su(n.key,ir.none()):new iu(n.key,n.data,ir.none());{const t=n.data,r=$i.empty();let i=new Mn(nr.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new dc(n.key,r,new Xs(i.toArray()),ir.none())}}function vJe(n,e,t){n instanceof iu?function(i,s,o){const a=i.value.clone(),c=uZ(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof dc?function(i,s,o){if(!u9(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=uZ(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(lZ(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function mh(n,e,t,r){return n instanceof iu?function(s,o,a,c){if(!u9(s.precondition,o))return a;const u=s.value.clone(),d=dZ(s.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof dc?function(s,o,a,c){if(!u9(s.precondition,o))return a;const u=dZ(s.fieldTransforms,c,o),d=o.data;return d.setAll(lZ(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(n,e,t,r):(a=t,u9(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function cZ(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&W4(r,i,(s,o)=>function _Je(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof s0&&i instanceof s0||r instanceof o0&&i instanceof o0?W4(r.elements,i.elements,o1):r instanceof ru&&i instanceof ru?o1(r.Pe,i.Pe):r instanceof nu&&i instanceof nu);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class iu extends d9{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class dc extends d9{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function lZ(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function uZ(n,e,t){const r=new Map;Ue(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,gJe(o,a,t[i]))}return r}function dZ(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,mJe(s,o,e))}return r}class su extends d9{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class yM{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&vJe(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=mh(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=mh(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=ZX();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const c=aZ(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(Ge.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Ct())}isEqual(e){return this.batchId===e.batchId&&W4(this.mutations,e.mutations,(t,r)=>cZ(t,r))&&W4(this.baseMutations,e.baseMutations,(t,r)=>cZ(t,r))}}class bM{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class CJe{constructor(e,t){this.count=e,this.unchangedNames=t}}var Zr,Zt;function pZ(n){if(void 0===n)return Vr("GRPC error has no .code"),Q.UNKNOWN;switch(n){case Zr.OK:return Q.OK;case Zr.CANCELLED:return Q.CANCELLED;case Zr.UNKNOWN:return Q.UNKNOWN;case Zr.DEADLINE_EXCEEDED:return Q.DEADLINE_EXCEEDED;case Zr.RESOURCE_EXHAUSTED:return Q.RESOURCE_EXHAUSTED;case Zr.INTERNAL:return Q.INTERNAL;case Zr.UNAVAILABLE:return Q.UNAVAILABLE;case Zr.UNAUTHENTICATED:return Q.UNAUTHENTICATED;case Zr.INVALID_ARGUMENT:return Q.INVALID_ARGUMENT;case Zr.NOT_FOUND:return Q.NOT_FOUND;case Zr.ALREADY_EXISTS:return Q.ALREADY_EXISTS;case Zr.PERMISSION_DENIED:return Q.PERMISSION_DENIED;case Zr.FAILED_PRECONDITION:return Q.FAILED_PRECONDITION;case Zr.ABORTED:return Q.ABORTED;case Zr.OUT_OF_RANGE:return Q.OUT_OF_RANGE;case Zr.UNIMPLEMENTED:return Q.UNIMPLEMENTED;case Zr.DATA_LOSS:return Q.DATA_LOSS;default:return Re()}}(Zt=Zr||(Zr={}))[Zt.OK=0]="OK",Zt[Zt.CANCELLED=1]="CANCELLED",Zt[Zt.UNKNOWN=2]="UNKNOWN",Zt[Zt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zt[Zt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zt[Zt.NOT_FOUND=5]="NOT_FOUND",Zt[Zt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zt[Zt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zt[Zt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zt[Zt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zt[Zt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zt[Zt.ABORTED=10]="ABORTED",Zt[Zt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zt[Zt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zt[Zt.INTERNAL=13]="INTERNAL",Zt[Zt.UNAVAILABLE=14]="UNAVAILABLE",Zt[Zt.DATA_LOSS=15]="DATA_LOSS";const wJe=new Jl([4294967295,4294967295],0);function gZ(n){const e=function mZ(){return new TextEncoder}().encode(n),t=new QJ;return t.update(e),new Uint8Array(t.digest())}function _Z(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Jl([t,r],0),new Jl([i,s],0)]}class CM{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new gh(`Invalid padding: ${t}`);if(r<0)throw new gh(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new gh(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new gh(`Invalid padding when bitmap length is 0: ${t}`);this.Te=8*e.length-t,this.Ie=Jl.fromNumber(this.Te)}Ee(e,t,r){let i=e.add(t.multiply(Jl.fromNumber(r)));return 1===i.compare(wJe)&&(i=new Jl([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Ie).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=gZ(e),[r,i]=_Z(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new CM(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Te)return;const t=gZ(e),[r,i]=_Z(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class gh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class _h{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,yh.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new _h(Ge.min(),i,new jn(at),Zs(),Ct())}}class yh{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new yh(r,t,Ct(),Ct(),Ct())}}class h9{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class yZ{constructor(e,t){this.targetId=e,this.me=t}}class vZ{constructor(e,t,r=Sr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class bZ{constructor(){this.fe=0,this.ge=CZ(),this.pe=Sr.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ct(),t=Ct(),r=Ct();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Re()}}),new yh(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=CZ()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Ue(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class EJe{constructor(e){this.Le=e,this.Be=new Map,this.ke=Zs(),this.qe=p9(),this.Qe=p9(),this.Ke=new jn(at)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,t=>{const r=this.ze(t);switch(e.state){case 0:this.je(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.je(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),r.De(e.resumeToken));break;default:Re()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.je(i)&&t(i)})}Je(e){const t=e.targetId,r=e.me.count,i=this.Ye(t);if(i){const s=i.target;if(o9(s))if(0===r){const o=new Ae(s.path);this.We(t,o,Qn.newNoDocument(o,Ge.min()))}else Ue(1===r);else{const o=this.Ze(t);if(o!==r){const a=this.Xe(e),c=a?this.et(a,e,o):1;0!==c&&(this.He(t),this.Ke=this.Ke.insert(t,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=cc(r).toUint8Array()}catch(c){if(c instanceof EX)return na("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new CM(o,i,s)}catch(c){return na(c instanceof gh?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Te?null:a}et(e,t,r){return t.me.count===r-this.rt(e,t.targetId)?0:2}rt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.nt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.We(t,s,null),i++)}),i}it(e){const t=new Map;this.Be.forEach((s,o)=>{const a=this.Ye(o);if(a){if(s.current&&o9(a.target)){const c=new Ae(a.target.path);this.st(c).has(o)||this.ot(o,c)||this.We(o,c,Qn.newNoDocument(c,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=Ct();this.Qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.Ye(c);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new _h(e,t,this.Ke,this.ke,r);return this.ke=Zs(),this.qe=p9(),this.Qe=p9(),this.Ke=new jn(at),i}Ue(e,t){if(!this.je(e))return;const r=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,r){if(!this.je(e))return;const i=this.ze(e);this.ot(e,t)?i.Fe(t,1):i.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new bZ,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new Mn(at),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Mn(at),this.qe=this.qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||ae("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new bZ),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.We(e,t,null)})}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function p9(){return new jn(Ae.comparator)}function CZ(){return new jn(Ae.comparator)}const TJe={asc:"ASCENDING",desc:"DESCENDING"},IJe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},MJe={and:"AND",or:"OR"};class SJe{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function wM(n,e){return n.useProto3Json||nh(e)?e:{value:e}}function Br(n){return Ue(!!n),Ge.fromTimestamp(function(t){const r=ac(t);return new gr(r.seconds,r.nanos)}(n))}function TM(n,e){const t=(i=n,new Vt(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?t:t.child(e)}function EZ(n){const e=Vt.fromString(n);return Ue(PZ(e)),e}function c1(n,e){const t=EZ(e);if(t.get(1)!==n.databaseId.projectId)throw new ce(Q.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ce(Q.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ae(MZ(t))}function TZ(n,e){return function EM(n,e){return TM(n,e).canonicalString()}(n.databaseId,e)}function IM(n){return new Vt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function MZ(n){return Ue(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function xZ(n,e){return{documents:[TZ(n,e.path)]}}function m9(n,e){const t={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=TZ(n,i);const s=function(u){if(0!==u.length)return NZ(Sn.create(u,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(u){if(0!==u.length)return u.map(d=>{return{field:w2((p=d).field),direction:NJe(p.dir)};var p})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=wM(n,e.limit);return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ct:t,parent:i};var u}function LZ(n){let e=function IZ(n){const e=EZ(n);return 4===e.length?Vt.emptyPath():MZ(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Ue(1===r);const d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=function(f){const p=RZ(f);return p instanceof Sn&&uM(p)?p.getFilters():[p]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(p=>{return new ch(au((y=p).field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction));var y}));let a=null;t.limit&&(a=function(f){let p;return p="object"==typeof f?f.value:f,nh(p)?null:p}(t.limit));let c=null;var f;t.startAt&&(c=new C2((f=t.startAt).values||[],!!f.before));let u=null;return t.endAt&&(u=function(f){return new C2(f.values||[],!f.before)}(t.endAt)),function HX(n,e,t,r,i,s,o,a){return new lc(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",c,u)}function RZ(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=au(t.unaryFilter.field);return Bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=au(t.unaryFilter.field);return Bt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=au(t.unaryFilter.field);return Bt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=au(t.unaryFilter.field);return Bt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Re()}}(n):void 0!==n.fieldFilter?Bt.create(au((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Re()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return Sn.create(t.compositeFilter.filters.map(r=>RZ(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Re()}}(t.compositeFilter.op))}(n):Re();var t}function NJe(n){return TJe[n]}function PJe(n){return IJe[n]}function zJe(n){return MJe[n]}function w2(n){return{fieldPath:n.canonicalString()}}function au(n){return nr.fromServerFormat(n.fieldPath)}function NZ(n){return n instanceof Bt?function(t){if("=="===t.op){if(SX(t.value))return{unaryFilter:{field:w2(t.field),op:"IS_NAN"}};if(MX(t.value))return{unaryFilter:{field:w2(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(SX(t.value))return{unaryFilter:{field:w2(t.field),op:"IS_NOT_NAN"}};if(MX(t.value))return{unaryFilter:{field:w2(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:w2(t.field),op:PJe(t.op),value:t.value}}}(n):n instanceof Sn?function(t){const r=t.getFilters().map(i=>NZ(i));return 1===r.length?r[0]:{compositeFilter:{op:zJe(t.op),filters:r}}}(n):Re()}function PZ(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class fc{constructor(e,t,r,i,s=Ge.min(),o=Ge.min(),a=Sr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new fc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class zZ{constructor(e){this.ht=e}}function SM(n){const e=LZ({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?c9(e,e.limit,"L"):e}class u0{constructor(){}Et(e,t){this.dt(e,t),t.At()}dt(e,t){if("nullValue"in e)this.Rt(t,5);else if("booleanValue"in e)this.Rt(t,10),t.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(t,15),t.Vt(rr(e.integerValue));else if("doubleValue"in e){const r=rr(e.doubleValue);isNaN(r)?this.Rt(t,13):(this.Rt(t,15),rh(r)?t.Vt(0):t.Vt(r))}else if("timestampValue"in e){let r=e.timestampValue;this.Rt(t,20),"string"==typeof r&&(r=ac(r)),t.ft(`${r.seconds||""}`),t.Vt(r.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,t),this.yt(t);else if("bytesValue"in e)this.Rt(t,30),t.wt(cc(e.bytesValue)),this.yt(t);else if("referenceValue"in e)this.St(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.Rt(t,45),t.Vt(r.latitude||0),t.Vt(r.longitude||0)}else"mapValue"in e?AX(e)?this.Rt(t,Number.MAX_SAFE_INTEGER):s9(e)?this.bt(e.mapValue,t):(this.Dt(e.mapValue,t),this.yt(t)):"arrayValue"in e?(this.vt(e.arrayValue,t),this.yt(t)):Re()}gt(e,t){this.Rt(t,25),this.Ct(e,t)}Ct(e,t){t.ft(e)}Dt(e,t){const r=e.fields||{};this.Rt(t,55);for(const i of Object.keys(r))this.gt(i,t),this.dt(r[i],t)}bt(e,t){var r,i;const s=e.fields||{};this.Rt(t,53);const o="value",a=(null===(i=null===(r=s[o].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.Rt(t,15),t.Vt(rr(a)),this.gt(o,t),this.dt(s[o],t)}vt(e,t){const r=e.values||[];this.Rt(t,50);for(const i of r)this.dt(i,t)}St(e,t){this.Rt(t,37),Ae.fromName(e).path.forEach(r=>{this.Rt(t,60),this.Ct(r,t)})}Rt(e,t){e.Vt(t)}yt(e){e.Vt(2)}}u0.Ft=new u0;class GJe{constructor(){this.ln=new NM}addToCollectionParentIndex(e,t){return this.ln.add(t),$.resolve()}getCollectionParents(e,t){return $.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return $.resolve()}deleteFieldIndex(e,t){return $.resolve()}deleteAllFieldIndexes(e){return $.resolve()}createTargetIndexes(e,t){return $.resolve()}getDocumentsMatchingTarget(e,t){return $.resolve(null)}getIndexType(e,t){return $.resolve(0)}getFieldIndexes(e,t){return $.resolve([])}getNextCollectionGroupToUpdate(e){return $.resolve(null)}getMinOffset(e,t){return $.resolve(To.min())}getMinOffsetFromCollectionGroup(e,t){return $.resolve(To.min())}updateCollectionGroup(e,t,r){return $.resolve()}updateIndexEntries(e,t){return $.resolve()}}class NM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Mn(Vt.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Mn(Vt.comparator)).toArray()}}new Uint8Array(0);const YZ={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class is{static withCacheSize(e){return new is(e,is.DEFAULT_COLLECTION_PERCENTILE,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}is.DEFAULT_COLLECTION_PERCENTILE=10,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,is.DEFAULT=new is(41943040,is.DEFAULT_COLLECTION_PERCENTILE,is.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),is.DISABLED=new is(-1,0,0);class f0{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new f0(0)}static Qn(){return new f0(-1)}}function tee([n,e],[t,r]){const i=at(n,t);return 0===i?at(e,r):i}class KJe{constructor(e){this.Gn=e,this.buffer=new Mn(tee),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();tee(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class nee{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return null!==this.Jn}Yn(e){var t=this;ae("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,D(function*(){t.Jn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){g2(r)?ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield m2(r)}yield t.Yn(3e5)}))}}class QJe{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return $.resolve(Io.oe);const r=new KJe(t);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),$.resolve(YZ)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),YZ):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,i,s,o,a,c,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,o=Date.now(),this.nthSequenceNumber(e,i))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,t))).next(f=>(s=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(u=Date.now(),q4()<=Xt.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${o-d}ms\n\tDetermined least recently used ${i} in `+(a-o)+`ms\n\tRemoved ${s} targets in `+(c-a)+`ms\n\tRemoved ${f} documents in `+(u-c)+`ms\nTotal Duration: ${u-d}ms`),$.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f})))}}class iee{constructor(){this.changes=new uc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Qn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?$.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class ZJe{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class lee{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&mh(r.mutation,i,Xs.empty(),gr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Ct()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Ct()){const i=a1();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=fh();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=a1();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Ct()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=Zs();const o=hh(),a=hh();return t.forEach((c,u)=>{const d=r.get(u.key);i.has(u.key)&&(void 0===d||d.mutation instanceof dc)?s=s.insert(u.key,u):void 0!==d?(o.set(u.key,d.mutation.getFieldMask()),mh(d.mutation,u,d.mutation.getFieldMask(),gr.now())):o.set(u.key,Xs.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>o.set(u,d)),t.forEach((u,d)=>{var f;return a.set(u,new ZJe(d,null!==(f=o.get(u))&&void 0!==f?f:null))}),a))}recalculateAndSaveOverlays(e,t){const r=hh();let i=new jn((o,a)=>o-a),s=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=t.get(c);if(null===u)return;let d=r.get(c)||Xs.empty();d=a.applyToLocalView(u,d),r.set(c,d);const f=(i.get(a.batchId)||Ct()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,d=c.value,f=ZX();d.forEach(p=>{if(!s.has(p)){const g=aZ(t.get(p),r.get(p));null!==g&&f.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return $.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return Ae.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function hM(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):$.resolve(a1());let a=-1,c=s;return o.next(u=>$.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?$.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,Ct())).next(d=>({batchId:a,changes:XX(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ae(t)).next(r=>{let i=fh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=fh();return this.indexManager.getCollectionParents(e,s).next(a=>$.forEach(a,c=>{const u=(f=t,p=c.child(s),new lc(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt));var f,p;return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,u)=>{const d=u.getKey();null===o.get(d)&&(o=o.insert(d,Qn.newInvalidDocument(d)))});let a=fh();return o.forEach((c,u)=>{const d=s.get(c);void 0!==d&&mh(d.mutation,u,Xs.empty(),gr.now()),dh(t,u)&&(a=a.insert(c,u))}),a})}}class eXe{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return $.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,{id:(i=t).id,version:i.version,createTime:Br(i.createTime)}),$.resolve();var i}getNamedQuery(e,t){return $.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,{name:(i=t).name,query:SM(i.bundledQuery),readTime:Br(i.readTime)}),$.resolve();var i}}class tXe{constructor(){this.overlays=new jn(Ae.comparator),this.Er=new Map}getOverlay(e,t){return $.resolve(this.overlays.get(t))}getOverlays(e,t){const r=a1();return $.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Tt(e,t,s)}),$.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Er.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Er.delete(r)),$.resolve()}getOverlaysForCollection(e,t,r){const i=a1(),s=t.length+1,o=new Ae(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return $.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new jn((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=s.get(u.largestBatchId);null===d&&(d=a1(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=a1(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return $.resolve(a)}Tt(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new bM(t,r));let s=this.Er.get(t);void 0===s&&(s=Ct(),this.Er.set(t,s)),this.Er.set(t,s.add(r.key))}}class nXe{constructor(){this.sessionToken=Sr.EMPTY_BYTE_STRING}getSessionToken(e){return $.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,$.resolve()}}class PM{constructor(){this.dr=new Mn(Ei.Ar),this.Rr=new Mn(Ei.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const r=new Ei(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new Ei(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new Ae(new Vt([])),r=new Ei(t,e),i=new Ei(t,e+1),s=[];return this.Rr.forEachInRange([r,i],o=>{this.gr(o),s.push(o.key)}),s}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Ae(new Vt([])),r=new Ei(t,e),i=new Ei(t,e+1);let s=Ct();return this.Rr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Ei(e,0),r=this.dr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ei{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Ae.comparator(e.key,t.key)||at(e.br,t.br)}static Vr(e,t){return at(e.br,t.br)||Ae.comparator(e.key,t.key)}}class rXe{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new Mn(Ei.Ar)}checkEmpty(e){return $.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.Dr;this.Dr++;const o=new yM(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.vr=this.vr.add(new Ei(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return $.resolve(o)}lookupMutationBatch(e,t){return $.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Fr(t+1),s=i<0?0:i;return $.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $.resolve(0===this.mutationQueue.length?-1:this.Dr-1)}getAllMutationBatches(e){return $.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ei(t,0),i=new Ei(t,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([r,i],o=>{const a=this.Cr(o.br);s.push(a)}),$.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Mn(at);return t.forEach(i=>{const s=new Ei(i,0),o=new Ei(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,o],a=>{r=r.add(a.br)})}),$.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;Ae.isDocumentKey(s)||(s=s.child(""));const o=new Ei(new Ae(s),0);let a=new Mn(at);return this.vr.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.br)),!0)},o),$.resolve(this.Mr(a))}Mr(e){const t=[];return e.forEach(r=>{const i=this.Cr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Ue(0===this.Or(t.batchId,"removed")),this.mutationQueue.shift();let r=this.vr;return $.forEach(t.mutations,i=>{const s=new Ei(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){const r=new Ei(t,0),i=this.vr.firstAfterOrEqual(r);return $.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return $.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class iXe{constructor(e){this.Nr=e,this.docs=new jn(Ae.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return $.resolve(r?r.document.mutableCopy():Qn.newInvalidDocument(t))}getEntries(e,t){let r=Zs();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Qn.newInvalidDocument(i))}),$.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Zs();const o=t.path,a=new Ae(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||nM(aX(d),r)<=0||(i.has(d.key)||dh(t,d))&&(s=s.insert(d.key,d.mutableCopy()))}return $.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Re()}Lr(e,t){return $.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new sXe(this)}getSize(e){return $.resolve(this.size)}}class sXe extends iee{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),$.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}class oXe{constructor(e){this.persistence=e,this.Br=new uc(t=>r0(t),lh),this.lastRemoteSnapshotVersion=Ge.min(),this.highestTargetId=0,this.kr=0,this.qr=new PM,this.targetCount=0,this.Qr=f0.qn()}forEachTarget(e,t){return this.Br.forEach((r,i)=>t(i)),$.resolve()}getLastRemoteSnapshotVersion(e){return $.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),$.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),$.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new f0(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,$.resolve()}updateTargetData(e,t){return this.Un(t),$.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,$.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Br.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Br.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),$.waitFor(s).next(()=>i)}getTargetCount(e){return $.resolve(this.targetCount)}getTargetData(e,t){const r=this.Br.get(t)||null;return $.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),$.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),$.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),$.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return $.resolve(r)}containsKey(e,t){return $.resolve(this.qr.containsKey(t))}}class zM{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Io(0),this.Ur=!1,this.Ur=!0,this.Wr=new nXe,this.referenceDelegate=e(this),this.Gr=new oXe(this),this.indexManager=new GJe,this.remoteDocumentCache=new iXe(r=>this.referenceDelegate.zr(r)),this.serializer=new zZ(t),this.jr=new eXe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new tXe,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new rXe(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){ae("MemoryPersistence","Starting transaction:",e);const i=new aXe(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(s=>this.referenceDelegate.Jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Yr(e,t){return $.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class aXe extends lX{constructor(e){super(),this.currentSequenceNumber=e}}class E9{constructor(e){this.persistence=e,this.Zr=new PM,this.Xr=null}static ei(e){return new E9(e)}get ti(){if(this.Xr)return this.Xr;throw Re()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),$.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),$.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),$.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.ti.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $.forEach(this.ti,r=>{const i=Ae.fromPath(r);return this.ni(e,i).next(s=>{s||t.removeEntry(i,Ge.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return $.or([()=>$.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class T9{constructor(e,t){this.persistence=e,this.ri=new uc(r=>function ns(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=hX(e)),e=NYe(n.get(t),e);return hX(e)}(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=function ree(n,e){return new QJe(n,e)}(this,t)}static ei(e,t){return new T9(e,t)}Hr(){}Jr(e){return $.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return $.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(s=>s?$.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Lr(e,o=>this.ir(e,o,t).next(a=>{a||(r++,s.removeEntry(o,Ge.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),$.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),$.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),$.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),$.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=r9(e.data.value)),t}ir(e,t,r){return $.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.ri.get(t);return $.resolve(void 0!==i&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class VM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=i}static zi(e,t){let r=Ct(),i=Ct();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new VM(e,t.fromCache,r,i)}}class lXe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class dee{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function NJ(){return!function aQe(){var n;const e=null===(n=Hm())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function uX(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}(function h2(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}())>0?6:4}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.Xi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.es(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new lXe;return this.ts(e,t,o).next(a=>{if(s.result=a,this.Hi)return this.ns(e,t,o,a.size)})}).next(()=>s.result)}ns(e,t,r,i){return r.documentReadCount<this.Ji?(q4()<=Xt.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",tu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),$.resolve()):(q4()<=Xt.DEBUG&&ae("QueryEngine","Query:",tu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(q4()<=Xt.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",tu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,rs(t))):$.resolve())}Xi(e,t){if(GX(t))return $.resolve(null);let r=rs(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=c9(t,null,"F"),r=rs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=Ct(...s);return this.Zi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.rs(t,a);return this.ss(t,u,o,c.readTime)?this.Xi(e,c9(t,null,"F")):this.os(e,u,t,c)}))})))}es(e,t,r,i){return GX(t)||i.isEqual(Ge.min())?$.resolve(null):this.Zi.getDocuments(e,r).next(s=>{const o=this.rs(t,s);return this.ss(t,o,r,i)?$.resolve(null):(q4()<=Xt.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),tu(t)),this.os(e,o,t,function oX(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ge.fromTimestamp(1e9===r?new gr(t+1,0):new gr(t,r));return new To(i,Ae.empty(),e)}(i,-1)).next(a=>a))})}rs(e,t){let r=new Mn(YX(e));return t.forEach((i,s)=>{dh(e,s)&&(r=r.add(s))}),r}ss(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ts(e,t,r){return q4()<=Xt.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",tu(t)),this.Zi.getDocumentsMatchingQuery(e,t,To.min(),r)}os(e,t,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class uXe{constructor(e,t,r,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new jn(at),this.cs=new uc(s=>r0(s),lh),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lee(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function hee(n,e){return BM.apply(this,arguments)}function BM(){return(BM=D(function*(n,e){const t=Ee(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=Ct();for(const u of i){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(u=>({Ts:u,removedBatchIds:o,addedBatchIds:a}))})})})).apply(this,arguments)}function pee(n){const e=Ee(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function hu(n,e,t){return UM.apply(this,arguments)}function UM(){return(UM=D(function*(n,e,t){const r=Ee(n),i=r.us.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!g2(o))throw o;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.us=r.us.remove(e),r.cs.delete(i.target)})).apply(this,arguments)}function M9(n,e,t){const r=Ee(n);let i=Ge.min(),s=Ct();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const f=Ee(c),p=f.cs.get(d);return void 0!==p?$.resolve(f.us.get(p)):f.Gr.getTargetData(u,d)}(r,o,rs(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r._s.getDocumentsMatchingQuery(o,e,t?i:Ge.min(),t?s:Ct())).next(a=>(function yee(n,e,t){let r=n.ls.get(e)||Ge.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.ls.set(e,r)}(r,function QX(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,ds:s})))}class qM{constructor(){this.activeTargetIds=function mM(){return pJe}()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Cee{constructor(){this._o=new qM,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new qM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gXe{uo(e){}shutdown(){}}class wee{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let x9=null;function KM(){return null===x9?x9=268435456+Math.round(2147483648*Math.random()):x9++,"0x"+x9.toString(16)}const _Xe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class yXe{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}const ss="WebChannelConnection";class vXe extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${i}/databases/${s}`,this.xo="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Oo(t,r,i,s,o){const a=KM(),c=this.No(t,r.toUriEncodedString());ae("RestConnection",`Sending RPC '${t}' ${a}:`,c,i);const u={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(u,s,o),this.Bo(t,c,u,i).then(d=>(ae("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw na("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",c,"request:",i),d})}ko(t,r,i,s,o,a){return this.Oo(t,r,i,s,o)}Lo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+G4,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}No(t,r){return`${this.Fo}/v1/${r}:${_Xe[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,i){const s=KM();return new Promise((o,a)=>{const c=new YJ;c.setWithCredentials(!0),c.listenOnce(JJ.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case Ym.NO_ERROR:const d=c.getResponseJson();ae(ss,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case Ym.TIMEOUT:ae(ss,`RPC '${e}' ${s} timed out`),a(new ce(Q.DEADLINE_EXCEEDED,"Request time out"));break;case Ym.HTTP_ERROR:const f=c.getStatus();if(ae(ss,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p?.error;if(g&&g.status&&g.message){const y=function(w){const N=w.toLowerCase().replace(/_/g,"-");return Object.values(Q).indexOf(N)>=0?N:Q.UNKNOWN}(g.status);a(new ce(y,g.message))}else a(new ce(Q.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ce(Q.UNAVAILABLE,"Connection failed."));break;default:Re()}}finally{ae(ss,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);ae(ss,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",u,r,15)})}qo(e,t,r){const i=KM(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=eX(),a=ZJ(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Lo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const d=s.join("");ae(ss,`Creating RPC '${e}' stream ${i}: ${d}`,c);const f=o.createWebChannel(d,c);let p=!1,g=!1;const y=new yXe({Eo:w=>{g?ae(ss,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(p||(ae(ss,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),ae(ss,`RPC '${e}' stream ${i} sending:`,w),f.send(w))},Ao:()=>f.close()}),C=(w,N,R)=>{w.listen(N,O=>{try{R(O)}catch(F){setTimeout(()=>{throw F},0)}})};return C(f,Zf.EventType.OPEN,()=>{g||(ae(ss,`RPC '${e}' stream ${i} transport opened.`),y.So())}),C(f,Zf.EventType.CLOSE,()=>{g||(g=!0,ae(ss,`RPC '${e}' stream ${i} transport closed`),y.Do())}),C(f,Zf.EventType.ERROR,w=>{g||(g=!0,na(ss,`RPC '${e}' stream ${i} transport errored:`,w),y.Do(new ce(Q.UNAVAILABLE,"The operation could not be completed")))}),C(f,Zf.EventType.MESSAGE,w=>{var N;if(!g){const R=w.data[0];Ue(!!R);const O=R,F=O?.error||(null===(N=O[0])||void 0===N?void 0:N.error);if(F){ae(ss,`RPC '${e}' stream ${i} received error:`,F);const j=F.status;let W=function(E){const S=Zr[E];if(void 0!==S)return pZ(S)}(j),M=F.message;void 0===W&&(W=Q.INTERNAL,M="Unknown error status: "+j+" with message "+F.message),g=!0,y.Do(new ce(W,M)),f.close()}else ae(ss,`RPC '${e}' stream ${i} received:`,R),y.vo(R)}}),C(a,XJ.STAT_EVENT,w=>{w.stat===ZI.PROXY?ae(ss,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===ZI.NOPROXY&&ae(ss,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.bo()},0),y}}function D9(){return typeof document<"u"?document:null}function Ah(n){return new SJe(n,!0)}class QM{constructor(e,t,r=1e3,i=1.5,s=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=i,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-r);i>0&&ae("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){null!==this.Wo&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){null!==this.Wo&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}class Tee{constructor(e,t,r,i,s,o,a,c){this.li=e,this.Yo=r,this.Zo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new QM(e,t)}i_(){return 1===this.state||5===this.state||this.s_()}s_(){return 2===this.state||3===this.state}start(){this.n_=0,4!==this.state?this.auth():this.o_()}stop(){var e=this;return D(function*(){e.i_()&&(yield e.close(0))})()}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&null===this.e_&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}u_(){var e=this;return D(function*(){if(e.s_())return e.close(0)})()}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}close(e,t){var r=this;return D(function*(){r.l_(),r.h_(),r.r_.cancel(),r.Xo++,4!==e?r.r_.reset():t&&t.code===Q.RESOURCE_EXHAUSTED?(Vr(t.toString()),Vr("Using maximum backoff delay to prevent overloading the backend."),r.r_.zo()):t&&t.code===Q.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.P_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.po(t)})()}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===t&&this.I_(r,i)},r=>{e(()=>{const i=new ce(Q.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>1==++this.n_?this.A_(i):this.onNext(i))})}o_(){var e=this;this.state=5,this.r_.jo(D(function*(){e.state=0,e.start()}))}E_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class bXe extends Tee{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=function DJe(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:Re(),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(Ue(void 0===d||"string"==typeof d),Sr.fromBase64String(d||"")):(Ue(void 0===d||d instanceof Buffer||d instanceof Uint8Array),Sr.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=void 0===u.code?Q.UNKNOWN:pZ(u.code);return new ce(d,u.message||"")}(o);t=new vZ(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=c1(n,r.document.name),s=Br(r.document.updateTime),o=r.document.createTime?Br(r.document.createTime):Ge.min(),a=new $i({mapValue:{fields:r.document.fields}}),c=Qn.newFoundDocument(i,s,o,a);t=new h9(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=c1(n,r.document),s=r.readTime?Br(r.readTime):Ge.min(),o=Qn.newNoDocument(i,s);t=new h9([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=c1(n,r.document);t=new h9([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Re();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new CJe(i,s);t=new yZ(r.targetId,o)}}var u;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return Ge.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?Ge.min():o.readTime?Br(o.readTime):Ge.min()}(e);return this.listener.R_(t,r)}V_(e){const t={};t.database=IM(this.serializer),t.addTarget=function(s,o){let a;const c=o.target;if(a=o9(c)?{documents:xZ(s,c)}:{query:m9(s,c).ct},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=function wZ(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}(s,o.resumeToken);const u=wM(s,o.expectedCount);null!==u&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(Ge.min())>0){a.readTime=function ou(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}(s,o.snapshotVersion.toTimestamp());const u=wM(s,o.expectedCount);null!==u&&(a.expectedCount=u)}return a}(this.serializer,e);const r=function RJe(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.c_(t)}m_(e){const t={};t.database=IM(this.serializer),t.removeTarget=e,this.c_(t)}}class wXe extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new ce(Q.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Oo(e,TM(t,r),i,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ce(Q.UNKNOWN,s.toString())})}ko(e,t,r,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.ko(e,TM(t,r),i,o,a,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Q.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ce(Q.UNKNOWN,o.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class EXe{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){0===this.D_&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){"Online"===this.state?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,"Online"===e&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Vr(t),this.C_=!1):ae("OnlineStateTracker",t)}N_(){null!==this.v_&&(this.v_.cancel(),this.v_=null)}}class TXe{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(a=>{r.enqueueAndForget(D(function*(){var c;M2(o)&&(ae("RemoteStore","Restarting streams for network reachability change."),yield(c=D(function*(d){const f=Ee(d);f.k_.add(4),yield pu(f),f.K_.set("Unknown"),f.k_.delete(4),yield xh(f)}),function u(d){return c.apply(this,arguments)})(o))}))}),this.K_=new EXe(r,i)}}function xh(n){return YM.apply(this,arguments)}function YM(){return(YM=D(function*(n){if(M2(n))for(const e of n.q_)yield e(!0)})).apply(this,arguments)}function pu(n){return JM.apply(this,arguments)}function JM(){return(JM=D(function*(n){for(const e of n.q_)yield e(!1)})).apply(this,arguments)}function L9(n,e){const t=Ee(n);t.B_.has(e.targetId)||(t.B_.set(e.targetId,e),eS(t)?ZM(t):_u(t).s_()&&XM(t,e))}function mu(n,e){const t=Ee(n),r=_u(t);t.B_.delete(e),r.s_()&&Iee(t,e),0===t.B_.size&&(r.s_()?r.a_():M2(t)&&t.K_.set("Unknown"))}function XM(n,e){if(n.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Ge.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}_u(n).V_(e)}function Iee(n,e){n.U_.xe(e),_u(n).m_(e)}function ZM(n){n.U_=new EJe({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>n.B_.get(e)||null,nt:()=>n.datastore.serializer.databaseId}),_u(n).start(),n.K_.F_()}function eS(n){return M2(n)&&!_u(n).i_()&&n.B_.size>0}function M2(n){return 0===Ee(n).k_.size}function Mee(n){n.U_=void 0}function IXe(n){return tS.apply(this,arguments)}function tS(){return(tS=D(function*(n){n.K_.set("Online")})).apply(this,arguments)}function MXe(n){return nS.apply(this,arguments)}function nS(){return(nS=D(function*(n){n.B_.forEach((e,t)=>{XM(n,e)})})).apply(this,arguments)}function SXe(n,e){return rS.apply(this,arguments)}function rS(){return(rS=D(function*(n,e){Mee(n),eS(n)?(n.K_.O_(e),ZM(n)):n.K_.set("Unknown")})).apply(this,arguments)}function AXe(n,e,t){return iS.apply(this,arguments)}function iS(){return iS=D(function*(n,e,t){if(n.K_.set("Online"),e instanceof vZ&&2===e.state&&e.cause)try{yield(r=D(function*(s,o){const a=o.cause;for(const c of o.targetIds)s.B_.has(c)&&(yield s.remoteSyncer.rejectListen(c,a),s.B_.delete(c),s.U_.removeTarget(c))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield R9(n,r)}else if(e instanceof h9?n.U_.$e(e):e instanceof yZ?n.U_.Je(e):n.U_.Ge(e),!t.isEqual(Ge.min()))try{const r=yield pee(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.U_.it(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.B_.get(u);d&&s.B_.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const d=s.B_.get(c);if(!d)return;s.B_.set(c,d.withResumeToken(Sr.EMPTY_BYTE_STRING,d.snapshotVersion)),Iee(s,c);const f=new fc(d.target,c,u,d.sequenceNumber);XM(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){ae("RemoteStore","Failed to raise snapshot:",r),yield R9(n,r)}var r}),iS.apply(this,arguments)}function R9(n,e,t){return sS.apply(this,arguments)}function sS(){return(sS=D(function*(n,e,t){if(!g2(e))throw e;n.k_.add(1),yield pu(n),n.K_.set("Offline"),t||(t=()=>pee(n.localStore)),n.asyncQueue.enqueueRetryable(D(function*(){ae("RemoteStore","Retrying IndexedDB access"),yield t(),n.k_.delete(1),yield xh(n)}))})).apply(this,arguments)}function Dee(n,e){return dS.apply(this,arguments)}function dS(){return(dS=D(function*(n,e){const t=Ee(n);t.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const r=M2(t);t.k_.add(3),yield pu(t),r&&t.K_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),yield xh(t)})).apply(this,arguments)}function fS(n,e){return hS.apply(this,arguments)}function hS(){return(hS=D(function*(n,e){const t=Ee(n);e?(t.k_.delete(2),yield xh(t)):e||(t.k_.add(2),yield pu(t),t.K_.set("Unknown"))})).apply(this,arguments)}function _u(n){return n.W_||(n.W_=function(t,r,i){const s=Ee(t);return s.b_(),new bXe(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Ro:IXe.bind(null,n),mo:MXe.bind(null,n),po:SXe.bind(null,n),R_:AXe.bind(null,n)}),n.q_.push(function(){var e=D(function*(t){t?(n.W_.__(),eS(n)?ZM(n):n.K_.set("Unknown")):(yield n.W_.stop(),Mee(n))});return function(t){return e.apply(this,arguments)}}())),n.W_}class pS{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new pS(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ce(Q.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function yu(n,e){if(Vr("AsyncQueue",`${e}: ${n}`),g2(n))return new ce(Q.UNAVAILABLE,`${e}: ${n}`);throw n}class vu{static emptySet(e){return new vu(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ae.comparator(t.key,r.key):(t,r)=>Ae.comparator(t.key,r.key),this.keyedMap=fh(),this.sortedSet=new jn(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof vu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new vu;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class Lee{constructor(){this.z_=new jn(Ae.comparator)}track(e){const t=e.doc.key,r=this.z_.get(t);r?0!==e.type&&3===r.type?this.z_=this.z_.insert(t,e):3===e.type&&1!==r.type?this.z_=this.z_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.z_=this.z_.remove(t):1===e.type&&2===r.type?this.z_=this.z_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):Re():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal((t,r)=>{e.push(r)}),e}}class bu{constructor(e,t,r,i,s,o,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new bu(e,t,vu.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class zXe{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class OXe{constructor(){this.queries=Ree(),this.onlineState="Unknown",this.X_=new Set}terminate(){!function(t,r){const i=Ee(t),s=i.queries;i.queries=Ree(),s.forEach((o,a)=>{for(const c of a.J_)c.onError(r)})}(this,new ce(Q.ABORTED,"Firestore shutting down"))}}function Ree(){return new uc(n=>KX(n),uh)}function gS(){return(gS=D(function*(n,e){const t=Ee(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.Y_()&&e.Z_()&&(r=2):(s=new zXe,r=e.Z_()?0:1);try{switch(r){case 0:s.H_=yield t.onListen(i,!0);break;case 1:s.H_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){const a=yu(o,`Initialization of query '${tu(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.J_.push(e),e.ea(t.onlineState),s.H_&&e.ta(s.H_)&&vS(t)})).apply(this,arguments)}function yS(){return(yS=D(function*(n,e){const t=Ee(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.J_.indexOf(e);o>=0&&(s.J_.splice(o,1),0===s.J_.length?i=e.Z_()?0:1:!s.Y_()&&e.Z_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})).apply(this,arguments)}function kXe(n,e){const t=Ee(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.J_)a.ta(i)&&(r=!0);o.H_=i}}r&&vS(t)}function FXe(n,e,t){const r=Ee(n),i=r.queries.get(e);if(i)for(const s of i.J_)s.onError(t);r.queries.delete(e)}function vS(n){n.X_.forEach(e=>{e.next()})}var bS,Nee;(Nee=bS||(bS={})).na="default",Nee.Cache="cache";class CS{constructor(e,t,r){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=r||{}}ta(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new bu(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){return!e.fromCache||!this.Z_()||(!this.options.ua||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}oa(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}aa(e){e=bu.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==bS.Cache}}class Oee{constructor(e){this.key=e}}class kee{constructor(e){this.key=e}}class Fee{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ct(),this.mutatedKeys=Ct(),this.Va=YX(e),this.ma=new vu(this.Va)}get fa(){return this.da}ga(e,t){const r=t?t.pa:new Lee,i=t?t.ma:this.ma;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const p=i.get(d),g=dh(this.query,f)?f:null,y=!!p&&this.mutatedKeys.has(p.key),C=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let w=!1;p&&g?p.data.isEqual(g.data)?y!==C&&(r.track({type:3,doc:g}),w=!0):this.ya(p,g)||(r.track({type:2,doc:g}),w=!0,(c&&this.Va(g,c)>0||u&&this.Va(g,u)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),w=!0):p&&!g&&(r.track({type:1,doc:p}),w=!0,(c||u)&&(a=!0)),w&&(g?(o=o.add(g),s=C?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const d="F"===this.query.limitType?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{ma:o,pa:r,ss:a,mutatedKeys:s}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const o=e.pa.j_();o.sort((d,f)=>function(g,y){const C=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re()}};return C(g)-C(y)}(d.type,f.type)||this.Va(d.doc,f.doc)),this.wa(r),i=null!=i&&i;const a=t&&!i?this.Sa():[],c=0===this.Ra.size&&this.current&&!i?1:0,u=c!==this.Aa;return this.Aa=c,0!==o.length||u?{snapshot:new bu(this.query,e.ma,s,o,e.mutatedKeys,0===c,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Lee,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(t=>this.da=this.da.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.da=this.da.delete(t)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ct(),this.ma.forEach(r=>{this.Da(r.key)&&(this.Ra=this.Ra.add(r.key))});const t=[];return e.forEach(r=>{this.Ra.has(r)||t.push(new kee(r))}),this.Ra.forEach(r=>{e.has(r)||t.push(new Oee(r))}),t}va(e){this.da=e.ds,this.Ra=Ct();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return bu.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,0===this.Aa,this.hasCachedResults)}}class UXe{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class jXe{constructor(e){this.key=e,this.Fa=!1}}class $Xe{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ma={},this.xa=new uc(a=>KX(a),uh),this.Oa=new Map,this.Na=new Set,this.La=new jn(Ae.comparator),this.Ba=new Map,this.ka=new PM,this.qa={},this.Qa=new Map,this.Ka=f0.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return!0===this.$a}}function HXe(n,e){return wS.apply(this,arguments)}function wS(){return(wS=D(function*(n,e,t=!0){const r=N9(n);let i;const s=r.xa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=yield Vee(r,e,t,!0),i})).apply(this,arguments)}function GXe(n,e){return ES.apply(this,arguments)}function ES(){return(ES=D(function*(n,e){const t=N9(n);yield Vee(t,e,!0,!1)})).apply(this,arguments)}function Vee(n,e,t,r){return TS.apply(this,arguments)}function TS(){return(TS=D(function*(n,e,t,r){const i=yield function fu(n,e){const t=Ee(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Gr.getTargetData(r,e).next(s=>s?(i=s,$.resolve(i)):t.Gr.allocateTargetId(r).next(o=>(i=new fc(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Gr.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.us.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.us=t.us.insert(r.targetId,r),t.cs.set(e,r.targetId)),r})}(n.localStore,rs(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let a;return r&&(a=yield function IS(n,e,t,r,i){return MS.apply(this,arguments)}(n,e,s,"current"===o,i.resumeToken)),n.isPrimaryClient&&t&&L9(n.remoteStore,i),a})).apply(this,arguments)}function MS(){return MS=D(function*(n,e,t,r,i){n.Ua=(f,p,g)=>{return(y=D(function*(w,N,R,O){let F=N.view.ga(R);F.ss&&(F=yield M9(w.localStore,N.query,!1).then(({documents:v})=>N.view.ga(v,F)));const j=O&&O.targetChanges.get(N.targetId),W=O&&null!=O.targetMismatches.get(N.targetId),M=N.view.applyChanges(F,w.isPrimaryClient,j,W);return kS(w,N.targetId,M.ba),M.snapshot}),function C(w,N,R,O){return y.apply(this,arguments)})(n,f,p,g);var y};const s=yield M9(n.localStore,e,!0),o=new Fee(e,s.ds),a=o.ga(s.documents),c=yh.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),u=o.applyChanges(a,n.isPrimaryClient,c);kS(n,t,u.ba);const d=new UXe(e,t,o);return n.xa.set(e,d),n.Oa.has(t)?n.Oa.get(t).push(e):n.Oa.set(t,[e]),u.snapshot}),MS.apply(this,arguments)}function qXe(n,e,t){return SS.apply(this,arguments)}function SS(){return(SS=D(function*(n,e,t){const r=Ee(n),i=r.xa.get(e),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter(o=>!uh(o,e))),void r.xa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield hu(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&mu(r.remoteStore,i.targetId),Cu(r,i.targetId)}).catch(m2))):(Cu(r,i.targetId),yield hu(r.localStore,i.targetId,!0))})).apply(this,arguments)}function WXe(n,e){return AS.apply(this,arguments)}function AS(){return(AS=D(function*(n,e){const t=Ee(n),r=t.xa.get(e),i=t.Oa.get(r.targetId);t.isPrimaryClient&&1===i.length&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),mu(t.remoteStore,r.targetId))})).apply(this,arguments)}function Bee(n,e){return DS.apply(this,arguments)}function DS(){return(DS=D(function*(n,e){const t=Ee(n);try{const r=yield function fXe(n,e){const t=Ee(n),r=e.snapshotVersion;let i=t.us;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.hs.newChangeBuffer({trackRemovals:!0});i=t.us;const a=[];e.targetChanges.forEach((d,f)=>{const p=i.get(f);if(!p)return;a.push(t.Gr.removeMatchingKeys(s,d.removedDocuments,f).next(()=>t.Gr.addMatchingKeys(s,d.addedDocuments,f)));let g=p.withSequenceNumber(s.currentSequenceNumber);var C,w,N;null!==e.targetMismatches.get(f)?g=g.withResumeToken(Sr.EMPTY_BYTE_STRING,Ge.min()).withLastLimboFreeSnapshotVersion(Ge.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),w=g,N=d,(0===(C=p).resumeToken.approximateByteSize()||w.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8||N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0)&&a.push(t.Gr.updateTargetData(s,g))});let c=Zs(),u=Ct();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(function mee(n,e,t){let r=Ct(),i=Ct();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=Zs();return t.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(Ge.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):ae("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Is:o,Es:i}})}(s,o,e.documentUpdates).next(d=>{c=d.Is,u=d.Es})),!r.isEqual(Ge.min())){const d=t.Gr.getLastRemoteSnapshotVersion(s).next(f=>t.Gr.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return $.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(t.us=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Ba.get(s);o&&(Ue(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.Fa=!0:i.modifiedDocuments.size>0?Ue(o.Fa):i.removedDocuments.size>0&&(Ue(o.Fa),o.Fa=!1))}),yield hc(t,r,e)}catch(r){yield m2(r)}})).apply(this,arguments)}function Uee(n,e,t){const r=Ee(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.xa.forEach((s,o)=>{const a=o.view.ea(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=Ee(o);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(const p of f.J_)p.ea(a)&&(u=!0)}),u&&vS(c)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function QXe(n,e,t){return LS.apply(this,arguments)}function LS(){return(LS=D(function*(n,e,t){const r=Ee(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Ba.get(e),s=i&&i.key;if(s){let o=new jn(Ae.comparator);o=o.insert(s,Qn.newNoDocument(s,Ge.min()));const a=Ct().add(s),c=new _h(Ge.min(),new Map,new jn(at),o,a);yield Bee(r,c),r.La=r.La.remove(s),r.Ba.delete(e),FS(r)}else yield hu(r.localStore,e,!1).then(()=>Cu(r,e,t)).catch(m2)})).apply(this,arguments)}function Cu(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Oa.get(e))n.xa.delete(r),t&&n.Ma.Wa(r,t);n.Oa.delete(e),n.isPrimaryClient&&n.ka.yr(e).forEach(r=>{n.ka.containsKey(r)||jee(n,r)})}function jee(n,e){n.Na.delete(e.path.canonicalString());const t=n.La.get(e);null!==t&&(mu(n.remoteStore,t),n.La=n.La.remove(e),n.Ba.delete(t),FS(n))}function kS(n,e,t){for(const r of t)r instanceof Oee?(n.ka.addReference(r.key,e),ZXe(n,r)):r instanceof kee?(ae("SyncEngine","Document no longer in limbo: "+r.key),n.ka.removeReference(r.key,e),n.ka.containsKey(r.key)||jee(n,r.key)):Re()}function ZXe(n,e){const t=e.key,r=t.path.canonicalString();n.La.get(t)||n.Na.has(r)||(ae("SyncEngine","New document in limbo: "+t),n.Na.add(r),FS(n))}function FS(n){for(;n.Na.size>0&&n.La.size<n.maxConcurrentLimboResolutions;){const e=n.Na.values().next().value;n.Na.delete(e);const t=new Ae(Vt.fromString(e)),r=n.Ka.next();n.Ba.set(r,new jXe(t)),n.La=n.La.insert(t,r),L9(n.remoteStore,new fc(rs(Z4(t.path)),r,"TargetPurposeLimboResolution",Io.oe))}}function hc(n,e,t){return VS.apply(this,arguments)}function VS(){return VS=D(function*(n,e,t){const r=Ee(n),i=[],s=[],o=[];var a;r.xa.isEmpty()||(r.xa.forEach((a,c)=>{o.push(r.Ua(c,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){const f=u?!u.fromCache:null===(d=t?.targetChanges.get(c.targetId))||void 0===d?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=VM.zi(c.targetId,u);s.push(f)}}))}),yield Promise.all(o),r.Ma.R_(i),yield(a=D(function*(u,d){const f=Ee(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>$.forEach(d,g=>$.forEach(g.Wi,y=>f.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>$.forEach(g.Gi,y=>f.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!g2(p))throw p;ae("LocalStore","Failed to update sequence numbers: "+p)}for(const p of d){const g=p.targetId;if(!p.fromCache){const y=f.us.get(g),w=y.withLastLimboFreeSnapshotVersion(y.snapshotVersion);f.us=f.us.insert(g,w)}}}),function c(u,d){return a.apply(this,arguments)})(r.localStore,s))}),VS.apply(this,arguments)}function eZe(n,e){return BS.apply(this,arguments)}function BS(){return(BS=D(function*(n,e){const t=Ee(n);if(!t.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const r=yield hee(t.localStore,e);t.currentUser=e,(s=t).Qa.forEach(a=>{a.forEach(c=>{c.reject(new ce(Q.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.Qa.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield hc(t,r.Ts)}var s})).apply(this,arguments)}function tZe(n,e){const t=Ee(n),r=t.Ba.get(e);if(r&&r.Fa)return Ct().add(r.key);{let i=Ct();const s=t.Oa.get(e);if(!s)return i;for(const o of s){const a=t.xa.get(o);i=i.unionWith(a.view.fa)}return i}}function N9(n){const e=Ee(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Bee.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=tZe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=QXe.bind(null,e),e.Ma.R_=kXe.bind(null,e.eventManager),e.Ma.Wa=FXe.bind(null,e.eventManager),e}let P9=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){var r=this;return D(function*(){r.serializer=Ah(t.databaseInfo.databaseId),r.sharedClientState=r.za(t),r.persistence=r.ja(t),yield r.persistence.start(),r.localStore=r.Ha(t),r.gcScheduler=r.Ja(t,r.localStore),r.indexBackfillerScheduler=r.Ya(t,r.localStore)})()}Ja(t,r){return null}Ya(t,r){return null}Ha(t){return function fee(n,e,t,r){return new uXe(n,e,t,r)}(this.persistence,new dee,t.initialUser,this.serializer)}ja(t){return new zM(E9.ei,this.serializer)}za(t){return new Cee}terminate(){var t=this;return D(function*(){var r,i;null===(r=t.gcScheduler)||void 0===r||r.stop(),null===(i=t.indexBackfillerScheduler)||void 0===i||i.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}return n.provider={build:()=>new n},n})();class QS extends P9{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){return Ue(this.persistence.referenceDelegate instanceof T9),new nee(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}ja(e){const t=void 0!==this.cacheSizeBytes?is.withCacheSize(this.cacheSizeBytes):is.DEFAULT;return new zM(r=>T9.ei(r,t),this.serializer)}}let wu=(()=>{class n{initialize(t,r){var i=this;return D(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(r),i.remoteStore=i.createRemoteStore(r),i.eventManager=i.createEventManager(r),i.syncEngine=i.createSyncEngine(r,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=s=>Uee(i.syncEngine,s,1),i.remoteStore.remoteSyncer.handleCredentialChange=eZe.bind(null,i.syncEngine),yield fS(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new OXe}createDatastore(t){const r=Ah(t.databaseInfo.databaseId),i=new vXe(t.databaseInfo);return new wXe(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return i=this.localStore,s=this.datastore,o=t.asyncQueue,a=r=>Uee(this.syncEngine,r,0),c=wee.p()?new wee:new gXe,new TXe(i,s,o,a,c);var i,s,o,a,c}createSyncEngine(t,r){return function(s,o,a,c,u,d,f){const p=new $Xe(s,o,a,c,u,d);return f&&(p.$a=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){var t=this;return D(function*(){var r,i,s;yield(s=D(function*(a){const c=Ee(a);ae("RemoteStore","RemoteStore shutting down."),c.k_.add(5),yield pu(c),c.Q_.shutdown(),c.K_.set("Unknown")}),function o(a){return s.apply(this,arguments)})(t.remoteStore),null===(r=t.datastore)||void 0===r||r.terminate(),null===(i=t.eventManager)||void 0===i||i.terminate()})()}}return n.provider={build:()=>new n},n})();class z9{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Vr("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class hZe{constructor(e,t,r,i,s){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ci.UNAUTHENTICATED,this.clientId=iX.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,function(){var a=D(function*(c){ae("FirestoreClient","Received user=",c.uid),yield o.authCredentialListener(c),o.user=c});return function(c){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>(ae("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(D(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=yu(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function JS(n,e){return XS.apply(this,arguments)}function XS(){return XS=D(function*(n,e){n.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=D(function*(s){r.isEqual(s)||(yield hee(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),XS.apply(this,arguments)}function Wee(n,e){return ZS.apply(this,arguments)}function ZS(){return(ZS=D(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function eA(n){return tA.apply(this,arguments)}(n);ae("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Dee(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Dee(e.remoteStore,i)),n._onlineComponents=e})).apply(this,arguments)}function tA(){return(tA=D(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{yield JS(n,n._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(i=e).name?i.code===Q.FAILED_PRECONDITION||i.code===Q.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw e;na("Error using user provided cache. Falling back to memory cache: "+e),yield JS(n,new P9)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),yield JS(n,new QS(void 0));var i;return n._offlineComponents})).apply(this,arguments)}function nA(){return(nA=D(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),yield Wee(n,n._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),yield Wee(n,new wu))),n._onlineComponents})).apply(this,arguments)}function Tu(n){return iA.apply(this,arguments)}function iA(){return(iA=D(function*(n){const e=yield function O9(n){return nA.apply(this,arguments)}(n),t=e.eventManager;return t.onListen=HXe.bind(null,e.syncEngine),t.onUnlisten=qXe.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=GXe.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=WXe.bind(null,e.syncEngine),t})).apply(this,arguments)}function Zee(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const ete=new Map;function zt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ce(Q.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function k9(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":Re()}(n);throw new ce(Q.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class ite{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ce(Q.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ce(Q.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function IZe(n,e,t,r){if(!0===e&&!0===r)throw new ce(Q.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=Zee(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new ce(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ce(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ce(Q.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Dh{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ite({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(Q.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ce(Q.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ite(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new vYe;switch(r.type){case"firstParty":return new EYe(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ce(Q.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return D(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=ete.get(t);r&&(ae("ComponentProvider","Removing Datastore"),ete.delete(t),r.terminate())}(this),Promise.resolve()}}class Hi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hi(this.firestore,e,this._query)}}class Ur{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new l1(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ur(this.firestore,e,this._key)}}class l1 extends Hi{constructor(e,t,r){super(e,t,Z4(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ur(this.firestore,null,new Ae(e))}withConverter(e){return new l1(this.firestore,e,this._path)}}class ote{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new QM(this,"async_queue_retry"),this.fu=()=>{const r=D9();r&&ae("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=D9();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=D9();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new wi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}wu(){var e=this;return D(function*(){if(0!==e.Iu.length){try{yield e.Iu[0](),e.Iu.shift(),e.r_.reset()}catch(t){if(!g2(t))throw t;ae("AsyncQueue","Operation failed with retryable error: "+t)}e.Iu.length>0&&e.r_.jo(()=>e.wu())}})()}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{throw this.Au=r,this.Ru=!1,Vr("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const i=pS.createAndSchedule(this,e,t,r,s=>this.Su(s));return this.du.push(i),i}pu(){this.Au&&Re()}verifyOperationInProgress(){}bu(){var e=this;return D(function*(){let t;do{t=e.gu,yield t}while(t!==e.gu)})()}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}function oA(n){return function(t,r){if("object"!=typeof t||null===t)return!1;const i=t;for(const s of["next","error","complete"])if(s in i&&"function"==typeof i[s])return!0;return!1}(n)}class Rn extends Dh{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new ote,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){var e=this;return D(function*(){if(e._firestoreClient){const t=e._firestoreClient.terminate();e._queue=new ote(t),e._firestoreClient=void 0,yield t}})()}}function _r(n){if(n._terminated)throw new ce(Q.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||function ate(n){var e,t,r;const i=n._freezeSettings(),s=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new ZYe(n._databaseId,c,n._persistenceKey,(d=i).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,Zee(d.experimentalLongPollingOptions),d.useFetchStreams));var c,d;n._componentsProvider||!(null===(t=i.localCache)||void 0===t)&&t._offlineComponentProvider&&!(null===(r=i.localCache)||void 0===r)&&r._onlineComponentProvider&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new hZe(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}(n),n._firestoreClient}class p0{constructor(e){this._byteString=e}static fromBase64String(e){try{return new p0(Sr.fromBase64String(e))}catch(t){throw new ce(Q.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new p0(Sr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class m0{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ce(Q.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new nr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cA{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ce(Q.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ce(Q.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return at(this._lat,e._lat)||at(this._long,e._long)}}class F9{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}const NZe=new RegExp("[~\\*/\\[\\]]");function j9(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new ce(Q.INVALID_ARGUMENT,a+n+c)}class Ph{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Ur(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new PZe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($9("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class PZe extends Ph{data(){return super.data()}}function $9(n,e){return"string"==typeof e?function U9(n,e,t){if(e.search(NZe)>=0)throw j9(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new m0(...e.split("."))._internalPath}catch{throw j9(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}(n,e):e instanceof m0?e._internalPath:e._delegate._internalPath}class wte{convertValue(e,t="none"){switch(v2(e)){case 0:return null;case 1:return e.booleanValue;case 2:return rr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(cc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return _2(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=null===(i=null===(r=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.map(o=>rr(o.doubleValue));return new F9(s)}convertGeoPoint(e){return new cA(rr(e.latitude),rr(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=t9(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(ih(e));default:return null}}convertTimestamp(e){const t=ac(e);return new gr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Vt.fromString(e);Ue(PZ(r));const i=new t0(r.get(1),r.get(3)),s=new Ae(r.popFirst(5));return i.isEqual(t)||Vr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class y0{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Su extends Ph{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new K9(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field($9("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class K9 extends Su{data(e={}){return super.data(e)}}class Au{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new y0(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new K9(this._firestore,this._userDataWriter,r.key,r,new y0(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ce(Q.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>({type:"added",doc:new K9(i._firestore,i._userDataWriter,a.doc.key,a.doc,new y0(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),oldIndex:-1,newIndex:o++}))}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||3!==a.type).map(a=>{const c=new K9(i._firestore,i._userDataWriter,a.doc.key,a.doc,new y0(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return 0!==a.type&&(u=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),1!==a.type&&(o=o.add(a.doc),d=o.indexOf(a.doc.key)),{type:kZe(a.type),doc:c,oldIndex:u,newIndex:d}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function kZe(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re()}}class A2 extends wte{constructor(e){super(),this.firestore=e}convertBytes(e){return new p0(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Ur(this.firestore,null,t)}}!function(e,t=!0){G4="11.0.2",Km(new Qf("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Rn(new CYe(r.getProvider("auth-internal")),new TYe(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ce(Q.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new t0(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),H4(tX,"4.7.5",e),H4(tX,"4.7.5","esm2017")}();var Y9=function(){return Y9=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++)for(var s in t=arguments[r])Object.prototype.hasOwnProperty.call(t,s)&&(e[s]=t[s]);return e},Y9.apply(this,arguments)};"function"==typeof SuppressedError&&SuppressedError;var JZe={includeMetadataChanges:!1};function CA(n,e){return void 0===e&&(e=JZe),new Qt(function(t){var r=function FZe(n,...e){var t,r,i;n=function r1(n){return n&&n._delegate?n._delegate:n}(n);let s={includeMetadataChanges:!1,source:"default"},o=0;"object"!=typeof e[o]||oA(e[o])||(s=e[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(oA(e[o])){const f=e[o];e[o]=null===(t=f.next)||void 0===t?void 0:t.bind(f),e[o+1]=null===(r=f.error)||void 0===r?void 0:r.bind(f),e[o+2]=null===(i=f.complete)||void 0===i?void 0:i.bind(f)}let c,u,d;if(n instanceof Ur)u=zt(n.firestore,Rn),d=Z4(n._key.path),c={next:f=>{e[o]&&e[o](function yA(n,e,t){const r=t.docs.get(e._key),i=new A2(n);return new Su(n,i,e._key,r,new y0(t.hasPendingWrites,t.fromCache),e.converter)}(u,n,f))},error:e[o+1],complete:e[o+2]};else{const f=zt(n,Hi);u=zt(f.firestore,Rn),d=f._query;const p=new A2(u);c={next:g=>{e[o]&&e[o](new Au(u,p,f,g))},error:e[o+1],complete:e[o+2]},function gte(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new ce(Q.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(p,g,y,C){const w=new z9(C),N=new CS(g,w,y);return p.asyncQueue.enqueueAndForget(D(function*(){return function mS(n,e){return gS.apply(this,arguments)}(yield Tu(p),N)})),()=>{w.eu(),p.asyncQueue.enqueueAndForget(D(function*(){return function _S(n,e){return yS.apply(this,arguments)}(yield Tu(p),N)}))}}(_r(u),d,a,c)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function iet(n,e){return void 0===e&&(e={}),function ret(n){return CA(n,{includeMetadataChanges:!0}).pipe(dt(function(e){return e.docs}))}(n).pipe(dt(function(t){return t.map(function(r){return function Mte(n,e){var t;void 0===e&&(e={});var r=n.data(e);return n.exists()&&"object"==typeof r&&null!==r&&e.idField?Y9(Y9({},r),((t={})[e.idField]=n.id,t)):r}(r,e)})}))}var v0,Rte,Dte=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Lte={};(function(){var n;function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function i(M,v,E){E||(E=0);var S=Array(16);if("string"==typeof v)for(var A=0;16>A;++A)S[A]=v.charCodeAt(E++)|v.charCodeAt(E++)<<8|v.charCodeAt(E++)<<16|v.charCodeAt(E++)<<24;else for(A=0;16>A;++A)S[A]=v[E++]|v[E++]<<8|v[E++]<<16|v[E++]<<24;var x=M.g[3],I=(v=M.g[0])+(x^(E=M.g[1])&((A=M.g[2])^x))+S[0]+3614090360&4294967295;I=(E=(A=(x=(v=(E=(A=(x=(v=(E=(A=(x=(v=(E=(A=(x=(v=(E=(A=(x=(v=(E=(A=(x=(v=(E=(A=(x=(v=(E=(A=(x=(v=(E=(A=(x=(v=(E=(A=(x=(v=(E=(A=(x=(v=(E=(A=(x=(v=(E=(A=(x=(v=(E=(A=(x=(v=(E=(A=(x=(v=E+(I<<7&4294967295|I>>>25))+((I=x+(A^v&(E^A))+S[1]+3905402710&4294967295)<<12&4294967295|I>>>20))+((I=A+(E^x&(v^E))+S[2]+606105819&4294967295)<<17&4294967295|I>>>15))+((I=E+(v^A&(x^v))+S[3]+3250441966&4294967295)<<22&4294967295|I>>>10))+((I=v+(x^E&(A^x))+S[4]+4118548399&4294967295)<<7&4294967295|I>>>25))+((I=x+(A^v&(E^A))+S[5]+1200080426&4294967295)<<12&4294967295|I>>>20))+((I=A+(E^x&(v^E))+S[6]+2821735955&4294967295)<<17&4294967295|I>>>15))+((I=E+(v^A&(x^v))+S[7]+4249261313&4294967295)<<22&4294967295|I>>>10))+((I=v+(x^E&(A^x))+S[8]+1770035416&4294967295)<<7&4294967295|I>>>25))+((I=x+(A^v&(E^A))+S[9]+2336552879&4294967295)<<12&4294967295|I>>>20))+((I=A+(E^x&(v^E))+S[10]+4294925233&4294967295)<<17&4294967295|I>>>15))+((I=E+(v^A&(x^v))+S[11]+2304563134&4294967295)<<22&4294967295|I>>>10))+((I=v+(x^E&(A^x))+S[12]+1804603682&4294967295)<<7&4294967295|I>>>25))+((I=x+(A^v&(E^A))+S[13]+4254626195&4294967295)<<12&4294967295|I>>>20))+((I=A+(E^x&(v^E))+S[14]+2792965006&4294967295)<<17&4294967295|I>>>15))+((I=E+(v^A&(x^v))+S[15]+1236535329&4294967295)<<22&4294967295|I>>>10))+((I=v+(A^x&(E^A))+S[1]+4129170786&4294967295)<<5&4294967295|I>>>27))+((I=x+(E^A&(v^E))+S[6]+3225465664&4294967295)<<9&4294967295|I>>>23))+((I=A+(v^E&(x^v))+S[11]+643717713&4294967295)<<14&4294967295|I>>>18))+((I=E+(x^v&(A^x))+S[0]+3921069994&4294967295)<<20&4294967295|I>>>12))+((I=v+(A^x&(E^A))+S[5]+3593408605&4294967295)<<5&4294967295|I>>>27))+((I=x+(E^A&(v^E))+S[10]+38016083&4294967295)<<9&4294967295|I>>>23))+((I=A+(v^E&(x^v))+S[15]+3634488961&4294967295)<<14&4294967295|I>>>18))+((I=E+(x^v&(A^x))+S[4]+3889429448&4294967295)<<20&4294967295|I>>>12))+((I=v+(A^x&(E^A))+S[9]+568446438&4294967295)<<5&4294967295|I>>>27))+((I=x+(E^A&(v^E))+S[14]+3275163606&4294967295)<<9&4294967295|I>>>23))+((I=A+(v^E&(x^v))+S[3]+4107603335&4294967295)<<14&4294967295|I>>>18))+((I=E+(x^v&(A^x))+S[8]+1163531501&4294967295)<<20&4294967295|I>>>12))+((I=v+(A^x&(E^A))+S[13]+2850285829&4294967295)<<5&4294967295|I>>>27))+((I=x+(E^A&(v^E))+S[2]+4243563512&4294967295)<<9&4294967295|I>>>23))+((I=A+(v^E&(x^v))+S[7]+1735328473&4294967295)<<14&4294967295|I>>>18))+((I=E+(x^v&(A^x))+S[12]+2368359562&4294967295)<<20&4294967295|I>>>12))+((I=v+(E^A^x)+S[5]+4294588738&4294967295)<<4&4294967295|I>>>28))+((I=x+(v^E^A)+S[8]+2272392833&4294967295)<<11&4294967295|I>>>21))+((I=A+(x^v^E)+S[11]+1839030562&4294967295)<<16&4294967295|I>>>16))+((I=E+(A^x^v)+S[14]+4259657740&4294967295)<<23&4294967295|I>>>9))+((I=v+(E^A^x)+S[1]+2763975236&4294967295)<<4&4294967295|I>>>28))+((I=x+(v^E^A)+S[4]+1272893353&4294967295)<<11&4294967295|I>>>21))+((I=A+(x^v^E)+S[7]+4139469664&4294967295)<<16&4294967295|I>>>16))+((I=E+(A^x^v)+S[10]+3200236656&4294967295)<<23&4294967295|I>>>9))+((I=v+(E^A^x)+S[13]+681279174&4294967295)<<4&4294967295|I>>>28))+((I=x+(v^E^A)+S[0]+3936430074&4294967295)<<11&4294967295|I>>>21))+((I=A+(x^v^E)+S[3]+3572445317&4294967295)<<16&4294967295|I>>>16))+((I=E+(A^x^v)+S[6]+76029189&4294967295)<<23&4294967295|I>>>9))+((I=v+(E^A^x)+S[9]+3654602809&4294967295)<<4&4294967295|I>>>28))+((I=x+(v^E^A)+S[12]+3873151461&4294967295)<<11&4294967295|I>>>21))+((I=A+(x^v^E)+S[15]+530742520&4294967295)<<16&4294967295|I>>>16))+((I=E+(A^x^v)+S[2]+3299628645&4294967295)<<23&4294967295|I>>>9))+((I=v+(A^(E|~x))+S[0]+4096336452&4294967295)<<6&4294967295|I>>>26))+((I=x+(E^(v|~A))+S[7]+1126891415&4294967295)<<10&4294967295|I>>>22))+((I=A+(v^(x|~E))+S[14]+2878612391&4294967295)<<15&4294967295|I>>>17))+((I=E+(x^(A|~v))+S[5]+4237533241&4294967295)<<21&4294967295|I>>>11))+((I=v+(A^(E|~x))+S[12]+1700485571&4294967295)<<6&4294967295|I>>>26))+((I=x+(E^(v|~A))+S[3]+2399980690&4294967295)<<10&4294967295|I>>>22))+((I=A+(v^(x|~E))+S[10]+4293915773&4294967295)<<15&4294967295|I>>>17))+((I=E+(x^(A|~v))+S[1]+2240044497&4294967295)<<21&4294967295|I>>>11))+((I=v+(A^(E|~x))+S[8]+1873313359&4294967295)<<6&4294967295|I>>>26))+((I=x+(E^(v|~A))+S[15]+4264355552&4294967295)<<10&4294967295|I>>>22))+((I=A+(v^(x|~E))+S[6]+2734768916&4294967295)<<15&4294967295|I>>>17))+((I=E+(x^(A|~v))+S[13]+1309151649&4294967295)<<21&4294967295|I>>>11))+((x=(v=E+((I=v+(A^(E|~x))+S[4]+4149444226&4294967295)<<6&4294967295|I>>>26))+((I=x+(E^(v|~A))+S[11]+3174756917&4294967295)<<10&4294967295|I>>>22))^((A=x+((I=A+(v^(x|~E))+S[2]+718787259&4294967295)<<15&4294967295|I>>>17))|~v))+S[9]+3951481745&4294967295,M.g[0]=M.g[0]+v&4294967295,M.g[1]=M.g[1]+(A+(I<<21&4294967295|I>>>11))&4294967295,M.g[2]=M.g[2]+A&4294967295,M.g[3]=M.g[3]+x&4294967295}function o(M,v){this.h=v;for(var E=[],S=!0,A=M.length-1;0<=A;A--){var x=0|M[A];S&&x==v||(E[A]=x,S=!1)}this.g=E}(function e(M,v){function E(){}E.prototype=v.prototype,M.D=v.prototype,M.prototype=new E,M.prototype.constructor=M,M.C=function(S,A,x){for(var I=Array(arguments.length-2),sn=2;sn<arguments.length;sn++)I[sn-2]=arguments[sn];return v.prototype[A].apply(S,I)}})(r,function t(){this.blockSize=-1}),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},r.prototype.u=function(M,v){void 0===v&&(v=M.length);for(var E=v-this.blockSize,S=this.B,A=this.h,x=0;x<v;){if(0==A)for(;x<=E;)i(this,M,x),x+=this.blockSize;if("string"==typeof M){for(;x<v;)if(S[A++]=M.charCodeAt(x++),A==this.blockSize){i(this,S),A=0;break}}else for(;x<v;)if(S[A++]=M[x++],A==this.blockSize){i(this,S),A=0;break}}this.h=A,this.o+=v},r.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var v=1;v<M.length-8;++v)M[v]=0;var E=8*this.o;for(v=M.length-8;v<M.length;++v)M[v]=255&E,E/=256;for(this.u(M),M=Array(16),v=E=0;4>v;++v)for(var S=0;32>S;S+=8)M[E++]=this.g[v]>>>S&255;return M};var a={};function c(M){return-128<=M&&128>M?function s(M,v){var E=a;return Object.prototype.hasOwnProperty.call(E,M)?E[M]:E[M]=v(M)}(M,function(v){return new o([0|v],0>v?-1:0)}):new o([0|M],0>M?-1:0)}function u(M){if(isNaN(M)||!isFinite(M))return f;if(0>M)return w(u(-M));for(var v=[],E=1,S=0;M>=E;S++)v[S]=M/E|0,E*=4294967296;return new o(v,0)}var f=c(0),p=c(1),g=c(16777216);function y(M){if(0!=M.h)return!1;for(var v=0;v<M.g.length;v++)if(0!=M.g[v])return!1;return!0}function C(M){return-1==M.h}function w(M){for(var v=M.g.length,E=[],S=0;S<v;S++)E[S]=~M.g[S];return new o(E,~M.h).add(p)}function N(M,v){return M.add(w(v))}function R(M,v){for(;(65535&M[v])!=M[v];)M[v+1]+=M[v]>>>16,M[v]&=65535,v++}function O(M,v){this.g=M,this.h=v}function F(M,v){if(y(v))throw Error("division by zero");if(y(M))return new O(f,f);if(C(M))return v=F(w(M),v),new O(w(v.g),w(v.h));if(C(v))return v=F(M,w(v)),new O(w(v.g),v.h);if(30<M.g.length){if(C(M)||C(v))throw Error("slowDivide_ only works with positive integers.");for(var E=p,S=v;0>=S.l(M);)E=j(E),S=j(S);var A=W(E,1),x=W(S,1);for(S=W(S,2),E=W(E,2);!y(S);){var I=x.add(S);0>=I.l(M)&&(A=A.add(E),x=I),S=W(S,1),E=W(E,1)}return v=N(M,A.j(v)),new O(A,v)}for(A=f;0<=M.l(v);){for(E=Math.max(1,Math.floor(M.m()/v.m())),S=48>=(S=Math.ceil(Math.log(E)/Math.LN2))?1:Math.pow(2,S-48),I=(x=u(E)).j(v);C(I)||0<I.l(M);)I=(x=u(E-=S)).j(v);y(x)&&(x=p),A=A.add(x),M=N(M,I)}return new O(A,M)}function j(M){for(var v=M.g.length+1,E=[],S=0;S<v;S++)E[S]=M.i(S)<<1|M.i(S-1)>>>31;return new o(E,M.h)}function W(M,v){var E=v>>5;v%=32;for(var S=M.g.length-E,A=[],x=0;x<S;x++)A[x]=0<v?M.i(x+E)>>>v|M.i(x+E+1)<<32-v:M.i(x+E);return new o(A,M.h)}(n=o.prototype).m=function(){if(C(this))return-w(this).m();for(var M=0,v=1,E=0;E<this.g.length;E++){var S=this.i(E);M+=(0<=S?S:4294967296+S)*v,v*=4294967296}return M},n.toString=function(M){if(2>(M=M||10)||36<M)throw Error("radix out of range: "+M);if(y(this))return"0";if(C(this))return"-"+w(this).toString(M);for(var v=u(Math.pow(M,6)),E=this,S="";;){var A=F(E,v).g,x=((0<(E=N(E,A.j(v))).g.length?E.g[0]:E.h)>>>0).toString(M);if(y(E=A))return x+S;for(;6>x.length;)x="0"+x;S=x+S}},n.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h},n.l=function(M){return C(M=N(this,M))?-1:y(M)?0:1},n.abs=function(){return C(this)?w(this):this},n.add=function(M){for(var v=Math.max(this.g.length,M.g.length),E=[],S=0,A=0;A<=v;A++){var x=S+(65535&this.i(A))+(65535&M.i(A)),I=(x>>>16)+(this.i(A)>>>16)+(M.i(A)>>>16);S=I>>>16,E[A]=(I&=65535)<<16|(x&=65535)}return new o(E,-2147483648&E[E.length-1]?-1:0)},n.j=function(M){if(y(this)||y(M))return f;if(C(this))return C(M)?w(this).j(w(M)):w(w(this).j(M));if(C(M))return w(this.j(w(M)));if(0>this.l(g)&&0>M.l(g))return u(this.m()*M.m());for(var v=this.g.length+M.g.length,E=[],S=0;S<2*v;S++)E[S]=0;for(S=0;S<this.g.length;S++)for(var A=0;A<M.g.length;A++){var x=this.i(S)>>>16,I=65535&this.i(S),sn=M.i(A)>>>16,Xn=65535&M.i(A);E[2*S+2*A]+=I*Xn,R(E,2*S+2*A),E[2*S+2*A+1]+=x*Xn,R(E,2*S+2*A+1),E[2*S+2*A+1]+=I*sn,R(E,2*S+2*A+1),E[2*S+2*A+2]+=x*sn,R(E,2*S+2*A+2)}for(S=0;S<v;S++)E[S]=E[2*S+1]<<16|E[2*S];for(S=v;S<2*v;S++)E[S]=0;return new o(E,0)},n.A=function(M){return F(this,M).h},n.and=function(M){for(var v=Math.max(this.g.length,M.g.length),E=[],S=0;S<v;S++)E[S]=this.i(S)&M.i(S);return new o(E,this.h&M.h)},n.or=function(M){for(var v=Math.max(this.g.length,M.g.length),E=[],S=0;S<v;S++)E[S]=this.i(S)|M.i(S);return new o(E,this.h|M.h)},n.xor=function(M){for(var v=Math.max(this.g.length,M.g.length),E=[],S=0;S<v;S++)E[S]=this.i(S)^M.i(S);return new o(E,this.h^M.h)},r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Rte=Lte.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=u,o.fromString=function d(M,v){if(0==M.length)throw Error("number format error: empty string");if(2>(v=v||10)||36<v)throw Error("radix out of range: "+v);if("-"==M.charAt(0))return w(d(M.substring(1),v));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=u(Math.pow(v,8)),S=f,A=0;A<M.length;A+=8){var x=Math.min(8,M.length-A),I=parseInt(M.substring(A,A+x),v);8>x?(x=u(Math.pow(v,x)),S=S.j(x).add(u(I))):S=(S=S.j(E)).add(u(I))}return S},v0=Lte.Integer=o}).apply(typeof Dte<"u"?Dte:typeof self<"u"?self:typeof window<"u"?window:{});var Nte,Fh,Pte,X9,TA,zte,Ote,kte,J9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},pc={};(function(){var n,e="function"==typeof Object.defineProperties?Object.defineProperty:function(l,h,m){return l==Array.prototype||l==Object.prototype||(l[h]=m.value),l},r=function t(l){l=["object"==typeof globalThis&&globalThis,l,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof J9&&J9];for(var h=0;h<l.length;++h){var m=l[h];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}(this);!function i(l,h){if(h)e:{var m=r;l=l.split(".");for(var _=0;_<l.length-1;_++){var L=l[_];if(!(L in m))break e;m=m[L]}(h=h(_=m[l=l[l.length-1]]))!=_&&null!=h&&e(m,l,{configurable:!0,writable:!0,value:h})}}("Array.prototype.values",function(l){return l||function(){return function s(l,h){l instanceof String&&(l+="");var m=0,_=!1,L={next:function(){if(!_&&m<l.length){var z=m++;return{value:h(z,l[z]),done:!1}}return _=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}(this,function(h,m){return m})}});var o=o||{},a=this||self;function c(l){var h=typeof l;return"array"==(h="object"!=h?h:l?Array.isArray(l)?"array":h:"null")||"object"==h&&"number"==typeof l.length}function u(l){var h=typeof l;return"object"==h&&null!=l||"function"==h}function d(l,h,m){return l.call.apply(l.bind,arguments)}function f(l,h,m){if(!l)throw Error();if(2<arguments.length){var _=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,_),l.apply(h,L)}}return function(){return l.apply(h,arguments)}}function p(l,h,m){return(p=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?d:f).apply(null,arguments)}function g(l,h){var m=Array.prototype.slice.call(arguments,1);return function(){var _=m.slice();return _.push.apply(_,arguments),l.apply(this,_)}}function y(l,h){function m(){}m.prototype=h.prototype,l.aa=h.prototype,l.prototype=new m,l.prototype.constructor=l,l.Qb=function(_,L,z){for(var G=Array(arguments.length-2),Ye=2;Ye<arguments.length;Ye++)G[Ye-2]=arguments[Ye];return h.prototype[L].apply(_,G)}}function C(l){const h=l.length;if(0<h){const m=Array(h);for(let _=0;_<h;_++)m[_]=l[_];return m}return[]}function w(l,h){for(let m=1;m<arguments.length;m++){const _=arguments[m];if(c(_)){const L=l.length||0,z=_.length||0;l.length=L+z;for(let G=0;G<z;G++)l[L+G]=_[G]}else l.push(_)}}function R(l){return/^[\s\xa0]*$/.test(l)}function O(){var l=a.navigator;return l&&(l=l.userAgent)?l:""}function F(l){return F[" "](l),l}F[" "]=function(){};var j=!(-1==O().indexOf("Gecko")||-1!=O().toLowerCase().indexOf("webkit")&&-1==O().indexOf("Edge")||-1!=O().indexOf("Trident")||-1!=O().indexOf("MSIE")||-1!=O().indexOf("Edge"));function W(l,h,m){for(const _ in l)h.call(m,l[_],_,l)}function v(l){const h={};for(const m in l)h[m]=l[m];return h}const E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(l,h){let m,_;for(let L=1;L<arguments.length;L++){for(m in _=arguments[L],_)l[m]=_[m];for(let z=0;z<E.length;z++)m=E[z],Object.prototype.hasOwnProperty.call(_,m)&&(l[m]=_[m])}}function A(l){var h=1;l=l.split(":");const m=[];for(;0<h&&l.length;)m.push(l.shift()),h--;return l.length&&m.push(l.join(":")),m}function x(l){a.setTimeout(()=>{throw l},0)}function I(){var l=rt;let h=null;return l.g&&(h=l.g,l.g=l.g.next,l.g||(l.h=null),h.next=null),h}var Xn=new class N{constructor(h,m){this.i=h,this.j=m,this.h=0,this.g=null}get(){let h;return 0<this.h?(this.h--,h=this.g,this.g=h.next,h.next=null):h=this.i(),h}}(()=>new we,l=>l.reset());class we{constructor(){this.next=this.g=this.h=null}set(h,m){this.h=h,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Ie,Pe=!1,rt=new class sn{constructor(){this.h=this.g=null}add(h,m){const _=Xn.get();_.set(h,m),this.h?this.h.next=_:this.g=_,this.h=_}},mn=()=>{const l=a.Promise.resolve(void 0);Ie=()=>{l.then(Hn)}};var Hn=()=>{for(var l;l=I();){try{l.h.call(l.g)}catch(m){x(m)}var h=Xn;h.j(l),100>h.h&&(h.h++,l.next=h.g,h.g=l)}Pe=!1};function Mt(){this.s=this.s,this.C=this.C}function Ze(l,h){this.type=l,this.g=this.target=h,this.defaultPrevented=!1}Mt.prototype.s=!1,Mt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Mt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},Ze.prototype.h=function(){this.defaultPrevented=!0};var Dt=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var l=!1,h=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const m=()=>{};a.addEventListener("test",m,h),a.removeEventListener("test",m,h)}catch{}return l}();function Gn(l,h){if(Ze.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var m=this.type=l.type,_=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=h,h=l.relatedTarget){if(j){e:{try{F(h.nodeName);var L=!0;break e}catch{}L=!1}L||(h=null)}}else"mouseover"==m?h=l.fromElement:"mouseout"==m&&(h=l.toElement);this.relatedTarget=h,_?(this.clientX=void 0!==_.clientX?_.clientX:_.pageX,this.clientY=void 0!==_.clientY?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0):(this.clientX=void 0!==l.clientX?l.clientX:l.pageX,this.clientY=void 0!==l.clientY?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType="string"==typeof l.pointerType?l.pointerType:Si[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Gn.aa.h.call(this)}}y(Gn,Ze);var Si={2:"touch",3:"pen",4:"mouse"};Gn.prototype.h=function(){Gn.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var $t="closure_listenable_"+(1e6*Math.random()|0),xr=0;function Dr(l,h,m,_,L){this.listener=l,this.proxy=null,this.src=h,this.type=m,this.capture=!!_,this.ha=L,this.key=++xr,this.da=this.fa=!1}function di(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function fi(l){this.src=l,this.g={},this.h=0}function zo(l,h){var m=h.type;if(m in l.g){var z,_=l.g[m],L=Array.prototype.indexOf.call(_,h,void 0);(z=0<=L)&&Array.prototype.splice.call(_,L,1),z&&(di(h),0==l.g[m].length&&(delete l.g[m],l.h--))}}function Oo(l,h,m,_){for(var L=0;L<l.length;++L){var z=l[L];if(!z.da&&z.listener==h&&z.capture==!!m&&z.ha==_)return L}return-1}fi.prototype.add=function(l,h,m,_,L){var z=l.toString();(l=this.g[z])||(l=this.g[z]=[],this.h++);var G=Oo(l,h,_,L);return-1<G?(h=l[G],m||(h.fa=!1)):((h=new Dr(h,this.src,z,!!_,L)).fa=m,l.push(h)),h};var oo="closure_lm_"+(1e6*Math.random()|0),aa={};function Gr(l,h,m,_,L){if(_&&_.once)return hi(l,h,m,_,L);if(Array.isArray(h)){for(var z=0;z<h.length;z++)Gr(l,h[z],m,_,L);return null}return m=ao(m),l&&l[$t]?l.K(h,m,u(_)?!!_.capture:!!_,L):Ds(l,h,m,!1,_,L)}function Ds(l,h,m,_,L,z){if(!h)throw Error("Invalid event type");var G=u(L)?!!L.capture:!!L,Ye=tn(l);if(Ye||(l[oo]=Ye=new fi(l)),(m=Ye.add(h,m,_,G,z)).proxy)return m;if(_=function ut(){const h=Lc;return function l(m){return h.call(l.src,l.listener,m)}}(),m.proxy=_,_.src=l,_.listener=m,l.addEventListener)Dt||(L=G),void 0===L&&(L=!1),l.addEventListener(h.toString(),_,L);else if(l.attachEvent)l.attachEvent(Pa(h.toString()),_);else{if(!l.addListener||!l.removeListener)throw Error("addEventListener and attachEvent are unavailable.");l.addListener(_)}return m}function hi(l,h,m,_,L){if(Array.isArray(h)){for(var z=0;z<h.length;z++)hi(l,h[z],m,_,L);return null}return m=ao(m),l&&l[$t]?l.L(h,m,u(_)?!!_.capture:!!_,L):Ds(l,h,m,!0,_,L)}function ur(l,h,m,_,L){if(Array.isArray(h))for(var z=0;z<h.length;z++)ur(l,h[z],m,_,L);else _=u(_)?!!_.capture:!!_,m=ao(m),l&&l[$t]?(l=l.i,(h=String(h).toString())in l.g&&-1<(m=Oo(z=l.g[h],m,_,L))&&(di(z[m]),Array.prototype.splice.call(z,m,1),0==z.length&&(delete l.g[h],l.h--))):l&&(l=tn(l))&&(h=l.g[h.toString()],l=-1,h&&(l=Oo(h,m,_,L)),(m=-1<l?h[l]:null)&&Ls(m))}function Ls(l){if("number"!=typeof l&&l&&!l.da){var h=l.src;if(h&&h[$t])zo(h.i,l);else{var m=l.type,_=l.proxy;h.removeEventListener?h.removeEventListener(m,_,l.capture):h.detachEvent?h.detachEvent(Pa(m),_):h.addListener&&h.removeListener&&h.removeListener(_),(m=tn(h))?(zo(m,l),0==m.h&&(m.src=null,h[oo]=null)):di(l)}}}function Pa(l){return l in aa?aa[l]:aa[l]="on"+l}function Lc(l,h){if(l.da)l=!0;else{h=new Gn(h,this);var m=l.listener,_=l.ha||l.src;l.fa&&Ls(l),l=m.call(_,h)}return l}function tn(l){return(l=l[oo])instanceof fi?l:null}var ds="__closure_events_fn_"+(1e9*Math.random()>>>0);function ao(l){return"function"==typeof l?l:(l[ds]||(l[ds]=function(h){return l.handleEvent(h)}),l[ds])}function Et(){Mt.call(this),this.i=new fi(this),this.M=this,this.F=null}function gt(l,h){var m,_=l.F;if(_)for(m=[];_;_=_.F)m.push(_);if(l=l.M,_=h.type||h,"string"==typeof h)h=new Ze(h,l);else if(h instanceof Ze)h.target=h.target||l;else{var L=h;S(h=new Ze(_,l),L)}if(L=!0,m)for(var z=m.length-1;0<=z;z--){var G=h.g=m[z];L=ko(G,_,!0,h)&&L}if(L=ko(G=h.g=l,_,!0,h)&&L,L=ko(G,_,!1,h)&&L,m)for(z=0;z<m.length;z++)L=ko(G=h.g=m[z],_,!1,h)&&L}function ko(l,h,m,_){if(!(h=l.i.g[String(h)]))return!0;h=h.concat();for(var L=!0,z=0;z<h.length;++z){var G=h[z];if(G&&!G.da&&G.capture==m){var Ye=G.listener,Kt=G.ha||G.src;G.fa&&zo(l.i,G),L=!1!==Ye.call(Kt,_)&&L}}return L&&!_.defaultPrevented}function Fo(l,h,m){if("function"==typeof l)m&&(l=p(l,m));else{if(!l||"function"!=typeof l.handleEvent)throw Error("Invalid listener argument");l=p(l.handleEvent,l)}return 2147483647<Number(h)?-1:a.setTimeout(l,h||0)}function sl(l){l.g=Fo(()=>{l.g=null,l.i&&(l.i=!1,sl(l))},l.l);const h=l.h;l.h=null,l.m.apply(null,h)}y(Et,Mt),Et.prototype[$t]=!0,Et.prototype.removeEventListener=function(l,h,m,_){ur(this,l,h,m,_)},Et.prototype.N=function(){if(Et.aa.N.call(this),this.i){var h,l=this.i;for(h in l.g){for(var m=l.g[h],_=0;_<m.length;_++)di(m[_]);delete l.g[h],l.h--}}this.F=null},Et.prototype.K=function(l,h,m,_){return this.i.add(String(l),h,!1,m,_)},Et.prototype.L=function(l,h,m,_){return this.i.add(String(l),h,!0,m,_)};class Rc extends Mt{constructor(h,m){super(),this.m=h,this.l=m,this.h=null,this.i=!1,this.g=null}j(h){this.h=arguments,this.g?this.i=!0:sl(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fs(l){Mt.call(this),this.h=l,this.g={}}y(fs,Mt);var Nc=[];function ol(l){W(l.g,function(h,m){this.g.hasOwnProperty(m)&&Ls(h)},l),l.g={}}fs.prototype.N=function(){fs.aa.N.call(this),ol(this)},fs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var T1=a.JSON.stringify,z6=a.JSON.parse,p5=class{stringify(l){return a.JSON.stringify(l,void 0)}parse(l){return a.JSON.parse(l,void 0)}};function I1(){}function S1(){}I1.prototype.h=null;var Ai={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ca(){Ze.call(this,"d")}function Vo(){Ze.call(this,"c")}y(ca,Ze),y(Vo,Ze);var qr={},la=null;function co(){return la=la||new Et}function pi(l){Ze.call(this,qr.La,l)}function hs(l){const h=co();gt(h,new pi(h))}function l3(l,h){Ze.call(this,qr.STAT_EVENT,l),this.stat=h}function Tt(l){const h=co();gt(h,new l3(h,l))}function Pc(l,h){Ze.call(this,qr.Ma,l),this.size=h}function ti(l,h){if("function"!=typeof l)throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){l()},h)}function Rs(){this.g=!0}function xi(l,h,m,_){l.info(function(){return"XMLHTTP TEXT ("+h+"): "+function _5(l,h){if(!l.g)return h;if(!h)return null;try{var m=JSON.parse(h);if(m)for(l=0;l<m.length;l++)if(Array.isArray(m[l])){var _=m[l];if(!(2>_.length)){var L=_[1];if(Array.isArray(L)&&!(1>L.length)){var z=L[0];if("noop"!=z&&"stop"!=z&&"close"!=z)for(var G=1;G<L.length;G++)L[G]=""}}}return T1(m)}catch{return h}}(l,m)+(_?" "+_:"")})}qr.La="serverreachability",y(pi,Ze),qr.STAT_EVENT="statevent",y(l3,Ze),qr.Ma="timingevent",y(Pc,Ze),Rs.prototype.xa=function(){this.g=!1},Rs.prototype.info=function(){};var A1,za={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ns={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Oa(){}function nn(l,h,m,_){this.j=l,this.i=h,this.l=m,this.R=_||1,this.U=new fs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new al}function al(){this.i=null,this.g="",this.h=!1}y(Oa,I1),Oa.prototype.g=function(){return new XMLHttpRequest},Oa.prototype.i=function(){return{}},A1=new Oa;var Ps={},ua={};function da(l,h,m){l.L=1,l.v=mi(Cr(h)),l.m=m,l.P=!0,cl(l,null)}function cl(l,h){l.F=Date.now(),Bo(l),l.A=Cr(l.v);var m=l.A,_=l.R;Array.isArray(_)||(_=[String(_)]),ne(m.i,"t",_),l.C=0,m=l.j.J,l.h=new al,l.g=M5(l.j,m?h:null,!l.m),0<l.O&&(l.M=new Rc(p(l.Y,l,l.g),l.O)),h=l.U,m=l.g,_=l.ca;var L="readystatechange";Array.isArray(L)||(L&&(Nc[0]=L.toString()),L=Nc);for(var z=0;z<L.length;z++){var G=Gr(m,L[z],_||h.handleEvent,!1,h.h||h);if(!G)break;h.g[G.key]=G}h=l.H?v(l.H):{},l.m?(l.u||(l.u="POST"),h["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,h)):(l.u="GET",l.g.ea(l.A,l.u,null,h)),hs(),function u3(l,h,m,_,L,z){l.info(function(){if(l.g)if(z)for(var G="",Ye=z.split("&"),Kt=0;Kt<Ye.length;Kt++){var Be=Ye[Kt].split("=");if(1<Be.length){var cn=Be[0];Be=Be[1];var ln=cn.split("_");G=2<=ln.length&&"type"==ln[1]?G+(cn+"=")+Be+"&":G+(cn+"=redacted&")}}else G=null;else G=z;return"XMLHTTP REQ ("+_+") [attempt "+L+"]: "+h+"\n"+m+"\n"+G})}(l.i,l.u,l.A,l.l,l.R,l.m)}function zc(l){return!!l.g&&"GET"==l.u&&2!=l.L&&l.j.Ca}function y5(l,h){var m=l.C,_=h.indexOf("\n",m);return-1==_?ua:(m=Number(h.substring(m,_)),isNaN(m)?Ps:(_+=1)+m>h.length?ua:(h=h.slice(_,_+m),l.C=_+m,h))}function Bo(l){l.S=Date.now()+l.I,d3(l,l.I)}function d3(l,h){if(null!=l.B)throw Error("WatchDog timer not null");l.B=ti(p(l.ba,l),h)}function Oc(l){l.B&&(a.clearTimeout(l.B),l.B=null)}function lo(l){0==l.j.G||l.J||w5(l.j,l)}function Di(l){Oc(l);var h=l.M;h&&"function"==typeof h.ma&&h.ma(),l.M=null,ol(l.U),l.g&&(h=l.g,l.g=null,h.abort(),h.ma())}function x1(l,h){try{var m=l.j;if(0!=m.G&&(m.g==l||kc(m.h,l)))if(!l.K&&kc(m.h,l)&&3==m.G){try{var _=m.Da.g.parse(h)}catch{_=null}if(Array.isArray(_)&&3==_.length){var L=_;if(0==L[0]){e:if(!m.u){if(m.g){if(!(m.g.F+3e3<l.F))break e;Uc(m),ha(m)}fo(m),Tt(18)}}else m.za=L[1],0<m.za-m.T&&37500>L[2]&&m.F&&0==m.v&&!m.C&&(m.C=ti(p(m.Za,m),6e3));if(1>=p3(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Fs(m,11)}else if((l.K||m.g==l)&&Uc(m),!R(h))for(L=m.Da.g.parse(h),h=0;h<L.length;h++){let Be=L[h];if(m.T=Be[0],Be=Be[1],2==m.G)if("c"==Be[0]){m.K=Be[1],m.ia=Be[2];const cn=Be[3];null!=cn&&(m.la=cn,m.j.info("VER="+m.la));const ln=Be[4];null!=ln&&(m.Aa=ln,m.j.info("SVER="+m.Aa));const $o=Be[5];null!=$o&&"number"==typeof $o&&0<$o&&(m.L=_=1.5*$o,m.j.info("backChannelRequestTimeoutMs_="+_)),_=m;const wr=l.g;if(wr){const $c=wr.g?wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($c){var z=_.h;z.g||-1==$c.indexOf("spdy")&&-1==$c.indexOf("quic")&&-1==$c.indexOf("h2")||(z.j=z.l,z.g=new Set,z.h&&(Fc(z,z.h),z.h=null))}if(_.D){const v3=wr.g?wr.g.getResponseHeader("X-HTTP-Session-Id"):null;v3&&(_.ya=v3,et(_.I,_.D,v3))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-l.F,m.j.info("Handshake RTT: "+m.R+"ms"));var G=l;if((_=m).qa=I5(_,_.J?_.ia:null,_.W),G.K){m3(_.h,G);var Ye=G,Kt=_.L;Kt&&(Ye.I=Kt),Ye.B&&(Oc(Ye),Bo(Ye)),_.g=G}else ml(_);0<m.i.length&&ks(m)}else"stop"!=Be[0]&&"close"!=Be[0]||Fs(m,7);else 3==m.G&&("stop"==Be[0]||"close"==Be[0]?"stop"==Be[0]?Fs(m,7):qn(m):"noop"!=Be[0]&&m.l&&m.l.ta(Be),m.v=0)}hs()}catch{}}function f3(l){this.l=l||10,l=a.PerformanceNavigationTiming?0<(l=a.performance.getEntriesByType("navigation")).length&&("hq"==l[0].nextHopProtocol||"h2"==l[0].nextHopProtocol):!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function h3(l){return!!l.h||!!l.g&&l.g.size>=l.j}function p3(l){return l.h?1:l.g?l.g.size:0}function kc(l,h){return l.h?l.h==h:!!l.g&&l.g.has(h)}function Fc(l,h){l.g?l.g.add(h):l.h=h}function m3(l,h){l.h&&l.h==h?l.h=null:l.g&&l.g.has(h)&&l.g.delete(h)}function D1(l){if(null!=l.h)return l.i.concat(l.h.D);if(null!=l.g&&0!==l.g.size){let h=l.i;for(const m of l.g.values())h=h.concat(m.D);return h}return C(l.i)}function g3(l,h){if(l.forEach&&"function"==typeof l.forEach)l.forEach(h,void 0);else if(c(l)||"string"==typeof l)Array.prototype.forEach.call(l,h,void 0);else for(var m=function b5(l){if(l.na&&"function"==typeof l.na)return l.na();if(!l.V||"function"!=typeof l.V){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(c(l)||"string"==typeof l){var h=[];l=l.length;for(var m=0;m<l;m++)h.push(m);return h}h=[],m=0;for(const _ in l)h[m++]=_;return h}}}(l),_=function ll(l){if(l.V&&"function"==typeof l.V)return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if("string"==typeof l)return l.split("");if(c(l)){for(var h=[],m=l.length,_=0;_<m;_++)h.push(l[_]);return h}for(_ in h=[],m=0,l)h[m++]=l[_];return h}(l),L=_.length,z=0;z<L;z++)h.call(void 0,_[z],m&&m[z],l)}nn.prototype.ca=function(l){l=l.target;const h=this.M;h&&3==tt(l)?h.j():this.Y(l)},nn.prototype.Y=function(l){try{if(l==this.g)e:{const ln=tt(this.g);var h=this.g.Ba();if(this.g.Z(),!(3>ln)&&(3!=ln||this.g&&(this.h.h||this.g.oa()||Ht(this.g)))){this.J||4!=ln||7==h||hs(),Oc(this);var m=this.g.Z();this.X=m;t:if(zc(this)){var _=Ht(this.g);l="";var L=_.length,z=4==tt(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Di(this),lo(this);var G="";break t}this.h.i=new a.TextDecoder}for(h=0;h<L;h++)this.h.h=!0,l+=this.h.i.decode(_[h],{stream:!(z&&h==L-1)});_.length=0,this.h.g+=l,this.C=0,G=this.h.g}else G=this.g.oa();if(this.o=200==m,function m5(l,h,m,_,L,z,G){l.info(function(){return"XMLHTTP RESP ("+_+") [ attempt "+L+"]: "+h+"\n"+m+"\n"+z+" "+G})}(this.i,this.u,this.A,this.l,this.R,ln,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Ye,Kt=this.g;if((Ye=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(Ye)){var Be=Ye;break t}}Be=null}if(!(m=Be)){this.o=!1,this.s=3,Tt(12),Di(this),lo(this);break e}xi(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,x1(this,m)}if(this.P){let wr;for(m=!0;!this.J&&this.C<G.length;){if(wr=y5(this,G),wr==ua){4==ln&&(this.s=4,Tt(14),m=!1),xi(this.i,this.l,null,"[Incomplete Response]");break}if(wr==Ps){this.s=4,Tt(15),xi(this.i,this.l,G,"[Invalid Chunk]"),m=!1;break}xi(this.i,this.l,wr,null),x1(this,wr)}if(zc(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=ln||0!=G.length||this.h.h||(this.s=1,Tt(16),m=!1),this.o=this.o&&m,m){if(0<G.length&&!this.W){this.W=!0;var cn=this.j;cn.g==this&&cn.ba&&!cn.M&&(cn.j.info("Great, no buffering proxy detected. Bytes received: "+G.length),Bc(cn),cn.M=!0,Tt(11))}}else xi(this.i,this.l,G,"[Invalid Chunked Response]"),Di(this),lo(this)}else xi(this.i,this.l,G,null),x1(this,G);4==ln&&Di(this),this.o&&!this.J&&(4==ln?w5(this.j,this):(this.o=!1,Bo(this)))}else(function ps(l){const h={};l=(l.g&&2<=tt(l)&&l.g.getAllResponseHeaders()||"").split("\r\n");for(let _=0;_<l.length;_++){if(R(l[_]))continue;var m=A(l[_]);const L=m[0];if("string"!=typeof(m=m[1]))continue;m=m.trim();const z=h[L]||[];h[L]=z,z.push(m)}!function M(l,h){for(const m in l)h.call(void 0,l[m],m,l)}(h,function(_){return _.join(", ")})})(this.g),400==m&&0<G.indexOf("Unknown SID")?(this.s=3,Tt(12)):(this.s=0,Tt(13)),Di(this),lo(this)}}}catch{}},nn.prototype.cancel=function(){this.J=!0,Di(this)},nn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(function g5(l,h){l.info(function(){return"TIMEOUT: "+h})}(this.i,this.A),2!=this.L&&(hs(),Tt(17)),Di(this),this.s=2,lo(this)):d3(this,this.S-l)},f3.prototype.cancel=function(){if(this.i=D1(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const l of this.g.values())l.cancel();this.g.clear()}};var ul=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Li(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof Li){this.h=l.h,ka(this,l.j),this.o=l.o,this.g=l.g,fa(this,l.s),this.l=l.l;var h=l.i,m=new B;m.i=h.i,h.g&&(m.g=new Map(h.g),m.h=h.h),L1(this,m),this.m=l.m}else l&&(h=String(l).match(ul))?(this.h=!1,ka(this,h[1]||"",!0),this.o=zs(h[2]||""),this.g=zs(h[3]||"",!0),fa(this,h[4]),this.l=zs(h[5]||"",!0),L1(this,h[6]||"",!0),this.m=zs(h[7]||"")):(this.h=!1,this.i=new B(null,this.h))}function Cr(l){return new Li(l)}function ka(l,h,m){l.j=m?zs(h,!0):h,l.j&&(l.j=l.j.replace(/:$/,""))}function fa(l,h){if(h){if(h=Number(h),isNaN(h)||0>h)throw Error("Bad port number "+h);l.s=h}else l.s=null}function L1(l,h,m){h instanceof B?(l.i=h,function ye(l,h){h&&!l.j&&(K(l),l.i=null,l.g.forEach(function(m,_){var L=_.toLowerCase();_!=L&&(te(this,_),ne(this,L,m))},l)),l.j=h}(l.i,l.h)):(m||(h=uo(h,P)),l.i=new B(h,l.h))}function et(l,h,m){l.i.set(h,m)}function mi(l){return et(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function zs(l,h){return l?h?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function uo(l,h,m){return"string"==typeof l?(l=encodeURI(l).replace(h,dl),m&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function dl(l){return"%"+((l=l.charCodeAt(0))>>4&15).toString(16)+(15&l).toString(16)}Li.prototype.toString=function(){var l=[],h=this.j;h&&l.push(uo(h,fl,!0),":");var m=this.g;return(m||"file"==h)&&(l.push("//"),(h=this.o)&&l.push(uo(h,fl,!0),"@"),l.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(m=this.s)&&l.push(":",String(m))),(m=this.l)&&(this.g&&"/"!=m.charAt(0)&&l.push("/"),l.push(uo(m,"/"==m.charAt(0)?b:T,!0))),(m=this.i.toString())&&l.push("?",m),(m=this.m)&&l.push("#",uo(m,k)),l.join("")};var l,fl=/[#\/\?@]/g,T=/[#\?:]/g,b=/[#\?]/g,P=/[#\?@]/g,k=/#/g;function B(l,h){this.h=this.g=null,this.i=l||null,this.j=!!h}function K(l){l.g||(l.g=new Map,l.h=0,l.i&&function _3(l,h){if(l){l=l.split("&");for(var m=0;m<l.length;m++){var _=l[m].indexOf("="),L=null;if(0<=_){var z=l[m].substring(0,_);L=l[m].substring(_+1)}else z=l[m];h(z,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}(l.i,function(h,m){l.add(decodeURIComponent(h.replace(/\+/g," ")),m)}))}function te(l,h){K(l),h=X(l,h),l.g.has(h)&&(l.i=null,l.h-=l.g.get(h).length,l.g.delete(h))}function ee(l,h){return K(l),h=X(l,h),l.g.has(h)}function ne(l,h,m){te(l,h),0<m.length&&(l.i=null,l.g.set(X(l,h),C(m)),l.h+=m.length)}function X(l,h){return h=String(h),l.j&&(h=h.toLowerCase()),h}function ke(l,h,m,_,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),_(m)}catch{}}function be(){this.g=new p5}function gn(l,h,m){const _=m||"";try{g3(l,function(L,z){let G=L;u(L)&&(G=T1(L)),h.push(_+z+"="+encodeURIComponent(G))})}catch(L){throw h.push(_+"type="+encodeURIComponent("_badmap")),L}}function on(l){this.l=l.Ub||null,this.j=l.eb||!1}function Je(l,h){Et.call(this),this.D=l,this.o=h,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function _t(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}function an(l){l.readyState=4,l.l=null,l.j=null,l.v=null,Zn(l)}function Zn(l){l.onreadystatechange&&l.onreadystatechange.call(l)}function Os(l){let h="";return W(l,function(m,_){h+=_,h+=":",h+=m,h+="\r\n"}),h}function It(l,h,m){e:{for(_ in m){var _=!1;break e}_=!0}_||(m=Os(m),"string"==typeof l?null!=m&&encodeURIComponent(String(m)):et(l,h,m))}function Xe(l){Et.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(n=B.prototype).add=function(l,h){K(this),this.i=null,l=X(this,l);var m=this.g.get(l);return m||this.g.set(l,m=[]),m.push(h),this.h+=1,this},n.forEach=function(l,h){K(this),this.g.forEach(function(m,_){m.forEach(function(L){l.call(h,L,_,this)},this)},this)},n.na=function(){K(this);const l=Array.from(this.g.values()),h=Array.from(this.g.keys()),m=[];for(let _=0;_<h.length;_++){const L=l[_];for(let z=0;z<L.length;z++)m.push(h[_])}return m},n.V=function(l){K(this);let h=[];if("string"==typeof l)ee(this,l)&&(h=h.concat(this.g.get(X(this,l))));else{l=Array.from(this.g.values());for(let m=0;m<l.length;m++)h=h.concat(l[m])}return h},n.set=function(l,h){return K(this),this.i=null,ee(this,l=X(this,l))&&(this.h-=this.g.get(l).length),this.g.set(l,[h]),this.h+=1,this},n.get=function(l,h){return l&&0<(l=this.V(l)).length?String(l[0]):h},n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],h=Array.from(this.g.keys());for(var m=0;m<h.length;m++){var _=h[m];const z=encodeURIComponent(String(_)),G=this.V(_);for(_=0;_<G.length;_++){var L=z;""!==G[_]&&(L+="="+encodeURIComponent(String(G[_]))),l.push(L)}}return this.i=l.join("&")},y(on,I1),on.prototype.g=function(){return new Je(this.l,this.j)},on.prototype.i=(l={},function(){return l}),y(Je,Et),(n=Je.prototype).open=function(l,h){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=h,this.readyState=1,Zn(this)},n.send=function(l){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const h={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(h.body=l),(this.D||a).fetch(new Request(this.A,h)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,an(this)),this.readyState=0},n.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,Zn(this)),this.g&&(this.readyState=3,Zn(this),this.g)))if("arraybuffer"===this.responseType)l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;_t(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))},n.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var h=l.value?l.value:new Uint8Array(0);(h=this.v.decode(h,{stream:!l.done}))&&(this.response=this.responseText+=h)}l.done?an(this):Zn(this),3==this.readyState&&_t(this)}},n.Ra=function(l){this.g&&(this.response=this.responseText=l,an(this))},n.Qa=function(l){this.g&&(this.response=l,an(this))},n.ga=function(){this.g&&an(this)},n.setRequestHeader=function(l,h){this.u.append(l,h)},n.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],h=this.h.entries();for(var m=h.next();!m.done;)l.push((m=m.value)[0]+": "+m[1]),m=h.next();return l.join("\r\n")},Object.defineProperty(Je.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(l){this.m=l?"include":"same-origin"}}),y(Xe,Et);var y3=/^https?$/i,_e=["POST","PUT"];function Ke(l,h){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=h,l.m=5,At(l),it(l)}function At(l){l.A||(l.A=!0,gt(l,"complete"),gt(l,"error"))}function vt(l){if(l.h&&typeof o<"u"&&(!l.v[1]||4!=tt(l)||2!=l.Z()))if(l.u&&4==tt(l))Fo(l.Ea,0,l);else if(gt(l,"readystatechange"),4==tt(l)){l.h=!1;try{const G=l.Z();e:switch(G){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var h=!0;break e;default:h=!1}var m;if(!(m=h)){var _;if(_=0===G){var L=String(l.D).match(ul)[1]||null;!L&&a.self&&a.self.location&&(L=a.self.location.protocol.slice(0,-1)),_=!y3.test(L?L.toLowerCase():"")}m=_}if(m)gt(l,"complete"),gt(l,"success");else{l.m=6;try{var z=2<tt(l)?l.g.statusText:""}catch{z=""}l.l=z+" ["+l.Z()+"]",At(l)}}finally{it(l)}}}function it(l,h){if(l.g){Wt(l);const m=l.g,_=l.v[0]?()=>{}:null;l.g=null,l.v=null,h||gt(l,"ready");try{m.onreadystatechange=_}catch{}}}function Wt(l){l.I&&(a.clearTimeout(l.I),l.I=null)}function tt(l){return l.g?l.g.readyState:0}function Ht(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function _n(l,h,m){return m&&m.internalChannelParams&&m.internalChannelParams[l]||h}function ms(l){this.Aa=0,this.i=[],this.j=new Rs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_n("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_n("baseRetryDelayMs",5e3,l),this.cb=_n("retryDelaySeedMs",1e4,l),this.Wa=_n("forwardChannelMaxRetries",2,l),this.wa=_n("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new f3(l&&l.concurrentRequestLimit),this.Da=new be,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function qn(l){if(hl(l),3==l.G){var h=l.U++,m=Cr(l.I);if(et(m,"SID",l.K),et(m,"RID",h),et(m,"TYPE","terminate"),gi(l,m),(h=new nn(l,l.j,h)).L=2,h.v=mi(Cr(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(h.v.toString(),"")}catch{}!m&&a.Image&&((new Image).src=h.v,m=!0),m||(h.g=M5(h.j,null),h.g.ea(h.v)),h.F=Date.now(),Bo(h)}T5(l)}function ha(l){l.g&&(Bc(l),l.g.cancel(),l.g=null)}function hl(l){ha(l),l.u&&(a.clearTimeout(l.u),l.u=null),Uc(l),l.h.cancel(),l.s&&("number"==typeof l.s&&a.clearTimeout(l.s),l.s=null)}function ks(l){if(!h3(l.h)&&!l.s){l.s=!0;var h=l.Ga;Ie||mn(),Pe||(Ie(),Pe=!0),rt.add(h,l),l.B=0}}function Uo(l,h){var m;m=h?h.l:l.U++;const _=Cr(l.I);et(_,"SID",l.K),et(_,"RID",m),et(_,"AID",l.T),gi(l,_),l.m&&l.o&&It(_,l.m,l.o),m=new nn(l,l.j,m,l.B+1),null===l.m&&(m.H=l.o),h&&(l.i=h.D.concat(l.i)),h=pl(l,m,1e3),m.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Fc(l.h,m),da(m,_,h)}function gi(l,h){l.H&&W(l.H,function(m,_){et(h,_,m)}),l.l&&g3({},function(m,_){et(h,_,m)})}function pl(l,h,m){m=Math.min(l.i.length,m);var _=l.l?p(l.l.Na,l.l,l):null;e:{var L=l.i;let z=-1;for(;;){const G=["count="+m];-1==z?0<m?(z=L[0].g,G.push("ofs="+z)):z=0:G.push("ofs="+z);let Ye=!0;for(let Kt=0;Kt<m;Kt++){let Be=L[Kt].g;const cn=L[Kt].map;if(Be-=z,0>Be)z=Math.max(0,L[Kt].g-100),Ye=!1;else try{gn(cn,G,"req"+Be+"_")}catch{_&&_(cn)}}if(Ye){_=G.join("&");break e}}}return l=l.i.splice(0,m),h.D=l,_}function ml(l){if(!l.g&&!l.u){l.Y=1;var h=l.Fa;Ie||mn(),Pe||(Ie(),Pe=!0),rt.add(h,l),l.v=0}}function fo(l){return!(l.g||l.u||3<=l.v||(l.Y++,l.u=ti(p(l.Fa,l),E5(l,l.v)),l.v++,0))}function Bc(l){null!=l.A&&(a.clearTimeout(l.A),l.A=null)}function C5(l){l.g=new nn(l,l.j,"rpc",l.Y),null===l.m&&(l.g.H=l.o),l.g.O=0;var h=Cr(l.qa);et(h,"RID","rpc"),et(h,"SID",l.K),et(h,"AID",l.T),et(h,"CI",l.F?"0":"1"),!l.F&&l.ja&&et(h,"TO",l.ja),et(h,"TYPE","xmlhttp"),gi(l,h),l.m&&l.o&&It(h,l.m,l.o),l.L&&(l.g.I=l.L);var m=l.g;l=l.ia,m.L=1,m.v=mi(Cr(h)),m.m=null,m.P=!0,cl(m,l)}function Uc(l){null!=l.C&&(a.clearTimeout(l.C),l.C=null)}function w5(l,h){var m=null;if(l.g==h){Uc(l),Bc(l),l.g=null;var _=2}else{if(!kc(l.h,h))return;m=h.D,m3(l.h,h),_=1}if(0!=l.G)if(h.o)if(1==_){m=h.m?h.m.length:0,h=Date.now()-h.F;var L=l.B;gt(_=co(),new Pc(_,m)),ks(l)}else ml(l);else if(3==(L=h.s)||0==L&&0<h.X||!(1==_&&function Vc(l,h){return!(p3(l.h)>=l.h.j-(l.s?1:0)||(l.s?(l.i=h.D.concat(l.i),0):1==l.G||2==l.G||l.B>=(l.Va?0:l.Wa)||(l.s=ti(p(l.Ga,l,h),E5(l,l.B)),l.B++,0)))}(l,h)||2==_&&fo(l)))switch(m&&0<m.length&&(h=l.h,h.i=h.i.concat(m)),L){case 1:Fs(l,5);break;case 4:Fs(l,10);break;case 3:Fs(l,6);break;default:Fs(l,2)}}function E5(l,h){let m=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(m*=2),m*h}function Fs(l,h){if(l.j.info("Error code "+h),2==h){var m=p(l.fb,l),_=l.Xa;const L=!_;_=new Li(_||"//www.google.com/images/cleardot.gif"),a.location&&"http"==a.location.protocol||ka(_,"https"),mi(_),L?function ze(l,h){const m=new Rs;if(a.Image){const _=new Image;_.onload=g(ke,m,"TestLoadImage: loaded",!0,h,_),_.onerror=g(ke,m,"TestLoadImage: error",!1,h,_),_.onabort=g(ke,m,"TestLoadImage: abort",!1,h,_),_.ontimeout=g(ke,m,"TestLoadImage: timeout",!1,h,_),a.setTimeout(function(){_.ontimeout&&_.ontimeout()},1e4),_.src=l}else h(!1)}(_.toString(),m):function Oe(l,h){new Rs;const _=new AbortController,L=setTimeout(()=>{_.abort(),ke(0,0,!1,h)},1e4);fetch(l,{signal:_.signal}).then(z=>{clearTimeout(L),ke(0,0,!!z.ok,h)}).catch(()=>{clearTimeout(L),ke(0,0,!1,h)})}(_.toString(),m)}else Tt(2);l.G=0,l.l&&l.l.sa(h),T5(l),hl(l)}function T5(l){if(l.G=0,l.ka=[],l.l){const h=D1(l.h);(0!=h.length||0!=l.i.length)&&(w(l.ka,h),w(l.ka,l.i),l.h.i.length=0,C(l.i),l.i.length=0),l.l.ra()}}function I5(l,h,m){var _=m instanceof Li?Cr(m):new Li(m);if(""!=_.g)h&&(_.g=h+"."+_.g),fa(_,_.s);else{var L=a.location;_=L.protocol,h=h?h+"."+L.hostname:L.hostname,L=+L.port;var z=new Li(null);_&&ka(z,_),h&&(z.g=h),L&&fa(z,L),m&&(z.l=m),_=z}return h=l.ya,(m=l.D)&&h&&et(_,m,h),et(_,"VER",l.la),gi(l,_),_}function M5(l,h,m){if(h&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return(h=new Xe(l.Ca&&!l.pa?new on({eb:m}):l.pa)).Ha(l.J),h}function S5(){}function jc(){}function zn(l,h){Et.call(this),this.g=new ms(h),this.l=l,this.h=h&&h.messageUrlParams||null,l=h&&h.messageHeaders||null,h&&h.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=h&&h.initMessageHeaders||null,h&&h.messageContentType&&(l?l["X-WebChannel-Content-Type"]=h.messageContentType:l={"X-WebChannel-Content-Type":h.messageContentType}),h&&h.va&&(l?l["X-WebChannel-Client-Profile"]=h.va:l={"X-WebChannel-Client-Profile":h.va}),this.g.S=l,(l=h&&h.Sb)&&!R(l)&&(this.g.m=l),this.v=h&&h.supportsCrossDomainXhr||!1,this.u=h&&h.sendRawJson||!1,(h=h&&h.httpSessionIdParam)&&!R(h)&&(this.g.D=h,null!==(l=this.h)&&h in l&&h in(l=this.h)&&delete l[h]),this.j=new jo(this)}function A5(l){ca.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var h=l.__sm__;if(h){e:{for(const m in h){l=m;break e}l=void 0}(this.i=l)&&(l=this.i,h=null!==h&&l in h?h[l]:void 0),this.data=h}else this.data=l}function x5(){Vo.call(this),this.status=1}function jo(l){this.g=l}(n=Xe.prototype).Ha=function(l){this.J=l},n.ea=function(l,h,m,_){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);h=h?h.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():A1.g(),this.v=function M1(l){return l.h||(l.h=l.i())}(this.o?this.o:A1),this.g.onreadystatechange=p(this.Ea,this);try{this.B=!0,this.g.open(h,String(l),!0),this.B=!1}catch(z){return void Ke(this,z)}if(l=m||"",m=new Map(this.headers),_)if(Object.getPrototypeOf(_)===Object.prototype)for(var L in _)m.set(L,_[L]);else{if("function"!=typeof _.keys||"function"!=typeof _.get)throw Error("Unknown input type for opt_headers: "+String(_));for(const z of _.keys())m.set(z,_.get(z))}_=Array.from(m.keys()).find(z=>"content-type"==z.toLowerCase()),L=a.FormData&&l instanceof a.FormData,!(0<=Array.prototype.indexOf.call(_e,h,void 0))||_||L||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[z,G]of m)this.g.setRequestHeader(z,G);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Wt(this),this.u=!0,this.g.send(l),this.u=!1}catch(z){Ke(this,z)}},n.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,gt(this,"complete"),gt(this,"abort"),it(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),it(this,!0)),Xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?vt(this):this.bb())},n.bb=function(){vt(this)},n.isActive=function(){return!!this.g},n.Z=function(){try{return 2<tt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(l){if(this.g){var h=this.g.responseText;return l&&0==h.indexOf(l)&&(h=h.substring(l.length)),z6(h)}},n.Ba=function(){return this.m},n.Ka=function(){return"string"==typeof this.l?this.l:String(this.l)},(n=ms.prototype).la=8,n.G=1,n.connect=function(l,h,m,_){Tt(0),this.W=l,this.H=h||{},m&&void 0!==_&&(this.H.OSID=m,this.H.OAID=_),this.F=this.X,this.I=I5(this,null,this.W),ks(this)},n.Ga=function(l){if(this.s)if(this.s=null,1==this.G){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const L=new nn(this,this.j,l);let z=this.o;if(this.S&&(z?(z=v(z),S(z,this.S)):z=this.S),null!==this.m||this.O||(L.H=z,z=null),this.P)e:{for(var h=0,m=0;m<this.i.length;m++){var _=this.i[m];if(void 0===(_="__data__"in _.map&&"string"==typeof(_=_.map.__data__)?_.length:void 0))break;if(4096<(h+=_)){h=m;break e}if(4096===h||m===this.i.length-1){h=m+1;break e}}h=1e3}else h=1e3;h=pl(this,L,h),et(m=Cr(this.I),"RID",l),et(m,"CVER",22),this.D&&et(m,"X-HTTP-Session-Id",this.D),gi(this,m),z&&(this.O?h="headers="+encodeURIComponent(String(Os(z)))+"&"+h:this.m&&It(m,this.m,z)),Fc(this.h,L),this.Ua&&et(m,"TYPE","init"),this.P?(et(m,"$req",h),et(m,"SID","null"),L.T=!0,da(L,m,null)):da(L,m,h),this.G=2}}else 3==this.G&&(l?Uo(this,l):0==this.i.length||h3(this.h)||Uo(this))},n.Fa=function(){if(this.u=null,C5(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=ti(p(this.ab,this),l)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Tt(10),ha(this),C5(this))},n.Za=function(){null!=this.C&&(this.C=null,ha(this),fo(this),Tt(19))},n.fb=function(l){l?(this.j.info("Successfully pinged google.com"),Tt(2)):(this.j.info("Failed to ping google.com"),Tt(1))},n.isActive=function(){return!!this.l&&this.l.isActive(this)},(n=S5.prototype).ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){},jc.prototype.g=function(l,h){return new zn(l,h)},y(zn,Et),zn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},zn.prototype.close=function(){qn(this.g)},zn.prototype.o=function(l){var h=this.g;if("string"==typeof l){var m={};m.__data__=l,l=m}else this.u&&((m={}).__data__=T1(l),l=m);h.i.push(new class{constructor(l,h){this.g=l,this.map=h}}(h.Ya++,l)),3==h.G&&ks(h)},zn.prototype.N=function(){this.g.l=null,delete this.j,qn(this.g),delete this.g,zn.aa.N.call(this)},y(A5,ca),y(x5,Vo),y(jo,S5),jo.prototype.ua=function(){gt(this.g,"a")},jo.prototype.ta=function(l){gt(this.g,new A5(l))},jo.prototype.sa=function(l){gt(this.g,new x5)},jo.prototype.ra=function(){gt(this.g,"b")},jc.prototype.createWebChannel=jc.prototype.g,zn.prototype.send=zn.prototype.o,zn.prototype.open=zn.prototype.m,zn.prototype.close=zn.prototype.close,kte=pc.createWebChannelTransport=function(){return new jc},Ote=pc.getStatEventTarget=function(){return co()},zte=pc.Event=qr,TA=pc.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},za.NO_ERROR=0,za.TIMEOUT=8,za.HTTP_ERROR=6,X9=pc.ErrorCode=za,Ns.COMPLETE="complete",Pte=pc.EventType=Ns,S1.EventType=Ai,Ai.OPEN="a",Ai.CLOSE="b",Ai.ERROR="c",Ai.MESSAGE="d",Et.prototype.listen=Et.prototype.K,Fh=pc.WebChannel=S1,pc.FetchXmlHttpFactory=on,Xe.prototype.listenOnce=Xe.prototype.L,Xe.prototype.getLastError=Xe.prototype.Ka,Xe.prototype.getLastErrorCode=Xe.prototype.Ba,Xe.prototype.getStatus=Xe.prototype.Z,Xe.prototype.getResponseJson=Xe.prototype.Oa,Xe.prototype.getResponseText=Xe.prototype.oa,Xe.prototype.send=Xe.prototype.ea,Xe.prototype.setWithCredentials=Xe.prototype.Ha,Nte=pc.XhrIo=Xe}).apply(typeof J9<"u"?J9:typeof self<"u"?self:typeof window<"u"?window:{});const Fte="@firebase/firestore";class Ti{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ti.UNAUTHENTICATED=new Ti(null),Ti.GOOGLE_CREDENTIALS=new Ti("google-credentials-uid"),Ti.FIRST_PARTY=new Ti("first-party-uid"),Ti.MOCK_USER=new Ti("mock-user");let xu="10.14.0";const D2=new mE("@firebase/firestore");function Du(){return D2.logLevel}function le(n,...e){if(D2.logLevel<=Ft.DEBUG){const t=e.map(IA);D2.debug(`Firestore (${xu}): ${n}`,...t)}}function jr(n,...e){if(D2.logLevel<=Ft.ERROR){const t=e.map(IA);D2.error(`Firestore (${xu}): ${n}`,...t)}}function ra(n,...e){if(D2.logLevel<=Ft.WARN){const t=e.map(IA);D2.warn(`Firestore (${xu}): ${n}`,...t)}}function IA(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Ne(n="Unexpected state"){const e=`FIRESTORE (${xu}) INTERNAL ASSERTION FAILED: `+n;throw jr(e),new Error(e)}function je(n,e){n||Ne()}function Te(n,e){return n}const Y={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ue extends t1{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ii{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class Vte{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class aet{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Ti.UNAUTHENTICATED))}shutdown(){}}class cet{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class uet{constructor(e){this.t=e,this.currentUser=Ti.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;je(void 0===this.o);let i=this.i;const s=u=>this.i!==i?(i=this.i,t(u)):Promise.resolve();let o=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Ii,e.enqueueRetryable(()=>s(this.currentUser))};const a=()=>{const u=o;e.enqueueRetryable(D(function*(){yield u.promise,yield s(r.currentUser)}))},c=u=>{le("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(u=>c(u)),setTimeout(()=>{if(!this.auth){const u=this.t.getImmediate({optional:!0});u?c(u):(le("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Ii)}},0),a()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(le("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(je("string"==typeof r.accessToken),new Vte(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return je(null===e||"string"==typeof e),new Ti(e)}}class det{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=Ti.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class fet{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new det(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(Ti.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Bte{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class het{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){je(void 0===this.o);const r=s=>{null!=s.error&&le("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.R;return this.R=s.token,le("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{le("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):le("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(je("string"==typeof t.token),this.R=t.token,new Bte(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function pet(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class Ute{static newId(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=pet(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[s]%62))}return r}}function lt(n,e){return n<e?-1:n>e?1:0}function Lu(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class yr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ue(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ue(Y.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ue(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ue(Y.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return yr.fromMillis(Date.now())}static fromDate(e){return yr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new yr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?lt(this.nanoseconds,e.nanoseconds):lt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class qe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new qe(e)}static min(){return new qe(new yr(0,0))}static max(){return new qe(new yr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Vh{constructor(e,t,r){void 0===t?t=0:t>e.length&&Ne(),void 0===r?r=e.length-t:r>e.length-t&&Ne(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Vh.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Vh?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),o=t.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ut extends Vh{construct(e,t,r){return new Ut(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ue(Y.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ut(t)}static emptyPath(){return new Ut([])}}const met=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class sr extends Vh{construct(e,t,r){return new sr(e,t,r)}static isValidIdentifier(e){return met.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),sr.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new sr(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(0===r.length)throw new ue(Y.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if("\\"===a){if(i+1===e.length)throw new ue(Y.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if("\\"!==c&&"."!==c&&"`"!==c)throw new ue(Y.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,i+=2}else"`"===a?(o=!o,i++):"."!==a||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new ue(Y.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new sr(t)}static emptyPath(){return new sr([])}}class xe{constructor(e){this.path=e}static fromPath(e){return new xe(Ut.fromString(e))}static fromName(e){return new xe(Ut.fromString(e).popFirst(5))}static empty(){return new xe(Ut.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ut.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ut.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new xe(new Ut(e.slice()))}}function Hte(n){return new Mo(n.readTime,n.key,-1)}class Mo{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Mo(qe.min(),xe.empty(),-1)}static max(){return new Mo(qe.max(),xe.empty(),-1)}}function SA(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=xe.comparator(n.documentKey,e.documentKey),0!==t?t:lt(n.largestBatchId,e.largestBatchId))}const Gte="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qte{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function L2(n){return AA.apply(this,arguments)}function AA(){return(AA=D(function*(n){if(n.code!==Y.FAILED_PRECONDITION||n.message!==Gte)throw n;le("LocalStore","Unexpectedly lost primary lease")})).apply(this,arguments)}class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ne(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new H((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof H?t:H.resolve(t)}catch(t){return H.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):H.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):H.reject(t)}static resolve(e){return new H((t,r)=>{t(e)})}static reject(e){return new H((t,r)=>{r(e)})}static waitFor(e){return new H((t,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&t()},c=>r(c))}),o=!0,s===i&&t()})}static or(e){let t=H.resolve(!1);for(const r of e)t=t.next(i=>i?H.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new H((r,i)=>{const s=e.length,o=new Array(s);let a=0;for(let c=0;c<s;c++){const u=c;t(e[u]).next(d=>{o[u]=d,++a,a===s&&r(o)},d=>i(d))}})}static doWhile(e,t){return new H((r,i)=>{const s=()=>{!0===e()?t().next(()=>{s()},i):r()};s()})}}function R2(n){return"IndexedDbTransactionError"===n.name}let So=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Uh(n){return null==n}function jh(n){return 0===n&&1/n==-1/0}function nne(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function N2(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function ine(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class $n{constructor(e,t){this.comparator=e,this.root=t||Gi.EMPTY}insert(e,t){return new $n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Gi.BLACK,null,null))}remove(e){return new $n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Gi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new tg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new tg(this.root,e,this.comparator,!1)}getReverseIterator(){return new tg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new tg(this.root,e,this.comparator,!0)}}class tg{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(0===s){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Gi{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??Gi.RED,this.left=i??Gi.EMPTY,this.right=s??Gi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new Gi(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===s?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Gi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return Gi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Gi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Gi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Ne();const e=this.left.check();if(e!==this.right.check())throw Ne();return e+(this.isRed()?0:1)}}Gi.EMPTY=null,Gi.RED=!0,Gi.BLACK=!1,Gi.EMPTY=new class{constructor(){this.size=0}get key(){throw Ne()}get value(){throw Ne()}get color(){throw Ne()}get left(){throw Ne()}get right(){throw Ne()}copy(e,t,r,i,s){return this}insert(e,t,r){return new Gi(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Dn{constructor(e){this.comparator=e,this.data=new $n(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new sne(this.data.getIterator())}getIteratorFrom(e){return new sne(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Dn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(0!==this.comparator(i,s))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dn(this.comparator);return t.data=e,t}}class sne{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class eo{constructor(e){this.fields=e,e.sort(sr.comparator)}static empty(){return new eo([])}unionWith(e){let t=new Dn(sr.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new eo(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Lu(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class one extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Ar{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new one("Invalid base64 string: "+s):s}}(e);return new Ar(t)}static fromUint8Array(e){const t=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new Ar(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return lt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ar.EMPTY_BYTE_STRING=new Ar("");const jet=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function mc(n){if(je(!!n),"string"==typeof n){let e=0;const t=jet.exec(n);if(je(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:or(n.seconds),nanos:or(n.nanos)}}function or(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function gc(n){return"string"==typeof n?Ar.fromBase64String(n):Ar.fromUint8Array(n)}function ng(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function rg(n){const e=n.mapValue.fields.__previous_value__;return ng(e)?rg(e):e}function $h(n){const e=mc(n.mapValue.fields.__local_write_time__.timestampValue);return new yr(e.seconds,e.nanos)}class $et{constructor(e,t,r,i,s,o,a,c,u){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=u}}class E0{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new E0("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof E0&&e.projectId===this.projectId&&e.database===this.database}}const P2={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function z2(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?ng(n)?4:dne(n)?9007199254740991:ag(n)?10:11:Ne()}function f1(n,e){if(n===e)return!0;const t=z2(n);if(t!==z2(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return $h(n).isEqual($h(e));case 3:return function(i,s){if("string"==typeof i.timestampValue&&"string"==typeof s.timestampValue&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const o=mc(i.timestampValue),a=mc(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,gc(n.bytesValue).isEqual(gc(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return or(i.geoPointValue.latitude)===or(s.geoPointValue.latitude)&&or(i.geoPointValue.longitude)===or(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return or(i.integerValue)===or(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const o=or(i.doubleValue),a=or(s.doubleValue);return o===a?jh(o)===jh(a):isNaN(o)&&isNaN(a)}return!1}(n,e);case 9:return Lu(n.arrayValue.values||[],e.arrayValue.values||[],f1);case 10:case 11:return function(i,s){const o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(nne(o)!==nne(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(void 0===a[c]||!f1(o[c],a[c])))return!1;return!0}(n,e);default:return Ne()}var s}function Hh(n,e){return void 0!==(n.values||[]).find(t=>f1(t,e))}function O2(n,e){if(n===e)return 0;const t=z2(n),r=z2(e);if(t!==r)return lt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return lt(n.booleanValue,e.booleanValue);case 2:return function(s,o){const a=or(s.integerValue||s.doubleValue),c=or(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(n,e);case 3:return ane(n.timestampValue,e.timestampValue);case 4:return ane($h(n),$h(e));case 5:return lt(n.stringValue,e.stringValue);case 6:return function(s,o){const a=gc(s),c=gc(o);return a.compareTo(c)}(n.bytesValue,e.bytesValue);case 7:return function(s,o){const a=s.split("/"),c=o.split("/");for(let u=0;u<a.length&&u<c.length;u++){const d=lt(a[u],c[u]);if(0!==d)return d}return lt(a.length,c.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,o){const a=lt(or(s.latitude),or(o.latitude));return 0!==a?a:lt(or(s.longitude),or(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return cne(n.arrayValue,e.arrayValue);case 10:return function(s,o){var a,c,u,d;const g=null===(a=(s.fields||{}).value)||void 0===a?void 0:a.arrayValue,y=null===(c=(o.fields||{}).value)||void 0===c?void 0:c.arrayValue,C=lt((null===(u=g?.values)||void 0===u?void 0:u.length)||0,(null===(d=y?.values)||void 0===d?void 0:d.length)||0);return 0!==C?C:cne(g,y)}(n.mapValue,e.mapValue);case 11:return function(s,o){if(s===P2.mapValue&&o===P2.mapValue)return 0;if(s===P2.mapValue)return 1;if(o===P2.mapValue)return-1;const a=s.fields||{},c=Object.keys(a),u=o.fields||{},d=Object.keys(u);c.sort(),d.sort();for(let f=0;f<c.length&&f<d.length;++f){const p=lt(c[f],d[f]);if(0!==p)return p;const g=O2(a[c[f]],u[d[f]]);if(0!==g)return g}return lt(c.length,d.length)}(n.mapValue,e.mapValue);default:throw Ne()}}function ane(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return lt(n,e);const t=mc(n),r=mc(e),i=lt(t.seconds,r.seconds);return 0!==i?i:lt(t.nanos,r.nanos)}function cne(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=O2(t[i],r[i]);if(s)return s}return lt(t.length,r.length)}function zu(n){return RA(n)}function RA(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=mc(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?gc(n.bytesValue).toBase64():"referenceValue"in n?xe.fromName(n.referenceValue).toString():"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=RA(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const o of r)s?s=!1:i+=",",i+=`${o}:${RA(t.fields[o])}`;return i+"}"}(n.mapValue):Ne()}function NA(n){return!!n&&"integerValue"in n}function Gh(n){return!!n&&"arrayValue"in n}function lne(n){return!!n&&"nullValue"in n}function une(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function og(n){return!!n&&"mapValue"in n}function ag(n){var e,t;return"__vector__"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function qh(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return N2(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=qh(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=qh(n.arrayValue.values[t]);return e}return Object.assign({},n)}function dne(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class qi{constructor(e){this.value=e}static empty(){return new qi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!og(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=qh(t)}setAll(e){let t=sr.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!t.isImmediateParentOf(a)){const c=this.getFieldsMap(t);this.applyChanges(c,r,i),r={},i=[],t=a.popLast()}o?r[a.lastSegment()]=qh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());og(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return f1(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];og(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){N2(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new qi(qh(this.value))}}function mne(n){const e=[];return N2(n.fields,(t,r)=>{const i=new sr([t]);if(og(r)){const s=mne(r.mapValue).fields;if(0===s.length)e.push(i);else for(const o of s)e.push(i.child(o))}else e.push(i)}),new eo(e)}class Yn{constructor(e,t,r,i,s,o,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Yn(e,0,qe.min(),qe.min(),qe.min(),qi.empty(),0)}static newFoundDocument(e,t,r,i){return new Yn(e,1,t,qe.min(),r,i,0)}static newNoDocument(e,t){return new Yn(e,2,t,qe.min(),qe.min(),qi.empty(),0)}static newUnknownDocument(e,t){return new Yn(e,3,t,qe.min(),qe.min(),qi.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(qe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=qi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=qi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Yn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Yn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class k2{constructor(e,t){this.position=e,this.inclusive=t}}function gne(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],o=n.position[i];if(r=s.field.isKeyField()?xe.comparator(xe.fromName(o.referenceValue),t.key):O2(o,t.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function _ne(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!f1(n.position[t],e.position[t]))return!1;return!0}class Wh{constructor(e,t="asc"){this.field=e,this.dir=t}}function qet(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class yne{}class jt extends yne{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new Wet(e,t,r):"array-contains"===t?new Yet(e,r):"in"===t?new Tne(e,r):"not-in"===t?new Jet(e,r):"array-contains-any"===t?new Xet(e,r):new jt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new Ket(e,r):new Qet(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(O2(t,this.value)):null!==t&&z2(this.value)===z2(t)&&this.matchesComparison(O2(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Ne()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class An extends yne{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new An(e,t)}matches(e){return Ou(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Ou(n){return"and"===n.op}function zA(n){return function vne(n){for(const e of n.filters)if(e instanceof An)return!1;return!0}(n)&&Ou(n)}function OA(n){if(n instanceof jt)return n.field.canonicalString()+n.op.toString()+zu(n.value);if(zA(n))return n.filters.map(e=>OA(e)).join(",");{const e=n.filters.map(t=>OA(t)).join(",");return`${n.op}(${e})`}}function bne(n,e){return n instanceof jt?(r=n,(i=e)instanceof jt&&r.op===i.op&&r.field.isEqual(i.field)&&f1(r.value,i.value)):n instanceof An?function(r,i){return i instanceof An&&r.op===i.op&&r.filters.length===i.filters.length&&r.filters.reduce((s,o,a)=>s&&bne(o,i.filters[a]),!0)}(n,e):void Ne();var r,i}function wne(n){return n instanceof jt?`${(t=n).field.canonicalString()} ${t.op} ${zu(t.value)}`:n instanceof An?function(t){return t.op.toString()+" {"+t.getFilters().map(wne).join(" ,")+"}"}(n):"Filter";var t}class Wet extends jt{constructor(e,t,r){super(e,t,r),this.key=xe.fromName(r.referenceValue)}matches(e){const t=xe.comparator(e.key,this.key);return this.matchesComparison(t)}}class Ket extends jt{constructor(e,t){super(e,"in",t),this.keys=Ene(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Qet extends jt{constructor(e,t){super(e,"not-in",t),this.keys=Ene(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ene(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>xe.fromName(r.referenceValue))}class Yet extends jt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Gh(t)&&Hh(t.arrayValue,this.value)}}class Tne extends jt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Hh(this.value.arrayValue,t)}}class Jet extends jt{constructor(e,t){super(e,"not-in",t)}matches(e){if(Hh(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Hh(this.value.arrayValue,t)}}class Xet extends jt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Gh(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>Hh(this.value.arrayValue,r))}}class Zet{constructor(e,t=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}}function kA(n,e=null,t=[],r=[],i=null,s=null,o=null){return new Zet(n,e,t,r,i,s,o)}function I0(n){const e=Te(n);if(null===e.ue){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>OA(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),Uh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>zu(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>zu(r)).join(",")),e.ue=t}return e.ue}function Kh(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!qet(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!bne(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!_ne(n.startAt,e.startAt)&&_ne(n.endAt,e.endAt)}function cg(n){return xe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class _c{constructor(e,t=null,r=[],i=[],s=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=c,this.ce=null,this.le=null,this.he=null}}function ku(n){return new _c(n)}function Ane(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Fu(n){const e=Te(n);if(null===e.ce){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Dn(sr.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Wh(s,r))}),t.has(sr.keyField().canonicalString())||e.ce.push(new Wh(sr.keyField(),r))}return e.ce}function as(n){const e=Te(n);return e.le||(e.le=function Dne(n,e){if("F"===n.limitType)return kA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>new Wh(i.field,"desc"===i.dir?"asc":"desc"));const t=n.endAt?new k2(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new k2(n.startAt.position,n.startAt.inclusive):null;return kA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}(e,Fu(n))),e.le}function ug(n,e,t){return new _c(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qh(n,e){return Kh(as(n),as(e))&&n.limitType===e.limitType}function Lne(n){return`${I0(as(n))}|lt:${n.limitType}`}function Vu(n){return`Query(target=${function(t){let r=t.path.canonicalString();return null!==t.collectionGroup&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>wne(i)).join(", ")}]`),Uh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>{return`${(o=i).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>zu(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>zu(i)).join(",")),`Target(${r})`}(as(n))}; limitType=${n.limitType})`}function Yh(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return null!==r.collectionGroup?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):xe.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Fu(r))if(!s.field.isKeyField()&&null===i.data.field(s.field))return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&(i=e,!((r=n).startAt&&!function(o,a,c){const u=gne(o,a,c);return o.inclusive?u<=0:u<0}(r.startAt,Fu(r),i)||r.endAt&&!function(o,a,c){const u=gne(o,a,c);return o.inclusive?u>=0:u>0}(r.endAt,Fu(r),i)));var r,i}function Nne(n){return(e,t)=>{let r=!1;for(const i of Fu(n)){const s=ett(i,e,t);if(0!==s)return s;r=r||i.field.isKeyField()}return 0}}function ett(n,e,t){const r=n.field.isKeyField()?xe.comparator(e.key,t.key):function(s,o,a){const c=o.data.field(s),u=a.data.field(s);return null!==c&&null!==u?O2(c,u):Ne()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ne()}}class yc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,s]of r)if(this.equalsFn(i,e))return s}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){N2(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return ine(this.inner)}size(){return this.innerSize}}const ttt=new $n(xe.comparator);function to(){return ttt}const Pne=new $n(xe.comparator);function Jh(...n){let e=Pne;for(const t of n)e=e.insert(t.key,t);return e}function zne(n){let e=Pne;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function h1(){return Xh()}function One(){return Xh()}function Xh(){return new yc(n=>n.toString(),(n,e)=>n.isEqual(e))}const ntt=new $n(xe.comparator),rtt=new Dn(xe.comparator);function wt(...n){let e=rtt;for(const t of n)e=e.add(t);return e}const itt=new Dn(lt);function UA(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:jh(e)?"-0":e}}function kne(n){return{integerValue:""+n}}function Fne(n,e){return function Qte(n){return"number"==typeof n&&Number.isInteger(n)&&!jh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?kne(e):UA(n,e)}class dg{constructor(){this._=void 0}}function stt(n,e,t){return n instanceof Bu?function(i,s){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&ng(s)&&(s=rg(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(t,e):n instanceof M0?Bne(n,e):n instanceof S0?Une(n,e):function(i,s){const o=Vne(i,s),a=jne(o)+jne(i.Pe);return NA(o)&&NA(i.Pe)?kne(a):UA(i.serializer,a)}(n,e)}function ott(n,e,t){return n instanceof M0?Bne(n,e):n instanceof S0?Une(n,e):t}function Vne(n,e){return n instanceof Uu?NA(r=e)||(s=r)&&"doubleValue"in s?e:{integerValue:0}:null;var r,s}class Bu extends dg{}class M0 extends dg{constructor(e){super(),this.elements=e}}function Bne(n,e){const t=$ne(e);for(const r of n.elements)t.some(i=>f1(i,r))||t.push(r);return{arrayValue:{values:t}}}class S0 extends dg{constructor(e){super(),this.elements=e}}function Une(n,e){let t=$ne(e);for(const r of n.elements)t=t.filter(i=>!f1(i,r));return{arrayValue:{values:t}}}class Uu extends dg{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function jne(n){return or(n.integerValue||n.doubleValue)}function $ne(n){return Gh(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class ctt{constructor(e,t){this.version=e,this.transformResults=t}}class ar{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ar}static exists(e){return new ar(void 0,e)}static updateTime(e){return new ar(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function fg(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class hg{}function Hne(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new $u(n.key,ar.none()):new ju(n.key,n.data,ar.none());{const t=n.data,r=qi.empty();let i=new Dn(sr.comparator);for(let s of e.fields)if(!i.has(s)){let o=t.field(s);null===o&&s.length>1&&(s=s.popLast(),o=t.field(s)),null===o?r.delete(s):r.set(s,o),i=i.add(s)}return new vc(n.key,r,new eo(i.toArray()),ar.none())}}function ltt(n,e,t){n instanceof ju?function(i,s,o){const a=i.value.clone(),c=Wne(i.fieldTransforms,s,o.transformResults);a.setAll(c),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(n,e,t):n instanceof vc?function(i,s,o){if(!fg(i.precondition,s))return void s.convertToUnknownDocument(o.version);const a=Wne(i.fieldTransforms,s,o.transformResults),c=s.data;c.setAll(qne(i)),c.setAll(a),s.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function e8(n,e,t,r){return n instanceof ju?function(s,o,a,c){if(!fg(s.precondition,o))return a;const u=s.value.clone(),d=Kne(s.fieldTransforms,c,o);return u.setAll(d),o.convertToFoundDocument(o.version,u).setHasLocalMutations(),null}(n,e,t,r):n instanceof vc?function(s,o,a,c){if(!fg(s.precondition,o))return a;const u=Kne(s.fieldTransforms,c,o),d=o.data;return d.setAll(qne(s)),d.setAll(u),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null===a?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(f=>f.field))}(n,e,t,r):(a=t,fg(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a);var o,a}function utt(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=Vne(r.transform,i||null);null!=s&&(null===t&&(t=qi.empty()),t.set(r.field,s))}return t||null}function Gne(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(i=e.fieldTransforms,!!(void 0===(r=n.fieldTransforms)&&void 0===i||r&&i&&Lu(r,i,(s,o)=>function att(n,e){return n.field.isEqual(e.field)&&(i=e.transform,(r=n.transform)instanceof M0&&i instanceof M0||r instanceof S0&&i instanceof S0?Lu(r.elements,i.elements,f1):r instanceof Uu&&i instanceof Uu?f1(r.Pe,i.Pe):r instanceof Bu&&i instanceof Bu);var r,i}(s,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var r,i}class ju extends hg{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vc extends hg{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function qne(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Wne(n,e,t){const r=new Map;je(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,ott(o,a,t[i]))}return r}function Kne(n,e,t){const r=new Map;for(const i of n){const s=i.transform,o=t.data.field(i.field);r.set(i.field,stt(s,o,e))}return r}class $u extends hg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jA extends hg{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class $A{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ltt(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=e8(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=e8(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=One();return this.mutations.forEach(i=>{const s=e.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=t.has(i.key)?null:a;const c=Hne(o,a);null!==c&&r.set(i.key,c),o.isValidDocument()||o.convertToNoDocument(qe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),wt())}isEqual(e){return this.batchId===e.batchId&&Lu(this.mutations,e.mutations,(t,r)=>Gne(t,r))&&Lu(this.baseMutations,e.baseMutations,(t,r)=>Gne(t,r))}}class HA{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){je(e.mutations.length===r.length);let i=ntt;const s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new HA(e,t,r,i)}}class GA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class dtt{constructor(e,t){this.count=e,this.unchangedNames=t}}var ei,en;function Jne(n){if(void 0===n)return jr("GRPC error has no .code"),Y.UNKNOWN;switch(n){case ei.OK:return Y.OK;case ei.CANCELLED:return Y.CANCELLED;case ei.UNKNOWN:return Y.UNKNOWN;case ei.DEADLINE_EXCEEDED:return Y.DEADLINE_EXCEEDED;case ei.RESOURCE_EXHAUSTED:return Y.RESOURCE_EXHAUSTED;case ei.INTERNAL:return Y.INTERNAL;case ei.UNAVAILABLE:return Y.UNAVAILABLE;case ei.UNAUTHENTICATED:return Y.UNAUTHENTICATED;case ei.INVALID_ARGUMENT:return Y.INVALID_ARGUMENT;case ei.NOT_FOUND:return Y.NOT_FOUND;case ei.ALREADY_EXISTS:return Y.ALREADY_EXISTS;case ei.PERMISSION_DENIED:return Y.PERMISSION_DENIED;case ei.FAILED_PRECONDITION:return Y.FAILED_PRECONDITION;case ei.ABORTED:return Y.ABORTED;case ei.OUT_OF_RANGE:return Y.OUT_OF_RANGE;case ei.UNIMPLEMENTED:return Y.UNIMPLEMENTED;case ei.DATA_LOSS:return Y.DATA_LOSS;default:return Ne()}}(en=ei||(ei={}))[en.OK=0]="OK",en[en.CANCELLED=1]="CANCELLED",en[en.UNKNOWN=2]="UNKNOWN",en[en.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",en[en.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",en[en.NOT_FOUND=5]="NOT_FOUND",en[en.ALREADY_EXISTS=6]="ALREADY_EXISTS",en[en.PERMISSION_DENIED=7]="PERMISSION_DENIED",en[en.UNAUTHENTICATED=16]="UNAUTHENTICATED",en[en.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",en[en.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",en[en.ABORTED=10]="ABORTED",en[en.OUT_OF_RANGE=11]="OUT_OF_RANGE",en[en.UNIMPLEMENTED=12]="UNIMPLEMENTED",en[en.INTERNAL=13]="INTERNAL",en[en.UNAVAILABLE=14]="UNAVAILABLE",en[en.DATA_LOSS=15]="DATA_LOSS";const ftt=new v0([4294967295,4294967295],0);function Zne(n){const e=function Xne(){return new TextEncoder}().encode(n),t=new Rte;return t.update(e),new Uint8Array(t.digest())}function ere(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new v0([t,r],0),new v0([i,s],0)]}class qA{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new t8(`Invalid padding: ${t}`);if(r<0)throw new t8(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new t8(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new t8(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=v0.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(v0.fromNumber(r)));return 1===i.compare(ftt)&&(i=new v0([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Ie)return!1;const t=Zne(e),[r,i]=ere(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new qA(s,i,t);return r.forEach(a=>o.insert(a)),o}insert(e){if(0===this.Ie)return;const t=Zne(e),[r,i]=ere(t);for(let s=0;s<this.hashCount;s++){const o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class t8 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class n8{constructor(e,t,r,i,s){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,r8.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n8(qe.min(),i,new $n(lt),to(),wt())}}class r8{constructor(e,t,r,i,s){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new r8(r,t,wt(),wt(),wt())}}class mg{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}}class tre{constructor(e,t){this.targetId=e,this.me=t}}class nre{constructor(e,t,r=Ar.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class rre{constructor(){this.fe=0,this.ge=sre(),this.pe=Ar.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=wt(),t=wt(),r=wt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:Ne()}}),new r8(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=sre()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,je(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class htt{constructor(e){this.Le=e,this.Be=new Map,this.ke=to(),this.qe=ire(),this.Qe=new $n(lt)}Ke(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{const r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:Ne()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){const t=e.targetId,r=e.me.count,i=this.Je(t);if(i){const s=i.target;if(cg(s))if(0===r){const o=new xe(s.path);this.Ue(t,o,Yn.newNoDocument(o,qe.min()))}else je(1===r);else{const o=this.Ye(t);if(o!==r){const a=this.Ze(e),c=a?this.Xe(a,e,o):1;0!==c&&(this.je(t),this.Qe=this.Qe.insert(t,2===c?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch"))}}}}Ze(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=t;let o,a;try{o=gc(r).toUint8Array()}catch(c){if(c instanceof one)return ra("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new qA(o,i,s)}catch(c){return ra(c instanceof t8?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return 0===a.Ie?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){const r=this.Le.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,s,null),i++)}),i}rt(e){const t=new Map;this.Be.forEach((s,o)=>{const a=this.Je(o);if(a){if(s.current&&cg(a.target)){const c=new xe(a.target.path);null!==this.ke.get(c)||this.it(o,c)||this.Ue(o,c,Yn.newNoDocument(c,e))}s.be&&(t.set(o,s.ve()),s.Ce())}});let r=wt();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(c=>{const u=this.Je(c);return!u||"TargetPurposeLimboResolution"===u.purpose||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));const i=new n8(e,t,this.Qe,this.ke,r);return this.ke=to(),this.qe=ire(),this.Qe=new $n(lt),i}$e(e,t){if(!this.ze(e))return;const r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new rre,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Dn(lt),this.qe=this.qe.insert(e,t)),t}ze(e){const t=null!==this.Je(e);return t||le("WatchChangeAggregator","Detected inactive target",e),t}Je(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new rre),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function ire(){return new $n(xe.comparator)}function sre(){return new $n(xe.comparator)}const ptt={asc:"ASCENDING",desc:"DESCENDING"},mtt={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},gtt={and:"AND",or:"OR"};class _tt{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function WA(n,e){return n.useProto3Json||Uh(e)?e:{value:e}}function Hu(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ore(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function ytt(n,e){return Hu(n,e.toTimestamp())}function $r(n){return je(!!n),qe.fromTimestamp(function(t){const r=mc(t);return new yr(r.seconds,r.nanos)}(n))}function KA(n,e){return QA(n,e).canonicalString()}function QA(n,e){const t=(i=n,new Ut(["projects",i.projectId,"databases",i.database])).child("documents");var i;return void 0===e?t:t.child(e)}function are(n){const e=Ut.fromString(n);return je(yre(e)),e}function i8(n,e){return KA(n.databaseId,e.path)}function p1(n,e){const t=are(e);if(t.get(1)!==n.databaseId.projectId)throw new ue(Y.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ue(Y.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new xe(ure(t))}function cre(n,e){return KA(n.databaseId,e)}function YA(n){return new Ut(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ure(n){return je(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function dre(n,e,t){return{name:i8(n,e),fields:t.value.mapValue.fields}}function hre(n,e){return{documents:[cre(n,e.path)]}}function gg(n,e){const t={structuredQuery:{}},r=e.path;let i;null!==e.collectionGroup?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=cre(n,i);const s=function(u){if(0!==u.length)return _re(An.create(u,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const o=function(u){if(0!==u.length)return u.map(d=>{return{field:F2((p=d).field),direction:Ett(p.dir)};var p})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const a=WA(n,e.limit);return null!==a&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt={before:(u=e.startAt).inclusive,values:u.position}),e.endAt&&(t.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:t,parent:i};var u}function mre(n){let e=function lre(n){const e=are(n);return 4===e.length?Ut.emptyPath():ure(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){je(1===r);const d=t.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];t.where&&(s=function(f){const p=gre(f);return p instanceof An&&zA(p)?p.getFilters():[p]}(t.where));let o=[];t.orderBy&&(o=t.orderBy.map(p=>{return new Wh(Gu((y=p).field),function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction));var y}));let a=null;t.limit&&(a=function(f){let p;return p="object"==typeof f?f.value:f,Uh(p)?null:p}(t.limit));let c=null;var f;t.startAt&&(c=new k2((f=t.startAt).values||[],!!f.before));let u=null;return t.endAt&&(u=function(f){return new k2(f.values||[],!f.before)}(t.endAt)),function Sne(n,e,t,r,i,s,o,a){return new _c(n,e,t,r,i,s,o,a)}(e,i,o,s,a,"F",c,u)}function gre(n){return void 0!==n.unaryFilter?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Gu(t.unaryFilter.field);return jt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Gu(t.unaryFilter.field);return jt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Gu(t.unaryFilter.field);return jt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Gu(t.unaryFilter.field);return jt.create(o,"!=",{nullValue:"NULL_VALUE"});default:return Ne()}}(n):void 0!==n.fieldFilter?jt.create(Gu((t=n).fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Ne()}}(t.fieldFilter.op),t.fieldFilter.value):void 0!==n.compositeFilter?function(t){return An.create(t.compositeFilter.filters.map(r=>gre(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ne()}}(t.compositeFilter.op))}(n):Ne();var t}function Ett(n){return ptt[n]}function Ttt(n){return mtt[n]}function Itt(n){return gtt[n]}function F2(n){return{fieldPath:n.canonicalString()}}function Gu(n){return sr.fromServerFormat(n.fieldPath)}function _re(n){return n instanceof jt?function(t){if("=="===t.op){if(une(t.value))return{unaryFilter:{field:F2(t.field),op:"IS_NAN"}};if(lne(t.value))return{unaryFilter:{field:F2(t.field),op:"IS_NULL"}}}else if("!="===t.op){if(une(t.value))return{unaryFilter:{field:F2(t.field),op:"IS_NOT_NAN"}};if(lne(t.value))return{unaryFilter:{field:F2(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:F2(t.field),op:Ttt(t.op),value:t.value}}}(n):n instanceof An?function(t){const r=t.getFilters().map(i=>_re(i));return 1===r.length?r[0]:{compositeFilter:{op:Itt(t.op),filters:r}}}(n):Ne()}function Mtt(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function yre(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class bc{constructor(e,t,r,i,s=qe.min(),o=qe.min(),a=Ar.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new bc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new bc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new bc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new bc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class vre{constructor(e){this.ct=e}}function XA(n){const e=mre({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ug(e,e.limit,"L"):e}class L0{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(or(e.integerValue));else if("doubleValue"in e){const r=or(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),jh(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),"string"==typeof r&&(r=mc(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(gc(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?dne(e)?this.dt(t,Number.MAX_SAFE_INTEGER):ag(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):Ne()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){const r=e.fields||{};this.dt(t,55);for(const i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;const s=e.fields||{};this.dt(t,53);const o="value",a=(null===(i=null===(r=s[o].arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.length)||0;this.dt(t,15),t.At(or(a)),this.Vt(o,t),this.Tt(s[o],t)}bt(e,t){const r=e.values||[];this.dt(t,50);for(const i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),xe.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}}L0.vt=new L0;class ztt{constructor(){this.un=new ix}addToCollectionParentIndex(e,t){return this.un.add(t),H.resolve()}getCollectionParents(e,t){return H.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return H.resolve()}deleteFieldIndex(e,t){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,t){return H.resolve()}getDocumentsMatchingTarget(e,t){return H.resolve(null)}getIndexType(e,t){return H.resolve(0)}getFieldIndexes(e,t){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,t){return H.resolve(Mo.min())}getMinOffsetFromCollectionGroup(e,t){return H.resolve(Mo.min())}updateCollectionGroup(e,t,r){return H.resolve()}updateIndexEntries(e,t){return H.resolve()}}class ix{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Dn(Ut.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Dn(Ut.comparator)).toArray()}}new Uint8Array(0);class cs{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new cs(e,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}cs.DEFAULT_COLLECTION_PERCENTILE=10,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,cs.DEFAULT=new cs(41943040,cs.DEFAULT_COLLECTION_PERCENTILE,cs.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),cs.DISABLED=new cs(-1,0,0);class N0{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new N0(0)}static kn(){return new N0(-1)}}class jre{constructor(){this.changes=new yc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Yn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?H.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class $tt{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Wre{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&e8(r.mutation,i,eo.empty(),yr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,wt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=wt()){const i=h1();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let o=Jh();return s.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,t){const r=h1();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,wt()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{t.set(o,a)})})}computeViews(e,t,r,i){let s=to();const o=Xh(),a=Xh();return t.forEach((c,u)=>{const d=r.get(u.key);i.has(u.key)&&(void 0===d||d.mutation instanceof vc)?s=s.insert(u.key,u):void 0!==d?(o.set(u.key,d.mutation.getFieldMask()),e8(d.mutation,u,d.mutation.getFieldMask(),yr.now())):o.set(u.key,eo.empty())}),this.recalculateAndSaveOverlays(e,s).next(c=>(c.forEach((u,d)=>o.set(u,d)),t.forEach((u,d)=>{var f;return a.set(u,new $tt(d,null!==(f=o.get(u))&&void 0!==f?f:null))}),a))}recalculateAndSaveOverlays(e,t){const r=Xh();let i=new $n((o,a)=>o-a),s=wt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>{for(const a of o)a.keys().forEach(c=>{const u=t.get(c);if(null===u)return;let d=r.get(c)||eo.empty();d=a.applyToLocalView(u,d),r.set(c,d);const f=(i.get(a.batchId)||wt()).add(c);i=i.insert(a.batchId,f)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),u=c.key,d=c.value,f=One();d.forEach(p=>{if(!s.has(p)){const g=Hne(t.get(p),r.get(p));null!==g&&f.set(p,g),s=s.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,f))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return xe.isDocumentKey((o=t).path)&&null===o.collectionGroup&&0===o.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function FA(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i);var o}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):H.resolve(h1());let a=-1,c=s;return o.next(u=>H.forEach(u,(d,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),s.get(d)?H.resolve():this.remoteDocumentCache.getEntry(e,d).next(p=>{c=c.insert(d,p)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,c,u,wt())).next(d=>({batchId:a,changes:zne(d)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new xe(t)).next(r=>{let i=Jh();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let o=Jh();return this.indexManager.getCollectionParents(e,s).next(a=>H.forEach(a,c=>{const u=(f=t,p=c.child(s),new _c(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt));var f,p;return this.getDocumentsMatchingCollectionQuery(e,u,r,i).next(d=>{d.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(o=>{s.forEach((c,u)=>{const d=u.getKey();null===o.get(d)&&(o=o.insert(d,Yn.newInvalidDocument(d)))});let a=Jh();return o.forEach((c,u)=>{const d=s.get(c);void 0!==d&&e8(d.mutation,u,eo.empty(),yr.now()),Yh(t,u)&&(a=a.insert(c,u))}),a})}}class Htt{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return H.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,{id:(i=t).id,version:i.version,createTime:$r(i.createTime)}),H.resolve();var i}getNamedQuery(e,t){return H.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,{name:(i=t).name,query:XA(i.bundledQuery),readTime:$r(i.readTime)}),H.resolve();var i}}class Gtt{constructor(){this.overlays=new $n(xe.comparator),this.Ir=new Map}getOverlay(e,t){return H.resolve(this.overlays.get(t))}getOverlays(e,t){const r=h1();return H.forEach(t,i=>this.getOverlay(e,i).next(s=>{null!==s&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.ht(e,t,s)}),H.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Ir.get(r);return void 0!==i&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),H.resolve()}getOverlaysForCollection(e,t,r){const i=h1(),s=t.length+1,o=new xe(t.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,u=c.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===s&&c.largestBatchId>r&&i.set(c.getKey(),c)}return H.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new $n((u,d)=>u-d);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===t&&u.largestBatchId>r){let d=s.get(u.largestBatchId);null===d&&(d=h1(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const a=h1(),c=s.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((u,d)=>a.set(u,d)),!(a.size()>=i)););return H.resolve(a)}ht(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new GA(t,r));let s=this.Ir.get(t);void 0===s&&(s=wt(),this.Ir.set(t,s)),this.Ir.set(t,s.add(r.key))}}class qtt{constructor(){this.sessionToken=Ar.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,H.resolve()}}class sx{constructor(){this.Tr=new Dn(Mi.Er),this.dr=new Dn(Mi.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){const r=new Mi(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new Mi(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){const t=new xe(new Ut([])),r=new Mi(t,e),i=new Mi(t,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const t=new xe(new Ut([])),r=new Mi(t,e),i=new Mi(t,e+1);let s=wt();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){const t=new Mi(e,0),r=this.Tr.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Mi{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return xe.comparator(e.key,t.key)||lt(e.wr,t.wr)}static Ar(e,t){return lt(e.wr,t.wr)||xe.comparator(e.key,t.key)}}class Wtt{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Dn(Mi.Er)}checkEmpty(e){return H.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const s=this.Sr;this.Sr++;const o=new $A(s,t,r,i);this.mutationQueue.push(o);for(const a of i)this.br=this.br.add(new Mi(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,t){return H.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.vr(t+1),s=i<0?0:i;return H.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(0===this.mutationQueue.length?-1:this.Sr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Mi(t,0),i=new Mi(t,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{const a=this.Dr(o.wr);s.push(a)}),H.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dn(lt);return t.forEach(i=>{const s=new Mi(i,0),o=new Mi(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),H.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;xe.isDocumentKey(s)||(s=s.child(""));const o=new Mi(new xe(s),0);let a=new Dn(lt);return this.br.forEachWhile(c=>{const u=c.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(c.wr)),!0)},o),H.resolve(this.Cr(a))}Cr(e){const t=[];return e.forEach(r=>{const i=this.Dr(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){je(0===this.Fr(t.batchId,"removed")),this.mutationQueue.shift();let r=this.br;return H.forEach(t.mutations,i=>{const s=new Mi(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){const r=new Mi(t,0),i=this.br.firstAfterOrEqual(r);return H.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return H.resolve()}Fr(e,t){return this.vr(e)}vr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Dr(e){const t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Ktt{constructor(e){this.Mr=e,this.docs=new $n(xe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return H.resolve(r?r.document.mutableCopy():Yn.newInvalidDocument(t))}getEntries(e,t){let r=to();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Yn.newInvalidDocument(i))}),H.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=to();const o=t.path,a=new xe(o.child("")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:u,value:{document:d}}=c.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||SA(Hte(d),r)<=0||(i.has(d.key)||Yh(t,d))&&(s=s.insert(d.key,d.mutableCopy()))}return H.resolve(s)}getAllFromCollectionGroup(e,t,r,i){Ne()}Or(e,t){return H.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new Qtt(this)}getSize(e){return H.resolve(this.size)}}class Qtt extends jre{constructor(e){super(),this.cr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),H.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}}class Ytt{constructor(e){this.persistence=e,this.Nr=new yc(t=>I0(t),Kh),this.lastRemoteSnapshotVersion=qe.min(),this.highestTargetId=0,this.Lr=0,this.Br=new sx,this.targetCount=0,this.kr=N0.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),H.resolve()}Kn(e){this.Nr.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.kr=new N0(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,H.resolve()}updateTargetData(e,t){return this.Kn(t),H.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=t&&null===r.get(a.targetId)&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),H.waitFor(s).next(()=>i)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,t){const r=this.Nr.get(t)||null;return H.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),H.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),H.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),H.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Br.yr(t);return H.resolve(r)}containsKey(e,t){return H.resolve(this.Br.containsKey(t))}}class ox{constructor(e,t){this.qr={},this.overlays={},this.Qr=new So(0),this.Kr=!1,this.Kr=!0,this.$r=new qtt,this.referenceDelegate=e(this),this.Ur=new Ytt(this),this.indexManager=new ztt,this.remoteDocumentCache=new Ktt(r=>this.referenceDelegate.Wr(r)),this.serializer=new vre(t),this.Gr=new Htt(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Gtt,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new Wtt(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){le("MemoryPersistence","Starting transaction:",e);const i=new Jtt(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,t){return H.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}}class Jtt extends qte{constructor(e){super(),this.currentSequenceNumber=e}}class Tg{constructor(e){this.persistence=e,this.Jr=new sx,this.Yr=null}static Zr(e){return new Tg(e)}get Xr(){if(this.Yr)return this.Yr;throw Ne()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),H.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),H.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.Xr,r=>{const i=xe.fromPath(r);return this.ei(e,i).next(s=>{s||t.removeEntry(i,qe.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return H.or([()=>H.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}}class ux{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=wt(),i=wt();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new ux(e,t.fromCache,r,i)}}class Ztt{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Qre{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function QQ(){return!function Y$e(){var n;const e=null===(n=_m())||void 0===n?void 0:n.forceEnvironment;if("node"===e)return!0;if("browser"===e)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}()?8:function Wte(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}(kr())>0?6:4}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.Yi(e,t).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,t,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;const o=new Ztt;return this.Xi(e,t,o).next(a=>{if(s.result=a,this.zi)return this.es(e,t,o,a.size)})}).next(()=>s.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(Du()<=Ft.DEBUG&&le("QueryEngine","SDK will not create cache indexes for query:",Vu(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),H.resolve()):(Du()<=Ft.DEBUG&&le("QueryEngine","Query:",Vu(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Du()<=Ft.DEBUG&&le("QueryEngine","The SDK decides to create cache indexes for query:",Vu(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,as(t))):H.resolve())}Yi(e,t){if(Ane(t))return H.resolve(null);let r=as(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=ug(t,null,"F"),r=as(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const o=wt(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const u=this.ts(t,a);return this.ns(t,u,o,c.readTime)?this.Yi(e,ug(t,null,"F")):this.rs(e,u,t,c)}))})))}Zi(e,t,r,i){return Ane(t)||i.isEqual(qe.min())?H.resolve(null):this.Ji.getDocuments(e,r).next(s=>{const o=this.ts(t,s);return this.ns(t,o,r,i)?H.resolve(null):(Du()<=Ft.DEBUG&&le("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Vu(t)),this.rs(e,o,t,function $te(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=qe.fromTimestamp(1e9===r?new yr(t+1,0):new yr(t,r));return new Mo(i,xe.empty(),e)}(i,-1)).next(a=>a))})}ts(e,t){let r=new Dn(Nne(e));return t.forEach((i,s)=>{Yh(e,s)&&(r=r.add(s))}),r}ns(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const s="F"===e.limitType?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,t,r){return Du()<=Ft.DEBUG&&le("QueryEngine","Using full collection scan to execute query:",Vu(t)),this.Ji.getDocumentsMatchingQuery(e,t,Mo.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(o=>{s=s.insert(o.key,o)}),s))}}class ent{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new $n(lt),this._s=new yc(s=>I0(s),Kh),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Wre(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}}function Jre(n,e){return dx.apply(this,arguments)}function dx(){return(dx=D(function*(n,e){const t=Te(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let c=wt();for(const u of i){o.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}for(const u of s){a.push(u.batchId);for(const d of u.mutations)c=c.add(d.key)}return t.localDocuments.getDocuments(r,c).next(u=>({hs:u,removedBatchIds:o,addedBatchIds:a}))})})})).apply(this,arguments)}function Xre(n){const e=Te(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function rnt(n,e){const t=Te(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ju(n,e,t){return fx.apply(this,arguments)}function fx(){return(fx=D(function*(n,e,t){const r=Te(n),i=r.os.get(e),s=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!R2(o))throw o;le("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})).apply(this,arguments)}function Sg(n,e,t){const r=Te(n);let i=qe.min(),s=wt();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,u,d){const f=Te(c),p=f._s.get(d);return void 0!==p?H.resolve(f.os.get(p)):f.Ur.getTargetData(u,d)}(r,o,as(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(c=>{s=c})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,t?i:qe.min(),t?s:wt())).next(a=>(function nie(n,e,t){let r=n.us.get(e)||qe.min();t.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),n.us.set(e,r)}(r,function Rne(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),a),{documents:a,Ts:s})))}class _x{constructor(){this.activeTargetIds=function BA(){return itt}()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class sie{constructor(){this.so=new _x,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new _x,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class ont{_o(e){}shutdown(){}}class oie{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){le("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){le("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let Dg=null;function vx(){return null===Dg?Dg=268435456+Math.round(2147483648*Math.random()):Dg++,"0x"+Dg.toString(16)}const ant={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cnt{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}const ls="WebChannelConnection";class lnt extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${s}`,this.Co="(default)"===this.databaseId.database?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(t,r,i,s,o){const a=vx(),c=this.xo(t,r.toUriEncodedString());le("RestConnection",`Sending RPC '${t}' ${a}:`,c,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,o),this.No(t,c,u,i).then(d=>(le("RestConnection",`Received RPC '${t}' ${a}: `,d),d),d=>{throw ra("RestConnection",`RPC '${t}' ${a} failed with error: `,d,"url: ",c,"request:",i),d})}Lo(t,r,i,s,o,a){return this.Mo(t,r,i,s,o)}Oo(t,r,i){t["X-Goog-Api-Client"]="gl-js/ fire/"+xu,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>t[o]=s),i&&i.headers.forEach((s,o)=>t[o]=s)}xo(t,r){return`${this.Do}/v1/${r}:${ant[t]}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){const s=vx();return new Promise((o,a)=>{const c=new Nte;c.setWithCredentials(!0),c.listenOnce(Pte.COMPLETE,()=>{try{switch(c.getLastErrorCode()){case X9.NO_ERROR:const d=c.getResponseJson();le(ls,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(d)),o(d);break;case X9.TIMEOUT:le(ls,`RPC '${e}' ${s} timed out`),a(new ue(Y.DEADLINE_EXCEEDED,"Request time out"));break;case X9.HTTP_ERROR:const f=c.getStatus();if(le(ls,`RPC '${e}' ${s} failed with status:`,f,"response text:",c.getResponseText()),f>0){let p=c.getResponseJson();Array.isArray(p)&&(p=p[0]);const g=p?.error;if(g&&g.status&&g.message){const y=function(w){const N=w.toLowerCase().replace(/_/g,"-");return Object.values(Y).indexOf(N)>=0?N:Y.UNKNOWN}(g.status);a(new ue(y,g.message))}else a(new ue(Y.UNKNOWN,"Server responded with status "+c.getStatus()))}else a(new ue(Y.UNAVAILABLE,"Connection failed."));break;default:Ne()}}finally{le(ls,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);le(ls,`RPC '${e}' ${s} sending request:`,i),c.send(t,"POST",u,r,15)})}Bo(e,t,r){const i=vx(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=kte(),a=Ote(),c={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(c.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(c.useFetchStreams=!0),this.Oo(c.initMessageHeaders,t,r),c.encodeInitMessageHeaders=!0;const d=s.join("");le(ls,`Creating RPC '${e}' stream ${i}: ${d}`,c);const f=o.createWebChannel(d,c);let p=!1,g=!1;const y=new cnt({Io:w=>{g?le(ls,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(p||(le(ls,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),le(ls,`RPC '${e}' stream ${i} sending:`,w),f.send(w))},To:()=>f.close()}),C=(w,N,R)=>{w.listen(N,O=>{try{R(O)}catch(F){setTimeout(()=>{throw F},0)}})};return C(f,Fh.EventType.OPEN,()=>{g||(le(ls,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),C(f,Fh.EventType.CLOSE,()=>{g||(g=!0,le(ls,`RPC '${e}' stream ${i} transport closed`),y.So())}),C(f,Fh.EventType.ERROR,w=>{g||(g=!0,ra(ls,`RPC '${e}' stream ${i} transport errored:`,w),y.So(new ue(Y.UNAVAILABLE,"The operation could not be completed")))}),C(f,Fh.EventType.MESSAGE,w=>{var N;if(!g){const R=w.data[0];je(!!R);const F=R.error||(null===(N=R[0])||void 0===N?void 0:N.error);if(F){le(ls,`RPC '${e}' stream ${i} received error:`,F);const j=F.status;let W=function(E){const S=ei[E];if(void 0!==S)return Jne(S)}(j),M=F.message;void 0===W&&(W=Y.INTERNAL,M="Unknown error status: "+j+" with message "+F.message),g=!0,y.So(new ue(W,M)),f.close()}else le(ls,`RPC '${e}' stream ${i} received:`,R),y.bo(R)}}),C(a,zte.STAT_EVENT,w=>{w.stat===TA.PROXY?le(ls,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===TA.NOPROXY&&le(ls,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function Lg(){return typeof document<"u"?document:null}function h8(n){return new _tt(n,!0)}class bx{constructor(e,t,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&le("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){null!==this.$o&&(this.$o.skipDelay(),this.$o=null)}cancel(){null!==this.$o&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}class cie{constructor(e,t,r,i,s,o,a,c){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new bx(e,t)}n_(){return 1===this.state||5===this.state||this.r_()}r_(){return 2===this.state||3===this.state}start(){this.e_=0,4!==this.state?this.auth():this.i_()}stop(){var e=this;return D(function*(){e.n_()&&(yield e.close(0))})()}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&null===this.Zo&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){var e=this;return D(function*(){if(e.r_())return e.close(0)})()}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){var r=this;return D(function*(){r.u_(),r.c_(),r.t_.cancel(),r.Yo++,4!==e?r.t_.reset():t&&t.code===Y.RESOURCE_EXHAUSTED?(jr(t.toString()),jr("Using maximum backoff delay to prevent overloading the backend."),r.t_.Wo()):t&&t.code===Y.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.l_(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.mo(t)})()}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{const i=new ue(Y.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){const r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>1==++this.e_?this.E_(i):this.onNext(i))})}i_(){var e=this;this.state=5,this.t_.Go(D(function*(){e.state=0,e.start()}))}I_(e){return le("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(le("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class unt extends cie{constructor(e,t,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const t=function btt(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(u=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===u?1:"REMOVE"===u?2:"CURRENT"===u?3:"RESET"===u?4:Ne(),i=e.targetChange.targetIds||[],s=function(u,d){return u.useProto3Json?(je(void 0===d||"string"==typeof d),Ar.fromBase64String(d||"")):(je(void 0===d||d instanceof Buffer||d instanceof Uint8Array),Ar.fromUint8Array(d||new Uint8Array))}(n,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(u){const d=void 0===u.code?Y.UNKNOWN:Jne(u.code);return new ue(d,u.message||"")}(o);t=new nre(r,i,s,a||null)}else if("documentChange"in e){const r=e.documentChange,i=p1(n,r.document.name),s=$r(r.document.updateTime),o=r.document.createTime?$r(r.document.createTime):qe.min(),a=new qi({mapValue:{fields:r.document.fields}}),c=Yn.newFoundDocument(i,s,o,a);t=new mg(r.targetIds||[],r.removedTargetIds||[],c.key,c)}else if("documentDelete"in e){const r=e.documentDelete,i=p1(n,r.document),s=r.readTime?$r(r.readTime):qe.min(),o=Yn.newNoDocument(i,s);t=new mg([],r.removedTargetIds||[],o.key,o)}else if("documentRemove"in e){const r=e.documentRemove,i=p1(n,r.document);t=new mg([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return Ne();{const r=e.filter,{count:i=0,unchangedNames:s}=r,o=new dtt(i,s);t=new tre(r.targetId,o)}}var u;return t}(this.serializer,e),r=function(s){if(!("targetChange"in s))return qe.min();const o=s.targetChange;return o.targetIds&&o.targetIds.length?qe.min():o.readTime?$r(o.readTime):qe.min()}(e);return this.listener.d_(t,r)}A_(e){const t={};t.database=YA(this.serializer),t.addTarget=function(s,o){let a;const c=o.target;if(a=cg(c)?{documents:hre(s,c)}:{query:gg(s,c)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=ore(s,o.resumeToken);const u=WA(s,o.expectedCount);null!==u&&(a.expectedCount=u)}else if(o.snapshotVersion.compareTo(qe.min())>0){a.readTime=Hu(s,o.snapshotVersion.toTimestamp());const u=WA(s,o.expectedCount);null!==u&&(a.expectedCount=u)}return a}(this.serializer,e);const r=function wtt(n,e){const t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ne()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.a_(t)}R_(e){const t={};t.database=YA(this.serializer),t.removeTarget=e,this.a_(t)}}class dnt extends cie{constructor(e,t,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return je(!!e.streamToken),this.lastStreamToken=e.streamToken,je(!e.writeResults||0===e.writeResults.length),this.listener.f_()}onNext(e){je(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const t=function Ctt(n,e){return n&&n.length>0?(je(void 0!==e),n.map(t=>function(i,s){let o=$r(i.updateTime?i.updateTime:s);return o.isEqual(qe.min())&&(o=$r(s)),new ctt(o,i.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=$r(e.commitTime);return this.listener.g_(r,t)}p_(){const e={};e.database=YA(this.serializer),this.a_(e)}m_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function s8(n,e){let t;if(e instanceof ju)t={update:dre(n,e.key,e.value)};else if(e instanceof $u)t={delete:i8(n,e.key)};else if(e instanceof vc)t={update:dre(n,e.key,e.data),updateMask:Mtt(e.fieldMask)};else{if(!(e instanceof jA))return Ne();t={verify:i8(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,o){const a=o.transform;if(a instanceof Bu)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof M0)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof S0)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Uu)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw Ne()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:ytt(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:Ne()),t;var s}(this.serializer,r))};this.a_(t)}}class fnt extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new ue(Y.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,QA(t,r),i,s,o)).catch(s=>{throw"FirebaseError"===s.name?(s.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ue(Y.UNKNOWN,s.toString())})}Lo(e,t,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,QA(t,r),i,o,a,s)).catch(o=>{throw"FirebaseError"===o.name?(o.code===Y.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new ue(Y.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class hnt{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){0===this.S_&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){"Online"===this.state?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,"Online"===e&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(jr(t),this.D_=!1):le("OnlineStateTracker",t)}x_(){null!==this.b_&&(this.b_.cancel(),this.b_=null)}}class pnt{constructor(e,t,r,i,s){var o=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{r.enqueueAndForget(D(function*(){var c;j2(o)&&(le("RemoteStore","Restarting streams for network reachability change."),yield(c=D(function*(d){const f=Te(d);f.L_.add(4),yield Xu(f),f.q_.set("Unknown"),f.L_.delete(4),yield p8(f)}),function u(d){return c.apply(this,arguments)})(o))}))}),this.q_=new hnt(r,i)}}function p8(n){return Cx.apply(this,arguments)}function Cx(){return(Cx=D(function*(n){if(j2(n))for(const e of n.B_)yield e(!0)})).apply(this,arguments)}function Xu(n){return wx.apply(this,arguments)}function wx(){return(wx=D(function*(n){for(const e of n.B_)yield e(!1)})).apply(this,arguments)}function Rg(n,e){const t=Te(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),Ix(t)?Tx(t):t6(t).r_()&&Ex(t,e))}function Zu(n,e){const t=Te(n),r=t6(t);t.N_.delete(e),r.r_()&&lie(t,e),0===t.N_.size&&(r.r_()?r.o_():j2(t)&&t.q_.set("Unknown"))}function Ex(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(qe.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}t6(n).A_(e)}function lie(n,e){n.Q_.xe(e),t6(n).R_(e)}function Tx(n){n.Q_=new htt({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),t6(n).start(),n.q_.v_()}function Ix(n){return j2(n)&&!t6(n).n_()&&n.N_.size>0}function j2(n){return 0===Te(n).L_.size}function uie(n){n.Q_=void 0}function mnt(n){return Mx.apply(this,arguments)}function Mx(){return(Mx=D(function*(n){n.q_.set("Online")})).apply(this,arguments)}function gnt(n){return Sx.apply(this,arguments)}function Sx(){return(Sx=D(function*(n){n.N_.forEach((e,t)=>{Ex(n,e)})})).apply(this,arguments)}function _nt(n,e){return Ax.apply(this,arguments)}function Ax(){return(Ax=D(function*(n,e){uie(n),Ix(n)?(n.q_.M_(e),Tx(n)):n.q_.set("Unknown")})).apply(this,arguments)}function ynt(n,e,t){return xx.apply(this,arguments)}function xx(){return xx=D(function*(n,e,t){if(n.q_.set("Online"),e instanceof nre&&2===e.state&&e.cause)try{yield(r=D(function*(s,o){const a=o.cause;for(const c of o.targetIds)s.N_.has(c)&&(yield s.remoteSyncer.rejectListen(c,a),s.N_.delete(c),s.Q_.removeTarget(c))}),function i(s,o){return r.apply(this,arguments)})(n,e)}catch(r){le("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Ng(n,r)}else if(e instanceof mg?n.Q_.Ke(e):e instanceof tre?n.Q_.He(e):n.Q_.We(e),!t.isEqual(qe.min()))try{const r=yield Xre(n.localStore);t.compareTo(r)>=0&&(yield function(s,o){const a=s.Q_.rt(o);return a.targetChanges.forEach((c,u)=>{if(c.resumeToken.approximateByteSize()>0){const d=s.N_.get(u);d&&s.N_.set(u,d.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,u)=>{const d=s.N_.get(c);if(!d)return;s.N_.set(c,d.withResumeToken(Ar.EMPTY_BYTE_STRING,d.snapshotVersion)),lie(s,c);const f=new bc(d.target,c,u,d.sequenceNumber);Ex(s,f)}),s.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){le("RemoteStore","Failed to raise snapshot:",r),yield Ng(n,r)}var r}),xx.apply(this,arguments)}function Ng(n,e,t){return Dx.apply(this,arguments)}function Dx(){return(Dx=D(function*(n,e,t){if(!R2(e))throw e;n.L_.add(1),yield Xu(n),n.q_.set("Offline"),t||(t=()=>Xre(n.localStore)),n.asyncQueue.enqueueRetryable(D(function*(){le("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield p8(n)}))})).apply(this,arguments)}function die(n,e){return e().catch(t=>Ng(n,t,e))}function e6(n){return Lx.apply(this,arguments)}function Lx(){return(Lx=D(function*(n){const e=Te(n),t=$2(e);let r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;vnt(e);)try{const i=yield rnt(e.localStore,r);if(null===i){0===e.O_.length&&t.o_();break}r=i.batchId,bnt(e,i)}catch(i){yield Ng(e,i)}fie(e)&&hie(e)})).apply(this,arguments)}function vnt(n){return j2(n)&&n.O_.length<10}function bnt(n,e){n.O_.push(e);const t=$2(n);t.r_()&&t.V_&&t.m_(e.mutations)}function fie(n){return j2(n)&&!$2(n).n_()&&n.O_.length>0}function hie(n){$2(n).start()}function Cnt(n){return Rx.apply(this,arguments)}function Rx(){return(Rx=D(function*(n){$2(n).p_()})).apply(this,arguments)}function wnt(n){return Nx.apply(this,arguments)}function Nx(){return(Nx=D(function*(n){const e=$2(n);for(const t of n.O_)e.m_(t.mutations)})).apply(this,arguments)}function Ent(n,e,t){return Px.apply(this,arguments)}function Px(){return(Px=D(function*(n,e,t){const r=n.O_.shift(),i=HA.from(r,e,t);yield die(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield e6(n)})).apply(this,arguments)}function Tnt(n,e){return zx.apply(this,arguments)}function zx(){return zx=D(function*(n,e){var t;e&&$2(n).V_&&(yield(t=D(function*(i,s){if(function Yne(n){switch(n){default:return Ne();case Y.CANCELLED:case Y.UNKNOWN:case Y.DEADLINE_EXCEEDED:case Y.RESOURCE_EXHAUSTED:case Y.INTERNAL:case Y.UNAVAILABLE:case Y.UNAUTHENTICATED:return!1;case Y.INVALID_ARGUMENT:case Y.NOT_FOUND:case Y.ALREADY_EXISTS:case Y.PERMISSION_DENIED:case Y.FAILED_PRECONDITION:case Y.ABORTED:case Y.OUT_OF_RANGE:case Y.UNIMPLEMENTED:case Y.DATA_LOSS:return!0}}(a=s.code)&&a!==Y.ABORTED){const o=i.O_.shift();$2(i).s_(),yield die(i,()=>i.remoteSyncer.rejectFailedWrite(o.batchId,s)),yield e6(i)}var a}),function r(i,s){return t.apply(this,arguments)})(n,e)),fie(n)&&hie(n)}),zx.apply(this,arguments)}function pie(n,e){return Ox.apply(this,arguments)}function Ox(){return(Ox=D(function*(n,e){const t=Te(n);t.asyncQueue.verifyOperationInProgress(),le("RemoteStore","RemoteStore received new credentials");const r=j2(t);t.L_.add(3),yield Xu(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield p8(t)})).apply(this,arguments)}function kx(n,e){return Fx.apply(this,arguments)}function Fx(){return(Fx=D(function*(n,e){const t=Te(n);e?(t.L_.delete(2),yield p8(t)):e||(t.L_.add(2),yield Xu(t),t.q_.set("Unknown"))})).apply(this,arguments)}function t6(n){return n.K_||(n.K_=function(t,r,i){const s=Te(t);return s.w_(),new unt(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:mnt.bind(null,n),Ro:gnt.bind(null,n),mo:_nt.bind(null,n),d_:ynt.bind(null,n)}),n.B_.push(function(){var e=D(function*(t){t?(n.K_.s_(),Ix(n)?Tx(n):n.q_.set("Unknown")):(yield n.K_.stop(),uie(n))});return function(t){return e.apply(this,arguments)}}())),n.K_}function $2(n){return n.U_||(n.U_=function(t,r,i){const s=Te(t);return s.w_(),new dnt(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Cnt.bind(null,n),mo:Tnt.bind(null,n),f_:wnt.bind(null,n),g_:Ent.bind(null,n)}),n.B_.push(function(){var e=D(function*(t){t?(n.U_.s_(),yield e6(n)):(yield n.U_.stop(),n.O_.length>0&&(le("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))});return function(t){return e.apply(this,arguments)}}())),n.U_}class Vx{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const o=Date.now()+r,a=new Vx(e,t,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new ue(Y.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function n6(n,e){if(jr("AsyncQueue",`${e}: ${n}`),R2(n))return new ue(Y.UNAVAILABLE,`${e}: ${n}`);throw n}class r6{constructor(e){this.comparator=e?(t,r)=>e(t,r)||xe.comparator(t.key,r.key):(t,r)=>xe.comparator(t.key,r.key),this.keyedMap=Jh(),this.sortedSet=new $n(this.comparator)}static emptySet(e){return new r6(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof r6)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new r6;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class mie{constructor(){this.W_=new $n(xe.comparator)}track(e){const t=e.doc.key,r=this.W_.get(t);r?0!==e.type&&3===r.type?this.W_=this.W_.insert(t,e):3===e.type&&1!==r.type?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.W_=this.W_.remove(t):1===e.type&&2===r.type?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):Ne():this.W_=this.W_.insert(t,e)}G_(){const e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}}class i6{constructor(e,t,r,i,s,o,a,c,u){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=u}static fromInitialDocuments(e,t,r,i,s){const o=[];return t.forEach(a=>{o.push({type:0,doc:a})}),new i6(e,t,r6.emptySet(t),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class Int{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class Mnt{constructor(){this.queries=gie(),this.onlineState="Unknown",this.Y_=new Set}terminate(){!function(t,r){const i=Te(t),s=i.queries;i.queries=gie(),s.forEach((o,a)=>{for(const c of a.j_)c.onError(r)})}(this,new ue(Y.ABORTED,"Firestore shutting down"))}}function gie(){return new yc(n=>Lne(n),Qh)}function Ux(){return(Ux=D(function*(n,e){const t=Te(n);let r=3;const i=e.query;let s=t.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new Int,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield t.onListen(i,!0);break;case 1:s.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(o){const a=n6(o,`Initialization of query '${Vu(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,s),s.j_.push(e),e.Z_(t.onlineState),s.z_&&e.X_(s.z_)&&Hx(t)})).apply(this,arguments)}function $x(){return($x=D(function*(n,e){const t=Te(n),r=e.query;let i=3;const s=t.queries.get(r);if(s){const o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),0===s.j_.length?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})).apply(this,arguments)}function Snt(n,e){const t=Te(n);let r=!1;for(const i of e){const o=t.queries.get(i.query);if(o){for(const a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&Hx(t)}function Ant(n,e,t){const r=Te(n),i=r.queries.get(e);if(i)for(const s of i.j_)s.onError(t);r.queries.delete(e)}function Hx(n){n.Y_.forEach(e=>{e.next()})}var Gx,_ie;(_ie=Gx||(Gx={})).ea="default",_ie.Cache="cache";class qx{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new i6(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){return!e.fromCache||!this.J_()||(!this.options._a||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}ia(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}oa(e){e=i6.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==Gx.Cache}}class bie{constructor(e){this.key=e}}class Cie{constructor(e){this.key=e}}class wie{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=wt(),this.mutatedKeys=wt(),this.Aa=Nne(e),this.Ra=new r6(this.Aa)}get Va(){return this.Ta}ma(e,t){const r=t?t.fa:new mie,i=t?t.Ra:this.Ra;let s=t?t.mutatedKeys:this.mutatedKeys,o=i,a=!1;const c="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,u="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((d,f)=>{const p=i.get(d),g=Yh(this.query,f)?f:null,y=!!p&&this.mutatedKeys.has(p.key),C=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let w=!1;p&&g?p.data.isEqual(g.data)?y!==C&&(r.track({type:3,doc:g}),w=!0):this.ga(p,g)||(r.track({type:2,doc:g}),w=!0,(c&&this.Aa(g,c)>0||u&&this.Aa(g,u)<0)&&(a=!0)):!p&&g?(r.track({type:0,doc:g}),w=!0):p&&!g&&(r.track({type:1,doc:p}),w=!0,(c||u)&&(a=!0)),w&&(g?(o=o.add(g),s=C?s.add(d):s.delete(d)):(o=o.delete(d),s=s.delete(d)))}),null!==this.query.limit)for(;o.size>this.query.limit;){const d="F"===this.query.limitType?o.last():o.first();o=o.delete(d.key),s=s.delete(d.key),r.track({type:1,doc:d})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const o=e.fa.G_();o.sort((d,f)=>function(g,y){const C=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ne()}};return C(g)-C(y)}(d.type,f.type)||this.Aa(d.doc,f.doc)),this.pa(r),i=null!=i&&i;const a=t&&!i?this.ya():[],c=0===this.da.size&&this.current&&!i?1:0,u=c!==this.Ea;return this.Ea=c,0!==o.length||u?{snapshot:new i6(this.query,e.Ra,s,o,e.mutatedKeys,0===c,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new mie,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=wt(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});const t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Cie(r))}),this.da.forEach(r=>{e.has(r)||t.push(new bie(r))}),t}ba(e){this.Ta=e.Ts,this.da=wt();const t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return i6.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,0===this.Ea,this.hasCachedResults)}}class Lnt{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class Rnt{constructor(e){this.key=e,this.va=!1}}class Nnt{constructor(e,t,r,i,s,o){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new yc(a=>Lne(a),Qh),this.Ma=new Map,this.xa=new Set,this.Oa=new $n(xe.comparator),this.Na=new Map,this.La=new sx,this.Ba={},this.ka=new Map,this.qa=N0.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return!0===this.Qa}}function Pnt(n,e){return Wx.apply(this,arguments)}function Wx(){return(Wx=D(function*(n,e,t=!0){const r=Pg(n);let i;const s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield Eie(r,e,t,!0),i})).apply(this,arguments)}function znt(n,e){return Kx.apply(this,arguments)}function Kx(){return(Kx=D(function*(n,e){const t=Pg(n);yield Eie(t,e,!0,!1)})).apply(this,arguments)}function Eie(n,e,t,r){return Qx.apply(this,arguments)}function Qx(){return(Qx=D(function*(n,e,t,r){const i=yield function Yu(n,e){const t=Te(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(s=>s?(i=s,H.resolve(i)):t.Ur.allocateTargetId(r).next(o=>(i=new bc(e,o,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.os.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}(n.localStore,as(e)),s=i.targetId,o=n.sharedClientState.addLocalQueryTarget(s,t);let a;return r&&(a=yield function Yx(n,e,t,r,i){return Jx.apply(this,arguments)}(n,e,s,"current"===o,i.resumeToken)),n.isPrimaryClient&&t&&Rg(n.remoteStore,i),a})).apply(this,arguments)}function Jx(){return Jx=D(function*(n,e,t,r,i){n.Ka=(f,p,g)=>{return(y=D(function*(w,N,R,O){let F=N.view.ma(R);F.ns&&(F=yield Sg(w.localStore,N.query,!1).then(({documents:v})=>N.view.ma(v,F)));const j=O&&O.targetChanges.get(N.targetId),W=O&&null!=O.targetMismatches.get(N.targetId),M=N.view.applyChanges(F,w.isPrimaryClient,j,W);return cD(w,N.targetId,M.wa),M.snapshot}),function C(w,N,R,O){return y.apply(this,arguments)})(n,f,p,g);var y};const s=yield Sg(n.localStore,e,!0),o=new wie(e,s.Ts),a=o.ma(s.documents),c=r8.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),u=o.applyChanges(a,n.isPrimaryClient,c);cD(n,t,u.wa);const d=new Lnt(e,t,o);return n.Fa.set(e,d),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),u.snapshot}),Jx.apply(this,arguments)}function Ont(n,e,t){return Xx.apply(this,arguments)}function Xx(){return(Xx=D(function*(n,e,t){const r=Te(n),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!Qh(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield Ju(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&Zu(r.remoteStore,i.targetId),s6(r,i.targetId)}).catch(L2))):(s6(r,i.targetId),yield Ju(r.localStore,i.targetId,!0))})).apply(this,arguments)}function knt(n,e){return Zx.apply(this,arguments)}function Zx(){return(Zx=D(function*(n,e){const t=Te(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&1===i.length&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Zu(t.remoteStore,r.targetId))})).apply(this,arguments)}function eD(){return(eD=D(function*(n,e,t){const r=function vD(n){const e=Te(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bnt.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Unt.bind(null,e),e}(n);try{const i=yield function(o,a){const c=Te(o),u=yr.now(),d=a.reduce((g,y)=>g.add(y.key),wt());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",g=>{let y=to(),C=wt();return c.cs.getEntries(g,d).next(w=>{y=w,y.forEach((N,R)=>{R.isValidDocument()||(C=C.add(N))})}).next(()=>c.localDocuments.getOverlayedDocuments(g,y)).next(w=>{f=w;const N=[];for(const R of a){const O=utt(R,f.get(R.key).overlayedDocument);null!=O&&N.push(new vc(R.key,O,mne(O.value.mapValue),ar.exists(!0)))}return c.mutationQueue.addMutationBatch(g,u,N,a)}).next(w=>{p=w;const N=w.applyToLocalDocumentSet(f,C);return c.documentOverlayCache.saveOverlays(g,w.batchId,N)})}).then(()=>({batchId:p.batchId,changes:zne(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,c){let u=o.Ba[o.currentUser.toKey()];u||(u=new $n(lt)),u=u.insert(a,c),o.Ba[o.currentUser.toKey()]=u}(r,i.batchId,t),yield Cc(r,i.changes),yield e6(r.remoteStore)}catch(i){const s=n6(i,"Failed to persist write");t.reject(s)}})).apply(this,arguments)}function Tie(n,e){return tD.apply(this,arguments)}function tD(){return(tD=D(function*(n,e){const t=Te(n);try{const r=yield function nnt(n,e){const t=Te(n),r=e.snapshotVersion;let i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;const a=[];e.targetChanges.forEach((d,f)=>{const p=i.get(f);if(!p)return;a.push(t.Ur.removeMatchingKeys(s,d.removedDocuments,f).next(()=>t.Ur.addMatchingKeys(s,d.addedDocuments,f)));let g=p.withSequenceNumber(s.currentSequenceNumber);var C,w,N;null!==e.targetMismatches.get(f)?g=g.withResumeToken(Ar.EMPTY_BYTE_STRING,qe.min()).withLastLimboFreeSnapshotVersion(qe.min()):d.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(d.resumeToken,r)),i=i.insert(f,g),w=g,N=d,(0===(C=p).resumeToken.approximateByteSize()||w.snapshotVersion.toMicroseconds()-C.snapshotVersion.toMicroseconds()>=3e8||N.addedDocuments.size+N.modifiedDocuments.size+N.removedDocuments.size>0)&&a.push(t.Ur.updateTargetData(s,g))});let c=to(),u=wt();if(e.documentUpdates.forEach(d=>{e.resolvedLimboDocuments.has(d)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(s,d))}),a.push(function Zre(n,e,t){let r=wt(),i=wt();return t.forEach(s=>r=r.add(s)),e.getEntries(n,r).next(s=>{let o=to();return t.forEach((a,c)=>{const u=s.get(a);c.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),c.isNoDocument()&&c.version.isEqual(qe.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!u.isValidDocument()||c.version.compareTo(u.version)>0||0===c.version.compareTo(u.version)&&u.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):le("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",c.version)}),{Ps:o,Is:i}})}(s,o,e.documentUpdates).next(d=>{c=d.Ps,u=d.Is})),!r.isEqual(qe.min())){const d=t.Ur.getLastRemoteSnapshotVersion(s).next(f=>t.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(d)}return H.waitFor(a).next(()=>o.apply(s)).next(()=>t.localDocuments.getLocalViewOfDocuments(s,c,u)).next(()=>c)}).then(s=>(t.os=i,s))}(t.localStore,e);e.targetChanges.forEach((i,s)=>{const o=t.Na.get(s);o&&(je(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?je(o.va):i.removedDocuments.size>0&&(je(o.va),o.va=!1))}),yield Cc(t,r,e)}catch(r){yield L2(r)}})).apply(this,arguments)}function Iie(n,e,t){const r=Te(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.Fa.forEach((s,o)=>{const a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){const c=Te(o);c.onlineState=a;let u=!1;c.queries.forEach((d,f)=>{for(const p of f.j_)p.Z_(a)&&(u=!0)}),u&&Hx(c)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Vnt(n,e,t){return nD.apply(this,arguments)}function nD(){return(nD=D(function*(n,e,t){const r=Te(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.Na.get(e),s=i&&i.key;if(s){let o=new $n(xe.comparator);o=o.insert(s,Yn.newNoDocument(s,qe.min()));const a=wt().add(s),c=new n8(qe.min(),new Map,new $n(lt),o,a);yield Tie(r,c),r.Oa=r.Oa.remove(s),r.Na.delete(e),lD(r)}else yield Ju(r.localStore,e,!1).then(()=>s6(r,e,t)).catch(L2)})).apply(this,arguments)}function Bnt(n,e){return rD.apply(this,arguments)}function rD(){return(rD=D(function*(n,e){const t=Te(n),r=e.batch.batchId;try{const i=yield function tnt(n,e){const t=Te(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,c,u,d){const f=u.batch,p=f.keys();let g=H.resolve();return p.forEach(y=>{g=g.next(()=>d.getEntry(c,y)).next(C=>{const w=u.docVersions.get(y);je(null!==w),C.version.compareTo(w)<0&&(f.applyToRemoteDocument(C,u),C.isValidDocument()&&(C.setReadTime(u.commitVersion),d.addEntry(C)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=wt();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(c=c.add(a.batch.mutations[u].key));return c}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);aD(t,r,null),oD(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Cc(t,i)}catch(i){yield L2(i)}})).apply(this,arguments)}function Unt(n,e,t){return iD.apply(this,arguments)}function iD(){return(iD=D(function*(n,e,t){const r=Te(n);try{const i=yield function(o,a){const c=Te(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let d;return c.mutationQueue.lookupMutationBatch(u,a).next(f=>(je(null!==f),d=f.keys(),c.mutationQueue.removeMutationBatch(u,f))).next(()=>c.mutationQueue.performConsistencyCheck(u)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(u,d,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d)).next(()=>c.localDocuments.getDocuments(u,d))})}(r.localStore,e);aD(r,e,t),oD(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Cc(r,i)}catch(i){yield L2(i)}})).apply(this,arguments)}function oD(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function aD(n,e,t){const r=Te(n);let i=r.Ba[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function s6(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||Mie(n,r)})}function Mie(n,e){n.xa.delete(e.path.canonicalString());const t=n.Oa.get(e);null!==t&&(Zu(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),lD(n))}function cD(n,e,t){for(const r of t)r instanceof bie?(n.La.addReference(r.key,e),$nt(n,r)):r instanceof Cie?(le("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||Mie(n,r.key)):Ne()}function $nt(n,e){const t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(le("SyncEngine","New document in limbo: "+t),n.xa.add(r),lD(n))}function lD(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){const e=n.xa.values().next().value;n.xa.delete(e);const t=new xe(Ut.fromString(e)),r=n.qa.next();n.Na.set(r,new Rnt(t)),n.Oa=n.Oa.insert(t,r),Rg(n.remoteStore,new bc(as(ku(t.path)),r,"TargetPurposeLimboResolution",So.oe))}}function Cc(n,e,t){return uD.apply(this,arguments)}function uD(){return uD=D(function*(n,e,t){const r=Te(n),i=[],s=[],o=[];var a;r.Fa.isEmpty()||(r.Fa.forEach((a,c)=>{o.push(r.Ka(c,e,t).then(u=>{var d;if((u||t)&&r.isPrimaryClient){const f=u?!u.fromCache:null===(d=t?.targetChanges.get(c.targetId))||void 0===d?void 0:d.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(u){i.push(u);const f=ux.Wi(c.targetId,u);s.push(f)}}))}),yield Promise.all(o),r.Ca.d_(i),yield(a=D(function*(u,d){const f=Te(u);try{yield f.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>H.forEach(d,g=>H.forEach(g.$i,y=>f.persistence.referenceDelegate.addReference(p,g.targetId,y)).next(()=>H.forEach(g.Ui,y=>f.persistence.referenceDelegate.removeReference(p,g.targetId,y)))))}catch(p){if(!R2(p))throw p;le("LocalStore","Failed to update sequence numbers: "+p)}for(const p of d){const g=p.targetId;if(!p.fromCache){const y=f.os.get(g),w=y.withLastLimboFreeSnapshotVersion(y.snapshotVersion);f.os=f.os.insert(g,w)}}}),function c(u,d){return a.apply(this,arguments)})(r.localStore,s))}),uD.apply(this,arguments)}function Hnt(n,e){return dD.apply(this,arguments)}function dD(){return(dD=D(function*(n,e){const t=Te(n);if(!t.currentUser.isEqual(e)){le("SyncEngine","User change. New user:",e.toKey());const r=yield Jre(t.localStore,e);t.currentUser=e,(s=t).ka.forEach(a=>{a.forEach(c=>{c.reject(new ue(Y.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.ka.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Cc(t,r.hs)}var s})).apply(this,arguments)}function Gnt(n,e){const t=Te(n),r=t.Na.get(e);if(r&&r.va)return wt().add(r.key);{let i=wt();const s=t.Ma.get(e);if(!s)return i;for(const o of s){const a=t.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function Pg(n){const e=Te(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=Tie.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gnt.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Vnt.bind(null,e),e.Ca.d_=Snt.bind(null,e.eventManager),e.Ca.$a=Ant.bind(null,e.eventManager),e}let o6=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){var r=this;return D(function*(){r.serializer=h8(t.databaseInfo.databaseId),r.sharedClientState=r.Wa(t),r.persistence=r.Ga(t),yield r.persistence.start(),r.localStore=r.za(t),r.gcScheduler=r.ja(t,r.localStore),r.indexBackfillerScheduler=r.Ha(t,r.localStore)})()}ja(t,r){return null}Ha(t,r){return null}za(t){return function Yre(n,e,t,r){return new ent(n,e,t,r)}(this.persistence,new Qre,t.initialUser,this.serializer)}Ga(t){return new ox(Tg.Zr,this.serializer)}Wa(t){return new sie}terminate(){var t=this;return D(function*(){var r,i;null===(r=t.gcScheduler)||void 0===r||r.stop(),null===(i=t.indexBackfillerScheduler)||void 0===i||i.stop(),t.sharedClientState.shutdown(),yield t.persistence.shutdown()})()}}return n.provider={build:()=>new n},n})(),a6=(()=>{class n{initialize(t,r){var i=this;return D(function*(){i.localStore||(i.localStore=t.localStore,i.sharedClientState=t.sharedClientState,i.datastore=i.createDatastore(r),i.remoteStore=i.createRemoteStore(r),i.eventManager=i.createEventManager(r),i.syncEngine=i.createSyncEngine(r,!t.synchronizeTabs),i.sharedClientState.onlineStateHandler=s=>Iie(i.syncEngine,s,1),i.remoteStore.remoteSyncer.handleCredentialChange=Hnt.bind(null,i.syncEngine),yield kx(i.remoteStore,i.syncEngine.isPrimaryClient))})()}createEventManager(t){return new Mnt}createDatastore(t){const r=h8(t.databaseInfo.databaseId),i=new lnt(t.databaseInfo);return new fnt(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return i=this.localStore,s=this.datastore,o=t.asyncQueue,a=r=>Iie(this.syncEngine,r,0),c=oie.D()?new oie:new ont,new pnt(i,s,o,a,c);var i,s,o,a,c}createSyncEngine(t,r){return function(s,o,a,c,u,d,f){const p=new Nnt(s,o,a,c,u,d);return f&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){var t=this;return D(function*(){var r,i,s;yield(s=D(function*(a){const c=Te(a);le("RemoteStore","RemoteStore shutting down."),c.L_.add(5),yield Xu(c),c.k_.shutdown(),c.q_.set("Unknown")}),function o(a){return s.apply(this,arguments)})(t.remoteStore),null===(r=t.datastore)||void 0===r||r.terminate(),null===(i=t.eventManager)||void 0===i||i.terminate()})()}}return n.provider={build:()=>new n},n})();class zg{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):jr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}}class irt{constructor(e,t,r,i,s){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Ti.UNAUTHENTICATED,this.clientId=Ute.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,function(){var a=D(function*(c){le("FirestoreClient","Received user=",c.uid),yield o.authCredentialListener(c),o.user=c});return function(c){return a.apply(this,arguments)}}()),this.appCheckCredentials.start(r,a=>(le("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(D(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=n6(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function CD(n,e){return wD.apply(this,arguments)}function wD(){return wD=D(function*(n,e){n.asyncQueue.verifyOperationInProgress(),le("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=D(function*(s){r.isEqual(s)||(yield Jre(e.localStore,s),r=s)});return function(s){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),wD.apply(this,arguments)}function Lie(n,e){return ED.apply(this,arguments)}function ED(){return(ED=D(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield function TD(n){return ID.apply(this,arguments)}(n);le("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>pie(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>pie(e.remoteStore,i)),n._onlineComponents=e})).apply(this,arguments)}function ID(){return(ID=D(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){le("FirestoreClient","Using user provided OfflineComponentProvider");try{yield CD(n,n._uninitializedComponentsProvider._offline)}catch(e){if(!("FirebaseError"===(i=e).name?i.code===Y.FAILED_PRECONDITION||i.code===Y.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||22===i.code||20===i.code||11===i.code))throw e;ra("Error using user provided cache. Falling back to memory cache: "+e),yield CD(n,new o6)}}else le("FirestoreClient","Using default OfflineComponentProvider"),yield CD(n,new o6);var i;return n._offlineComponents})).apply(this,arguments)}function Og(n){return MD.apply(this,arguments)}function MD(){return(MD=D(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(le("FirestoreClient","Using user provided OnlineComponentProvider"),yield Lie(n,n._uninitializedComponentsProvider._online)):(le("FirestoreClient","Using default OnlineComponentProvider"),yield Lie(n,new a6))),n._onlineComponents})).apply(this,arguments)}function AD(){return(AD=D(function*(n){const e=yield Og(n),t=e.eventManager;return t.onListen=Pnt.bind(null,e.syncEngine),t.onUnlisten=Ont.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=znt.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=knt.bind(null,e.syncEngine),t})).apply(this,arguments)}function zie(n,e,t={}){const r=new Ii;return n.asyncQueue.enqueueAndForget(D(function*(){return function(s,o,a,c,u){const d=new zg({next:p=>{d.Za(),o.enqueueAndForget(()=>function jx(n,e){return $x.apply(this,arguments)}(s,f));const g=p.docs.has(a);!g&&p.fromCache?u.reject(new ue(Y.UNAVAILABLE,"Failed to get document because the client is offline.")):g&&p.fromCache&&c&&"server"===c.source?u.reject(new ue(Y.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(p)},error:p=>u.reject(p)}),f=new qx(ku(a.path),d,{includeMetadataChanges:!0,_a:!0});return function Bx(n,e){return Ux.apply(this,arguments)}(s,f)}(yield function l6(n){return AD.apply(this,arguments)}(n),n.asyncQueue,e,t,r)})),r.promise}function kie(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const Fie=new Map;function xD(n,e,t){if(!t)throw new ue(Y.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Vie(n){if(!xe.isDocumentKey(n))throw new ue(Y.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Bie(n){if(xe.isDocumentKey(n))throw new ue(Y.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function kg(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(r=n).constructor?r.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var r;return"function"==typeof n?"a function":Ne()}function Ot(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ue(Y.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=kg(n);throw new ue(Y.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class jie{constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new ue(Y.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new ue(Y.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function grt(n,e,t,r){if(!0===e&&!0===r)throw new ue(Y.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=kie(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(s){if(void 0!==s.timeoutSeconds){if(isNaN(s.timeoutSeconds))throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ue(Y.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class m8{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new jie({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ue(Y.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new ue(Y.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new jie(e),void 0!==e.credentials&&(this._authCredentials=function(r){if(!r)return new aet;switch(r.type){case"firstParty":return new fet(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ue(Y.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){var e=this;return D(function*(){"notTerminated"===e._terminateTask?yield e._terminate():e._terminateTask="notTerminated"})()}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Fie.get(t);r&&(le("ComponentProvider","Removing Datastore"),Fie.delete(t),r.terminate())}(this),Promise.resolve()}}class Wi{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Wi(this.firestore,e,this._query)}}class Hr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new m1(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Hr(this.firestore,e,this._key)}}class m1 extends Wi{constructor(e,t,r){super(e,t,ku(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Hr(this.firestore,null,new xe(e))}withConverter(e){return new m1(this.firestore,e,this._path)}}function yrt(n,e,...t){if(n=Jr(n),xD("collection","path",e),n instanceof m8){const r=Ut.fromString(e,...t);return Bie(r),new m1(n,null,r)}{if(!(n instanceof Hr||n instanceof m1))throw new ue(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ut.fromString(e,...t));return Bie(r),new m1(n.firestore,null,r)}}function $ie(n,e,...t){if(n=Jr(n),1===arguments.length&&(e=Ute.newId()),xD("doc","path",e),n instanceof m8){const r=Ut.fromString(e,...t);return Vie(r),new Hr(n,null,new xe(r))}{if(!(n instanceof Hr||n instanceof m1))throw new ue(Y.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ut.fromString(e,...t));return Vie(r),new Hr(n.firestore,n instanceof m1?n.converter:null,new xe(r))}}class Gie{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new bx(this,"async_queue_retry"),this.Vu=()=>{const r=Lg();r&&le("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;const t=Lg();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const t=Lg();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const t=new Ii;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){var e=this;return D(function*(){if(0!==e.Pu.length){try{yield e.Pu[0](),e.Pu.shift(),e.t_.reset()}catch(t){if(!R2(t))throw t;le("AsyncQueue","Operation failed with retryable error: "+t)}e.Pu.length>0&&e.t_.Go(()=>e.pu())}})()}gu(e){const t=this.mu.then(()=>(this.du=!0,e().catch(r=>{throw this.Eu=r,this.du=!1,jr("INTERNAL UNHANDLED ERROR: ",function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),a}(r)),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);const i=Vx.createAndSchedule(this,e,t,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Ne()}verifyOperationInProgress(){}wu(){var e=this;return D(function*(){let t;do{t=e.mu,yield t}while(t!==e.mu)})()}Su(e){for(const t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Tu)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const t=this.Tu.indexOf(e);this.Tu.splice(t,1)}}class Nn extends m8{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Gie,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){var e=this;return D(function*(){if(e._firestoreClient){const t=e._firestoreClient.terminate();e._queue=new Gie(t),e._firestoreClient=void 0,yield t}})()}}function brt(n,e){const r="string"==typeof n?n:e||"(default)",i=Df("object"==typeof n?n:Cm(),"firestore").getImmediate({identifier:r});if(!i._initialized){const s=HQ("firestore");s&&function _rt(n,e,t,r={}){var i;const s=(n=Ot(n,m8))._getSettings(),o=`${e}:${t}`;if("firestore.googleapis.com"!==s.host&&s.host!==o&&ra("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,c;if("string"==typeof r.mockUserToken)a=r.mockUserToken,c=Ti.MOCK_USER;else{a=KQ(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new ue(Y.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");c=new Ti(u)}n._authCredentials=new cet(new Vte(a,c))}}(i,...s)}return i}function vr(n){if(n._terminated)throw new ue(Y.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||function qie(n){var e,t,r;const i=n._freezeSettings(),s=(c=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new $et(n._databaseId,c,n._persistenceKey,(d=i).host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,kie(d.experimentalLongPollingOptions),d.useFetchStreams));var c,d;n._componentsProvider||!(null===(t=i.localCache)||void 0===t)&&t._offlineComponentProvider&&!(null===(r=i.localCache)||void 0===r)&&r._onlineComponentProvider&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new irt(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(a){const c=a?._online.build();return{_offline:a?._offline.build(c),_online:c}}(n._componentsProvider))}(n),n._firestoreClient}class z0{constructor(e){this._byteString=e}static fromBase64String(e){try{return new z0(Ar.fromBase64String(e))}catch(t){throw new ue(Y.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new z0(Ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class O0{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new ue(Y.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new sr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class u6{constructor(e){this._methodName=e}}class RD{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ue(Y.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ue(Y.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return lt(this._lat,e._lat)||lt(this._long,e._long)}}class Fg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}const wrt=/^__.*__$/;class Ert{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new vc(e,this.data,this.fieldMask,t,this.fieldTransforms):new ju(e,this.data,t,this.fieldTransforms)}}function Qie(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ne()}}class Vg{constructor(e,t,r,i,s,o){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===s&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new Vg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return jg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(0===e.length)throw this.Bu("Document fields must not be empty");if(Qie(this.Cu)&&wrt.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class Trt{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||h8(e)}Qu(e,t,r,i=!1){return new Vg({Cu:e,methodName:t,qu:r,path:sr.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function k0(n){const e=n._freezeSettings(),t=h8(n._databaseId);return new Trt(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Bg(n,e,t,r,i,s={}){const o=n.Qu(s.merge||s.mergeFields?2:0,e,t,i);VD("Data must be an object, but it was:",o,r);const a=Xie(r,o);let c,u;if(s.merge)c=new eo(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const p=y8(e,f,t);if(!o.contains(p))throw new ue(Y.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);ese(d,p)||d.push(p)}c=new eo(d),u=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,u=o.fieldTransforms;return new Ert(new qi(a),c,u)}function F0(n,e){if(Zie(n=Jr(n)))return VD("Unsupported field value:",e,n),Xie(n,e);if(n instanceof u6)return function(r,i){if(!Qie(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&4!==e.Cu)throw e.Bu("Nested arrays are not supported");return function(r,i){const s=[];let o=0;for(const a of r){let c=F0(a,i.Lu(o));null==c&&(c={nullValue:"NULL_VALUE"}),s.push(c),o++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if(null===(r=Jr(r)))return{nullValue:"NULL_VALUE"};if("number"==typeof r)return Fne(i.serializer,r);if("boolean"==typeof r)return{booleanValue:r};if("string"==typeof r)return{stringValue:r};if(r instanceof Date){const s=yr.fromDate(r);return{timestampValue:Hu(i.serializer,s)}}if(r instanceof yr){const s=new yr(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Hu(i.serializer,s)}}if(r instanceof RD)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof z0)return{bytesValue:ore(i.serializer,r._byteString)};if(r instanceof Hr){const s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:KA(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Fg)return a=i,{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:r.toArray().map(c=>{if("number"!=typeof c)throw a.Bu("VectorValues must only contain numeric values.");return UA(a.serializer,c)})}}}}};var a;throw i.Bu(`Unsupported field value: ${kg(r)}`)}(n,e)}function Xie(n,e){const t={};return ine(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):N2(n,(r,i)=>{const s=F0(i,e.Mu(r));null!=s&&(t[r]=s)}),{mapValue:{fields:t}}}function Zie(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof yr||n instanceof RD||n instanceof z0||n instanceof Hr||n instanceof u6||n instanceof Fg)}function VD(n,e,t){if(!Zie(t)||"object"!=typeof(i=t)||null===i||Object.getPrototypeOf(i)!==Object.prototype&&null!==Object.getPrototypeOf(i)){const r=kg(t);throw e.Bu("an object"===r?n+" a custom object":n+" "+r)}var i}function y8(n,e,t){if((e=Jr(e))instanceof O0)return e._internalPath;if("string"==typeof e)return Ug(n,e);throw jg("Field path arguments must be of type string or ",n,!1,void 0,t)}const Irt=new RegExp("[~\\*/\\[\\]]");function Ug(n,e,t){if(e.search(Irt)>=0)throw jg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new O0(...e.split("."))._internalPath}catch{throw jg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function jg(n,e,t,r,i){const s=r&&!r.isEmpty(),o=void 0!==i;let a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(s||o)&&(c+=" (found",s&&(c+=` in field ${r}`),o&&(c+=` in document ${i}`),c+=")"),new ue(Y.INVALID_ARGUMENT,a+n+c)}function ese(n,e){return n.some(t=>t.isEqual(e))}class v8{constructor(e,t,r,i,s){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new Hr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new Mrt(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field($g("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class Mrt extends v8{data(){return super.data()}}function $g(n,e){return"string"==typeof e?Ug(n,e):e instanceof O0?e._internalPath:e._delegate._internalPath}class ase{convertValue(e,t="none"){switch(z2(e)){case 0:return null;case 1:return e.booleanValue;case 2:return or(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(gc(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ne()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return N2(e,(i,s)=>{r[i]=this.convertValue(s,t)}),r}convertVectorValue(e){var t,r,i;const s=null===(i=null===(r=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===r?void 0:r.values)||void 0===i?void 0:i.map(o=>or(o.doubleValue));return new Fg(s)}convertGeoPoint(e){return new RD(or(e.latitude),or(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=rg(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp($h(e));default:return null}}convertTimestamp(e){const t=mc(e);return new yr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ut.fromString(e);je(yre(r));const i=new E0(r.get(1),r.get(3)),s=new xe(r.popFirst(5));return i.isEqual(t)||jr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),s}}class V0{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class f6 extends v8{constructor(e,t,r,i,s,o){super(e,t,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new Kg(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field($g("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class Kg extends f6{data(e={}){return super.data(e)}}function Drt(n){n=Ot(n,Hr);const e=Ot(n.firestore,Nn);return zie(vr(e),n._key).then(t=>function jD(n,e,t){const r=t.docs.get(e._key),i=new H2(n);return new f6(n,i,e._key,r,new V0(t.hasPendingWrites,t.fromCache),e.converter)}(e,n,t))}class H2 extends ase{constructor(e){super(),this.firestore=e}convertBytes(e){return new z0(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Hr(this.firestore,null,t)}}function Lrt(n){return w8(Ot(n.firestore,Nn),[new $u(n._key,ar.none())])}function Rrt(n,e){const t=Ot(n.firestore,Nn),r=$ie(n),i=function Wg(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return w8(t,[Bg(k0(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,ar.exists(!1))]).then(()=>r)}function w8(n,e){return function(r,i){const s=new Ii;return r.asyncQueue.enqueueAndForget(D(function*(){return function Fnt(n,e,t){return eD.apply(this,arguments)}(yield function SD(n){return Og(n).then(e=>e.syncEngine)}(r),i,s)})),s.promise}(vr(n),e)}!function(e,t=!0){xu=Gl,Hl(new u2("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new Nn(new uet(r.getProvider("auth-internal")),new het(r.getProvider("app-check-internal")),function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ue(Y.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new E0(u.options.projectId,d)}(o,i),o);return s=Object.assign({useFetchStreams:t},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Ui(Fte,"4.7.3",e),Ui(Fte,"4.7.3","esm2017")}();class E8{constructor(e){return e}}const HD=new Me("angularfire2.firestore-instances");function Wrt(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new E8(r)}}const Krt={provide:class Grt{constructor(){return Em("firestore")}},deps:[[new Vi,HD]]},Qrt={provide:E8,useFactory:function qrt(n,e){const t=xE("firestore",n,e);return t&&new E8(t)},deps:[[new Vi,HD],k4]};function Yrt(n,...e){return Ui("angularfire",Nf.full,"fst"),t2([Qrt,Krt,{provide:HD,useFactory:Wrt(n),multi:!0,deps:[pt,tr,Tm,Im,[new Vi,BI],[new Vi,DE],...e]}])}const Jrt=Is(iet,!0),Xrt=Is(Rrt,!0),fse=Is(yrt,!0),Zrt=Is(Lrt,!0),hse=Is($ie,!0),eit=Is(Drt,!0),tit=Is(brt,!0);let GD=(()=>{class n{constructor(t=me(E8)){this.firestore=t}addMove(t){const r=fse(this.firestore,"movimientos");return Xrt(r,t)}getMoves(){const t=fse(this.firestore,"movimientos");return Jrt(t,{idField:"id"})}getEditMove(t){const r=hse(this.firestore,`movimientos/${t}`);return eit(r)}deleteMove(t){const r=hse(this.firestore,`movimientos/${t.id}`);return Zrt(r)}static{this.\u0275fac=function(r){return new(r||n)(de(E8))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class pse{}class nit{}const wc="*";function rit(n,e){return{type:7,name:n,definitions:e,options:{}}}function mse(n,e=null){return{type:4,styles:e,timings:n}}function gse(n,e=null){return{type:2,steps:n,options:e}}function T8(n){return{type:6,styles:n,offset:null}}function qD(n,e,t){return{type:0,name:n,styles:e,options:t}}function _se(n,e,t=null){return{type:1,expr:n,animation:e,options:t}}class I8{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){queueMicrotask(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class yse{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const s=this.players.length;0==s?queueMicrotask(()=>this._onFinish()):this.players.forEach(o=>{o.onDone(()=>{++t==s&&this._onFinish()}),o.onDestroy(()=>{++r==s&&this._onDestroy()}),o.onStart(()=>{++i==s&&this._onStart()})}),this.totalTime=this.players.reduce((o,a)=>Math.max(o,a.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const vse=["toast-component",""];function iit(n,e){if(1&n){const t=Ws();re(0,"button",5),Qe("click",function(){return Oi(t),ki(Ve().remove())}),re(1,"span",6),$e(2,"\xd7"),ie()()}}function sit(n,e){if(1&n&&(Rd(0),$e(1),Nd()),2&n){const t=Ve(2);fe(1),ai("[",t.duplicatesCount+1,"]")}}function oit(n,e){if(1&n&&(re(0,"div"),$e(1),Le(2,sit,2,1,"ng-container",4),ie()),2&n){const t=Ve();ws(t.options.titleClass),qt("aria-label",t.title),fe(1),ai(" ",t.title," "),fe(1),ge("ngIf",t.duplicatesCount)}}function ait(n,e){if(1&n&&Pt(0,"div",7),2&n){const t=Ve();ws(t.options.messageClass),ge("innerHTML",t.message,N7)}}function cit(n,e){if(1&n&&(re(0,"div",8),$e(1),ie()),2&n){const t=Ve();ws(t.options.messageClass),qt("aria-label",t.message),fe(1),ai(" ",t.message," ")}}function lit(n,e){if(1&n&&(re(0,"div"),Pt(1,"div",9),ie()),2&n){const t=Ve();fe(1),_4("width",t.width+"%")}}class git{_attachedHost;component;viewContainerRef;injector;constructor(e,t){this.component=e,this.injector=t}attach(e,t){return this._attachedHost=e,e.attach(this,t)}detach(){const e=this._attachedHost;if(e)return this._attachedHost=void 0,e.detach()}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class _it{_attachedPortal;_disposeFn;attach(e,t){return this._attachedPortal=e,this.attachComponentPortal(e,t)}detach(){this._attachedPortal&&this._attachedPortal.setAttachedHost(),this._attachedPortal=void 0,this._disposeFn&&(this._disposeFn(),this._disposeFn=void 0)}setDisposeFn(e){this._disposeFn=e}}class yit{_overlayRef;componentInstance;duplicatesCount=0;_afterClosed=new xt;_activate=new xt;_manualClose=new xt;_resetTimeout=new xt;_countDuplicate=new xt;constructor(e){this._overlayRef=e}manualClose(){this._manualClose.next(),this._manualClose.complete()}manualClosed(){return this._manualClose.asObservable()}timeoutReset(){return this._resetTimeout.asObservable()}countDuplicate(){return this._countDuplicate.asObservable()}close(){this._overlayRef.detach(),this._afterClosed.next(),this._manualClose.next(),this._afterClosed.complete(),this._manualClose.complete(),this._activate.complete(),this._resetTimeout.complete(),this._countDuplicate.complete()}afterClosed(){return this._afterClosed.asObservable()}isInactive(){return this._activate.isStopped}activate(){this._activate.next(),this._activate.complete()}afterActivate(){return this._activate.asObservable()}onDuplicate(e,t){e&&this._resetTimeout.next(),t&&this._countDuplicate.next(++this.duplicatesCount)}}class Yg{toastId;config;message;title;toastType;toastRef;_onTap=new xt;_onAction=new xt;constructor(e,t,r,i,s,o){this.toastId=e,this.config=t,this.message=r,this.title=i,this.toastType=s,this.toastRef=o,this.toastRef.afterClosed().subscribe(()=>{this._onAction.complete(),this._onTap.complete()})}triggerTap(){this._onTap.next(),this.config.tapToDismiss&&this._onTap.complete()}onTap(){return this._onTap.asObservable()}triggerAction(e){this._onAction.next(e)}onAction(){return this._onAction.asObservable()}}const Cse=new Me("ToastConfig");class vit extends _it{_hostDomElement;_componentFactoryResolver;_appRef;constructor(e,t,r){super(),this._hostDomElement=e,this._componentFactoryResolver=t,this._appRef=r}attachComponentPortal(e,t){const r=this._componentFactoryResolver.resolveComponentFactory(e.component);let i;return i=r.create(e.injector),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.detachView(i.hostView),i.destroy()}),t?this._hostDomElement.insertBefore(this._getComponentRootNode(i),this._hostDomElement.firstChild):this._hostDomElement.appendChild(this._getComponentRootNode(i)),i}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let bit=(()=>{class n{_document=me(Bn);_containerElement;ngOnDestroy(){this._containerElement&&this._containerElement.parentNode&&this._containerElement.parentNode.removeChild(this._containerElement)}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t=this._document.createElement("div");t.classList.add("overlay-container"),t.setAttribute("aria-live","polite"),this._document.body.appendChild(t),this._containerElement=t}static \u0275fac=function(r){return new(r||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();class Cit{_portalHost;constructor(e){this._portalHost=e}attach(e,t=!0){return this._portalHost.attach(e,t)}detach(){return this._portalHost.detach()}}let wit=(()=>{class n{_overlayContainer=me(bit);_componentFactoryResolver=me(Cd);_appRef=me(wa);_document=me(Bn);_paneElements=new Map;create(t,r){return this._createOverlayRef(this.getPaneElement(t,r))}getPaneElement(t="",r){return this._paneElements.get(r)||this._paneElements.set(r,{}),this._paneElements.get(r)[t]||(this._paneElements.get(r)[t]=this._createPaneElement(t,r)),this._paneElements.get(r)[t]}_createPaneElement(t,r){const i=this._document.createElement("div");return i.id="toast-container",i.classList.add(t),i.classList.add("toast-container"),r?r.getContainerElement().appendChild(i):this._overlayContainer.getContainerElement().appendChild(i),i}_createPortalHost(t){return new vit(t,this._componentFactoryResolver,this._appRef)}_createOverlayRef(t){return new Cit(this._createPortalHost(t))}static \u0275fac=function(r){return new(r||n)};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})(),Ec=(()=>{class n{overlay;_injector;sanitizer;ngZone;toastrConfig;currentlyActive=0;toasts=[];overlayContainer;previousToastMessage;index=0;constructor(t,r,i,s,o){this.overlay=r,this._injector=i,this.sanitizer=s,this.ngZone=o,this.toastrConfig={...t.default,...t.config},t.config.iconClasses&&(this.toastrConfig.iconClasses={...t.default.iconClasses,...t.config.iconClasses})}show(t,r,i={},s=""){return this._preBuildNotification(s,t,r,this.applyConfig(i))}success(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.success||"",t,r,this.applyConfig(i))}error(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.error||"",t,r,this.applyConfig(i))}info(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.info||"",t,r,this.applyConfig(i))}warning(t,r,i={}){return this._preBuildNotification(this.toastrConfig.iconClasses.warning||"",t,r,this.applyConfig(i))}clear(t){for(const r of this.toasts)if(void 0!==t){if(r.toastId===t)return void r.toastRef.manualClose()}else r.toastRef.manualClose()}remove(t){const r=this._findToast(t);if(!r||(r.activeToast.toastRef.close(),this.toasts.splice(r.index,1),this.currentlyActive=this.currentlyActive-1,!this.toastrConfig.maxOpened||!this.toasts.length))return!1;if(this.currentlyActive<this.toastrConfig.maxOpened&&this.toasts[this.currentlyActive]){const i=this.toasts[this.currentlyActive].toastRef;i.isInactive()||(this.currentlyActive=this.currentlyActive+1,i.activate())}return!0}findDuplicate(t="",r="",i,s){const{includeTitleDuplicates:o}=this.toastrConfig;for(const a of this.toasts)if((!o||o&&a.title===t)&&a.message===r)return a.toastRef.onDuplicate(i,s),a;return null}applyConfig(t={}){return{...this.toastrConfig,...t}}_findToast(t){for(let r=0;r<this.toasts.length;r++)if(this.toasts[r].toastId===t)return{index:r,activeToast:this.toasts[r]};return null}_preBuildNotification(t,r,i,s){return s.onActivateTick?this.ngZone.run(()=>this._buildNotification(t,r,i,s)):this._buildNotification(t,r,i,s)}_buildNotification(t,r,i,s){if(!s.toastComponent)throw new Error("toastComponent required");const o=this.findDuplicate(i,r,this.toastrConfig.resetTimeoutOnDuplicate&&s.timeOut>0,this.toastrConfig.countDuplicates);if((this.toastrConfig.includeTitleDuplicates&&i||r)&&this.toastrConfig.preventDuplicates&&null!==o)return o;this.previousToastMessage=r;let a=!1;this.toastrConfig.maxOpened&&this.currentlyActive>=this.toastrConfig.maxOpened&&(a=!0,this.toastrConfig.autoDismiss&&this.clear(this.toasts[0].toastId));const c=this.overlay.create(s.positionClass,this.overlayContainer);this.index=this.index+1;let u=r;r&&s.enableHtml&&(u=this.sanitizer.sanitize(vo.HTML,r));const d=new yit(c),f=new Yg(this.index,s,u,i,t,d),g=tr.create({providers:[{provide:Yg,useValue:f}],parent:this._injector}),y=new git(s.toastComponent,g),C=c.attach(y,s.newestOnTop);d.componentInstance=C.instance;const w={toastId:this.index,title:i||"",message:r||"",toastRef:d,onShown:d.afterActivate(),onHidden:d.afterClosed(),onTap:f.onTap(),onAction:f.onAction(),portal:C};return a||(this.currentlyActive=this.currentlyActive+1,setTimeout(()=>{w.toastRef.activate()})),this.toasts.push(w),w}static \u0275fac=function(r){return new(r||n)(de(Cse),de(wit),de(tr),de(GC),de(pt))};static \u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();const Eit={maxOpened:0,autoDismiss:!1,newestOnTop:!0,preventDuplicates:!1,countDuplicates:!1,resetTimeoutOnDuplicate:!1,includeTitleDuplicates:!1,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},closeButton:!1,disableTimeOut:!1,timeOut:5e3,extendedTimeOut:1e3,enableHtml:!1,progressBar:!1,toastClass:"ngx-toastr",positionClass:"toast-top-right",titleClass:"toast-title",messageClass:"toast-message",easing:"ease-in",easeTime:300,tapToDismiss:!0,onActivateTick:!1,progressAnimation:"decreasing",toastComponent:(()=>{class n{toastrService;toastPackage;ngZone;message;title;options;duplicatesCount;originalTimeout;width=-1;toastClasses="";state;get displayStyle(){if("inactive"===this.state.value)return"none"}timeout;intervalId;hideTime;sub;sub1;sub2;sub3;constructor(t,r,i){this.toastrService=t,this.toastPackage=r,this.ngZone=i,this.message=r.message,this.title=r.title,this.options=r.config,this.originalTimeout=r.config.timeOut,this.toastClasses=`${r.toastType} ${r.config.toastClass}`,this.sub=r.toastRef.afterActivate().subscribe(()=>{this.activateToast()}),this.sub1=r.toastRef.manualClosed().subscribe(()=>{this.remove()}),this.sub2=r.toastRef.timeoutReset().subscribe(()=>{this.resetTimeout()}),this.sub3=r.toastRef.countDuplicate().subscribe(s=>{this.duplicatesCount=s}),this.state={value:"inactive",params:{easeTime:this.toastPackage.config.easeTime,easing:"ease-in"}}}ngOnDestroy(){this.sub.unsubscribe(),this.sub1.unsubscribe(),this.sub2.unsubscribe(),this.sub3.unsubscribe(),clearInterval(this.intervalId),clearTimeout(this.timeout)}activateToast(){this.state={...this.state,value:"active"},!0!==this.options.disableTimeOut&&"timeOut"!==this.options.disableTimeOut&&this.options.timeOut&&(this.outsideTimeout(()=>this.remove(),this.options.timeOut),this.hideTime=(new Date).getTime()+this.options.timeOut,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}updateProgress(){if(0===this.width||100===this.width||!this.options.timeOut)return;const t=(new Date).getTime();this.width=(this.hideTime-t)/this.options.timeOut*100,"increasing"===this.options.progressAnimation&&(this.width=100-this.width),this.width<=0&&(this.width=0),this.width>=100&&(this.width=100)}resetTimeout(){clearTimeout(this.timeout),clearInterval(this.intervalId),this.state={...this.state,value:"active"},this.outsideTimeout(()=>this.remove(),this.originalTimeout),this.options.timeOut=this.originalTimeout,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10)}remove(){"removed"!==this.state.value&&(clearTimeout(this.timeout),this.state={...this.state,value:"removed"},this.outsideTimeout(()=>this.toastrService.remove(this.toastPackage.toastId),+this.toastPackage.config.easeTime))}tapToast(){"removed"!==this.state.value&&(this.toastPackage.triggerTap(),this.options.tapToDismiss&&this.remove())}stickAround(){"removed"!==this.state.value&&"extendedTimeOut"!==this.options.disableTimeOut&&(clearTimeout(this.timeout),this.options.timeOut=0,this.hideTime=0,clearInterval(this.intervalId),this.width=0)}delayedHideToast(){!0===this.options.disableTimeOut||"extendedTimeOut"===this.options.disableTimeOut||0===this.options.extendedTimeOut||"removed"===this.state.value||(this.outsideTimeout(()=>this.remove(),this.options.extendedTimeOut),this.options.timeOut=this.options.extendedTimeOut,this.hideTime=(new Date).getTime()+(this.options.timeOut||0),this.width=-1,this.options.progressBar&&this.outsideInterval(()=>this.updateProgress(),10))}outsideTimeout(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.timeout=setTimeout(()=>this.runInsideAngular(t),r)):this.timeout=setTimeout(()=>t(),r)}outsideInterval(t,r){this.ngZone?this.ngZone.runOutsideAngular(()=>this.intervalId=setInterval(()=>this.runInsideAngular(t),r)):this.intervalId=setInterval(()=>t(),r)}runInsideAngular(t){this.ngZone?this.ngZone.run(()=>t()):t()}static \u0275fac=function(r){return new(r||n)(V(Ec),V(Yg),V(pt))};static \u0275cmp=xn({type:n,selectors:[["","toast-component",""]],hostVars:5,hostBindings:function(r,i){1&r&&Qe("click",function(){return i.tapToast()})("mouseenter",function(){return i.stickAround()})("mouseleave",function(){return i.delayedHideToast()}),2&r&&(Db("@flyInOut",i.state),ws(i.toastClasses),_4("display",i.displayStyle))},standalone:!0,features:[Qs],attrs:vse,decls:5,vars:5,consts:[["type","button","class","toast-close-button","aria-label","Close",3,"click",4,"ngIf"],[3,"class",4,"ngIf"],["role","alert",3,"class","innerHTML",4,"ngIf"],["role","alert",3,"class",4,"ngIf"],[4,"ngIf"],["type","button","aria-label","Close",1,"toast-close-button",3,"click"],["aria-hidden","true"],["role","alert",3,"innerHTML"],["role","alert"],[1,"toast-progress"]],template:function(r,i){1&r&&(Le(0,iit,3,0,"button",0),Le(1,oit,3,5,"div",1),Le(2,ait,1,3,"div",2),Le(3,cit,2,4,"div",3),Le(4,lit,2,2,"div",4)),2&r&&(ge("ngIf",i.options.closeButton),fe(1),ge("ngIf",i.title),fe(1),ge("ngIf",i.message&&i.options.enableHtml),fe(1),ge("ngIf",i.message&&!i.options.enableHtml),fe(1),ge("ngIf",i.options.progressBar))},dependencies:[Eo],encapsulation:2,data:{animation:[rit("flyInOut",[qD("inactive",T8({opacity:0})),qD("active",T8({opacity:1})),qD("removed",T8({opacity:0})),_se("inactive => active",mse("{{ easeTime }}ms {{ easing }}")),_se("active => removed",mse("{{ easeTime }}ms {{ easing }}"))])]}})}return n})()},Tit=(n={})=>t2([{provide:Cse,useValue:{default:Eit,config:n}}]);let Iit=(()=>{class n{static forRoot(t={}){return{ngModule:n,providers:[Tit(t)]}}static \u0275fac=function(r){return new(r||n)};static \u0275mod=Gt({type:n});static \u0275inj=kt({})}return n})();function Mit(n,e,t){return(e=function xit(n){var e=function Ait(n,e){if("object"!=typeof n||!n)return n;var t=n[Symbol.toPrimitive];if(void 0!==t){var r=t.call(n,e||"default");if("object"!=typeof r)return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===e?String:Number)(n)}(n,"string");return"symbol"==typeof e?e:e+""}(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function wse(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function he(n){for(var e=1;e<arguments.length;e++){var t=null!=arguments[e]?arguments[e]:{};e%2?wse(Object(t),!0).forEach(function(r){Mit(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):wse(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}const Ese=()=>{};let KD={},Tse={},Ise=null,Mse={mark:Ese,measure:Ese};try{typeof window<"u"&&(KD=window),typeof document<"u"&&(Tse=document),typeof MutationObserver<"u"&&(Ise=MutationObserver),typeof performance<"u"&&(Mse=performance)}catch{}const{userAgent:Sse=""}=KD.navigator||{},q2=KD,Jn=Tse,Ase=Ise,Xg=Mse,Tc=!!Jn.documentElement&&!!Jn.head&&"function"==typeof Jn.addEventListener&&"function"==typeof Jn.createElement,xse=~Sse.indexOf("MSIE")||~Sse.indexOf("Trident/");var Dse={classic:{fa:"solid",fas:"solid","fa-solid":"solid",far:"regular","fa-regular":"regular",fal:"light","fa-light":"light",fat:"thin","fa-thin":"thin",fab:"brands","fa-brands":"brands"},duotone:{fa:"solid",fad:"solid","fa-solid":"solid","fa-duotone":"solid",fadr:"regular","fa-regular":"regular",fadl:"light","fa-light":"light",fadt:"thin","fa-thin":"thin"},sharp:{fa:"solid",fass:"solid","fa-solid":"solid",fasr:"regular","fa-regular":"regular",fasl:"light","fa-light":"light",fast:"thin","fa-thin":"thin"},"sharp-duotone":{fa:"solid",fasds:"solid","fa-solid":"solid",fasdr:"regular","fa-regular":"regular",fasdl:"light","fa-light":"light",fasdt:"thin","fa-thin":"thin"}},Lse=["fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone"],us="classic",Zg="duotone",Rse=[us,Zg,"sharp","sharp-duotone"],kit=new Map([["classic",{defaultShortPrefixId:"fas",defaultStyleId:"solid",styleIds:["solid","regular","light","thin","brands"],futureStyleIds:[],defaultFontWeight:900}],["sharp",{defaultShortPrefixId:"fass",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["duotone",{defaultShortPrefixId:"fad",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}],["sharp-duotone",{defaultShortPrefixId:"fasds",defaultStyleId:"solid",styleIds:["solid","regular","light","thin"],futureStyleIds:[],defaultFontWeight:900}]]),Vit=["fak","fa-kit","fakd","fa-kit-duotone"],jit=["fak","fakd"],e_={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},Git=["fak","fa-kit","fakd","fa-kit-duotone"],QD={classic:{fab:"fa-brands",fad:"fa-duotone",fal:"fa-light",far:"fa-regular",fas:"fa-solid",fat:"fa-thin"},duotone:{fadr:"fa-regular",fadl:"fa-light",fadt:"fa-thin"},sharp:{fass:"fa-solid",fasr:"fa-regular",fasl:"fa-light",fast:"fa-thin"},"sharp-duotone":{fasds:"fa-solid",fasdr:"fa-regular",fasdl:"fa-light",fasdt:"fa-thin"}},YD=["fa","fas","far","fal","fat","fad","fadr","fadl","fadt","fab","fass","fasr","fasl","fast","fasds","fasdr","fasdl","fasdt","fa-classic","fa-duotone","fa-sharp","fa-sharp-duotone","fa-solid","fa-regular","fa-light","fa-thin","fa-duotone","fa-brands"],zse=[1,2,3,4,5,6,7,8,9,10],Jit=zse.concat([11,12,13,14,15,16,17,18,19,20]),Xit=[...Object.keys({classic:["fas","far","fal","fat","fad"],duotone:["fadr","fadl","fadt"],sharp:["fass","fasr","fasl","fast"],"sharp-duotone":["fasds","fasdr","fasdl","fasdt"]}),"solid","regular","light","thin","duotone","brands","2xs","xs","sm","lg","xl","2xl","beat","border","fade","beat-fade","bounce","flip-both","flip-horizontal","flip-vertical","flip","fw","inverse","layers-counter","layers-text","layers","li","pull-left","pull-right","pulse","rotate-180","rotate-270","rotate-90","rotate-by","shake","spin-pulse","spin-reverse","spin","stack-1x","stack-2x","stack","ul",e_.GROUP,e_.SWAP_OPACITY,e_.PRIMARY,e_.SECONDARY].concat(zse.map(n=>"".concat(n,"x"))).concat(Jit.map(n=>"w-".concat(n)));const Ic="___FONT_AWESOME___",JD=16,Ose="fa",kse="svg-inline--fa",B0="data-fa-i2svg",XD="data-fa-pseudo-element",est="data-fa-pseudo-element-pending",ZD="data-prefix",eL="data-icon",Fse="fontawesome-i2svg",tst="async",nst=["HTML","HEAD","STYLE","SCRIPT"],Vse=(()=>{try{return!0}catch{return!1}})();function S8(n){return new Proxy(n,{get:(e,t)=>t in e?e[t]:e[us]})}const Bse=he({},Dse);Bse[us]=he(he(he(he({},{"fa-duotone":"duotone"}),Dse[us]),{fak:"kit","fa-kit":"kit"}),{fakd:"kit-duotone","fa-kit-duotone":"kit-duotone"});const rst=S8(Bse),tL=he({},{classic:{solid:"fas",regular:"far",light:"fal",thin:"fat",brands:"fab"},duotone:{solid:"fad",regular:"fadr",light:"fadl",thin:"fadt"},sharp:{solid:"fass",regular:"fasr",light:"fasl",thin:"fast"},"sharp-duotone":{solid:"fasds",regular:"fasdr",light:"fasdl",thin:"fasdt"}});tL[us]=he(he(he(he({},{duotone:"fad"}),tL[us]),{kit:"fak"}),{"kit-duotone":"fakd"});const Use=S8(tL),nL=he({},QD);nL[us]=he(he({},nL[us]),{fak:"fa-kit"});const rL=S8(nL),iL=he({},{classic:{"fa-brands":"fab","fa-duotone":"fad","fa-light":"fal","fa-regular":"far","fa-solid":"fas","fa-thin":"fat"},duotone:{"fa-regular":"fadr","fa-light":"fadl","fa-thin":"fadt"},sharp:{"fa-solid":"fass","fa-regular":"fasr","fa-light":"fasl","fa-thin":"fast"},"sharp-duotone":{"fa-solid":"fasds","fa-regular":"fasdr","fa-light":"fasdl","fa-thin":"fasdt"}});iL[us]=he(he({},iL[us]),{"fa-kit":"fak"}),S8(iL);const ist=/fa(s|r|l|t|d|dr|dl|dt|b|k|kd|ss|sr|sl|st|sds|sdr|sdl|sdt)?[\-\ ]/,jse="fa-layers-text",sst=/Font ?Awesome ?([56 ]*)(Solid|Regular|Light|Thin|Duotone|Brands|Free|Pro|Sharp Duotone|Sharp|Kit)?.*/i,ast=(S8(he({},{classic:{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},duotone:{900:"fad",400:"fadr",300:"fadl",100:"fadt"},sharp:{900:"fass",400:"fasr",300:"fasl",100:"fast"},"sharp-duotone":{900:"fasds",400:"fasdr",300:"fasdl",100:"fasdt"}})),["class","data-prefix","data-icon","data-fa-transform","data-fa-mask"]),sL={GROUP:"duotone-group",SWAP_OPACITY:"swap-opacity",PRIMARY:"primary",SECONDARY:"secondary"},cst=["kit",...Xit],A8=q2.FontAwesomeConfig||{};Jn&&"function"==typeof Jn.querySelector&&[["data-family-prefix","familyPrefix"],["data-css-prefix","cssPrefix"],["data-family-default","familyDefault"],["data-style-default","styleDefault"],["data-replacement-class","replacementClass"],["data-auto-replace-svg","autoReplaceSvg"],["data-auto-add-css","autoAddCss"],["data-auto-a11y","autoA11y"],["data-search-pseudo-elements","searchPseudoElements"],["data-observe-mutations","observeMutations"],["data-mutate-approach","mutateApproach"],["data-keep-original-source","keepOriginalSource"],["data-measure-performance","measurePerformance"],["data-show-missing-icons","showMissingIcons"]].forEach(e=>{let[t,r]=e;const i=function ust(n){return""===n||"false"!==n&&("true"===n||n)}(function lst(n){var e=Jn.querySelector("script["+n+"]");if(e)return e.getAttribute(n)}(t));null!=i&&(A8[r]=i)});const $se={styleDefault:"solid",familyDefault:us,cssPrefix:Ose,replacementClass:kse,autoReplaceSvg:!0,autoAddCss:!0,autoA11y:!0,searchPseudoElements:!1,observeMutations:!0,mutateApproach:"async",keepOriginalSource:!0,measurePerformance:!1,showMissingIcons:!0};A8.familyPrefix&&(A8.cssPrefix=A8.familyPrefix);const p6=he(he({},$se),A8);p6.autoReplaceSvg||(p6.observeMutations=!1);const We={};Object.keys($se).forEach(n=>{Object.defineProperty(We,n,{enumerable:!0,set:function(e){p6[n]=e,x8.forEach(t=>t(We))},get:function(){return p6[n]}})}),Object.defineProperty(We,"familyPrefix",{enumerable:!0,set:function(n){p6.cssPrefix=n,x8.forEach(e=>e(We))},get:function(){return p6.cssPrefix}}),q2.FontAwesomeConfig=We;const x8=[],W2=JD,g1={size:16,x:0,y:0,rotate:0,flipX:!1,flipY:!1},hst="0123456789abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";function D8(){let n=12,e="";for(;n-- >0;)e+=hst[62*Math.random()|0];return e}function m6(n){const e=[];for(let t=(n||[]).length>>>0;t--;)e[t]=n[t];return e}function oL(n){return n.classList?m6(n.classList):(n.getAttribute("class")||"").split(" ").filter(e=>e)}function Hse(n){return"".concat(n).replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function t_(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,": ").concat(n[t].trim(),";"),"")}function aL(n){return n.size!==g1.size||n.x!==g1.x||n.y!==g1.y||n.rotate!==g1.rotate||n.flipX||n.flipY}var _st=':root, :host {\n  --fa-font-solid: normal 900 1em/1 "Font Awesome 6 Free";\n  --fa-font-regular: normal 400 1em/1 "Font Awesome 6 Free";\n  --fa-font-light: normal 300 1em/1 "Font Awesome 6 Pro";\n  --fa-font-thin: normal 100 1em/1 "Font Awesome 6 Pro";\n  --fa-font-duotone: normal 900 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-regular: normal 400 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-light: normal 300 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-duotone-thin: normal 100 1em/1 "Font Awesome 6 Duotone";\n  --fa-font-brands: normal 400 1em/1 "Font Awesome 6 Brands";\n  --fa-font-sharp-solid: normal 900 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-regular: normal 400 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-light: normal 300 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-thin: normal 100 1em/1 "Font Awesome 6 Sharp";\n  --fa-font-sharp-duotone-solid: normal 900 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-regular: normal 400 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-light: normal 300 1em/1 "Font Awesome 6 Sharp Duotone";\n  --fa-font-sharp-duotone-thin: normal 100 1em/1 "Font Awesome 6 Sharp Duotone";\n}\n\nsvg:not(:root).svg-inline--fa, svg:not(:host).svg-inline--fa {\n  overflow: visible;\n  box-sizing: content-box;\n}\n\n.svg-inline--fa {\n  display: var(--fa-display, inline-block);\n  height: 1em;\n  overflow: visible;\n  vertical-align: -0.125em;\n}\n.svg-inline--fa.fa-2xs {\n  vertical-align: 0.1em;\n}\n.svg-inline--fa.fa-xs {\n  vertical-align: 0em;\n}\n.svg-inline--fa.fa-sm {\n  vertical-align: -0.0714285705em;\n}\n.svg-inline--fa.fa-lg {\n  vertical-align: -0.2em;\n}\n.svg-inline--fa.fa-xl {\n  vertical-align: -0.25em;\n}\n.svg-inline--fa.fa-2xl {\n  vertical-align: -0.3125em;\n}\n.svg-inline--fa.fa-pull-left {\n  margin-right: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-pull-right {\n  margin-left: var(--fa-pull-margin, 0.3em);\n  width: auto;\n}\n.svg-inline--fa.fa-li {\n  width: var(--fa-li-width, 2em);\n  top: 0.25em;\n}\n.svg-inline--fa.fa-fw {\n  width: var(--fa-fw-width, 1.25em);\n}\n\n.fa-layers svg.svg-inline--fa {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n}\n\n.fa-layers-counter, .fa-layers-text {\n  display: inline-block;\n  position: absolute;\n  text-align: center;\n}\n\n.fa-layers {\n  display: inline-block;\n  height: 1em;\n  position: relative;\n  text-align: center;\n  vertical-align: -0.125em;\n  width: 1em;\n}\n.fa-layers svg.svg-inline--fa {\n  transform-origin: center center;\n}\n\n.fa-layers-text {\n  left: 50%;\n  top: 50%;\n  transform: translate(-50%, -50%);\n  transform-origin: center center;\n}\n\n.fa-layers-counter {\n  background-color: var(--fa-counter-background-color, #ff253a);\n  border-radius: var(--fa-counter-border-radius, 1em);\n  box-sizing: border-box;\n  color: var(--fa-inverse, #fff);\n  line-height: var(--fa-counter-line-height, 1);\n  max-width: var(--fa-counter-max-width, 5em);\n  min-width: var(--fa-counter-min-width, 1.5em);\n  overflow: hidden;\n  padding: var(--fa-counter-padding, 0.25em 0.5em);\n  right: var(--fa-right, 0);\n  text-overflow: ellipsis;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-counter-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-bottom-right {\n  bottom: var(--fa-bottom, 0);\n  right: var(--fa-right, 0);\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom right;\n}\n\n.fa-layers-bottom-left {\n  bottom: var(--fa-bottom, 0);\n  left: var(--fa-left, 0);\n  right: auto;\n  top: auto;\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: bottom left;\n}\n\n.fa-layers-top-right {\n  top: var(--fa-top, 0);\n  right: var(--fa-right, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top right;\n}\n\n.fa-layers-top-left {\n  left: var(--fa-left, 0);\n  right: auto;\n  top: var(--fa-top, 0);\n  transform: scale(var(--fa-layers-scale, 0.25));\n  transform-origin: top left;\n}\n\n.fa-1x {\n  font-size: 1em;\n}\n\n.fa-2x {\n  font-size: 2em;\n}\n\n.fa-3x {\n  font-size: 3em;\n}\n\n.fa-4x {\n  font-size: 4em;\n}\n\n.fa-5x {\n  font-size: 5em;\n}\n\n.fa-6x {\n  font-size: 6em;\n}\n\n.fa-7x {\n  font-size: 7em;\n}\n\n.fa-8x {\n  font-size: 8em;\n}\n\n.fa-9x {\n  font-size: 9em;\n}\n\n.fa-10x {\n  font-size: 10em;\n}\n\n.fa-2xs {\n  font-size: 0.625em;\n  line-height: 0.1em;\n  vertical-align: 0.225em;\n}\n\n.fa-xs {\n  font-size: 0.75em;\n  line-height: 0.0833333337em;\n  vertical-align: 0.125em;\n}\n\n.fa-sm {\n  font-size: 0.875em;\n  line-height: 0.0714285718em;\n  vertical-align: 0.0535714295em;\n}\n\n.fa-lg {\n  font-size: 1.25em;\n  line-height: 0.05em;\n  vertical-align: -0.075em;\n}\n\n.fa-xl {\n  font-size: 1.5em;\n  line-height: 0.0416666682em;\n  vertical-align: -0.125em;\n}\n\n.fa-2xl {\n  font-size: 2em;\n  line-height: 0.03125em;\n  vertical-align: -0.1875em;\n}\n\n.fa-fw {\n  text-align: center;\n  width: 1.25em;\n}\n\n.fa-ul {\n  list-style-type: none;\n  margin-left: var(--fa-li-margin, 2.5em);\n  padding-left: 0;\n}\n.fa-ul > li {\n  position: relative;\n}\n\n.fa-li {\n  left: calc(-1 * var(--fa-li-width, 2em));\n  position: absolute;\n  text-align: center;\n  width: var(--fa-li-width, 2em);\n  line-height: inherit;\n}\n\n.fa-border {\n  border-color: var(--fa-border-color, #eee);\n  border-radius: var(--fa-border-radius, 0.1em);\n  border-style: var(--fa-border-style, solid);\n  border-width: var(--fa-border-width, 0.08em);\n  padding: var(--fa-border-padding, 0.2em 0.25em 0.15em);\n}\n\n.fa-pull-left {\n  float: left;\n  margin-right: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-pull-right {\n  float: right;\n  margin-left: var(--fa-pull-margin, 0.3em);\n}\n\n.fa-beat {\n  animation-name: fa-beat;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-bounce {\n  animation-name: fa-bounce;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.28, 0.84, 0.42, 1));\n}\n\n.fa-fade {\n  animation-name: fa-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-beat-fade {\n  animation-name: fa-beat-fade;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, cubic-bezier(0.4, 0, 0.6, 1));\n}\n\n.fa-flip {\n  animation-name: fa-flip;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, ease-in-out);\n}\n\n.fa-shake {\n  animation-name: fa-shake;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin {\n  animation-name: fa-spin;\n  animation-delay: var(--fa-animation-delay, 0s);\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 2s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, linear);\n}\n\n.fa-spin-reverse {\n  --fa-animation-direction: reverse;\n}\n\n.fa-pulse,\n.fa-spin-pulse {\n  animation-name: fa-spin;\n  animation-direction: var(--fa-animation-direction, normal);\n  animation-duration: var(--fa-animation-duration, 1s);\n  animation-iteration-count: var(--fa-animation-iteration-count, infinite);\n  animation-timing-function: var(--fa-animation-timing, steps(8));\n}\n\n@media (prefers-reduced-motion: reduce) {\n  .fa-beat,\n.fa-bounce,\n.fa-fade,\n.fa-beat-fade,\n.fa-flip,\n.fa-pulse,\n.fa-shake,\n.fa-spin,\n.fa-spin-pulse {\n    animation-delay: -1ms;\n    animation-duration: 1ms;\n    animation-iteration-count: 1;\n    transition-delay: 0s;\n    transition-duration: 0s;\n  }\n}\n@keyframes fa-beat {\n  0%, 90% {\n    transform: scale(1);\n  }\n  45% {\n    transform: scale(var(--fa-beat-scale, 1.25));\n  }\n}\n@keyframes fa-bounce {\n  0% {\n    transform: scale(1, 1) translateY(0);\n  }\n  10% {\n    transform: scale(var(--fa-bounce-start-scale-x, 1.1), var(--fa-bounce-start-scale-y, 0.9)) translateY(0);\n  }\n  30% {\n    transform: scale(var(--fa-bounce-jump-scale-x, 0.9), var(--fa-bounce-jump-scale-y, 1.1)) translateY(var(--fa-bounce-height, -0.5em));\n  }\n  50% {\n    transform: scale(var(--fa-bounce-land-scale-x, 1.05), var(--fa-bounce-land-scale-y, 0.95)) translateY(0);\n  }\n  57% {\n    transform: scale(1, 1) translateY(var(--fa-bounce-rebound, -0.125em));\n  }\n  64% {\n    transform: scale(1, 1) translateY(0);\n  }\n  100% {\n    transform: scale(1, 1) translateY(0);\n  }\n}\n@keyframes fa-fade {\n  50% {\n    opacity: var(--fa-fade-opacity, 0.4);\n  }\n}\n@keyframes fa-beat-fade {\n  0%, 100% {\n    opacity: var(--fa-beat-fade-opacity, 0.4);\n    transform: scale(1);\n  }\n  50% {\n    opacity: 1;\n    transform: scale(var(--fa-beat-fade-scale, 1.125));\n  }\n}\n@keyframes fa-flip {\n  50% {\n    transform: rotate3d(var(--fa-flip-x, 0), var(--fa-flip-y, 1), var(--fa-flip-z, 0), var(--fa-flip-angle, -180deg));\n  }\n}\n@keyframes fa-shake {\n  0% {\n    transform: rotate(-15deg);\n  }\n  4% {\n    transform: rotate(15deg);\n  }\n  8%, 24% {\n    transform: rotate(-18deg);\n  }\n  12%, 28% {\n    transform: rotate(18deg);\n  }\n  16% {\n    transform: rotate(-22deg);\n  }\n  20% {\n    transform: rotate(22deg);\n  }\n  32% {\n    transform: rotate(-12deg);\n  }\n  36% {\n    transform: rotate(12deg);\n  }\n  40%, 100% {\n    transform: rotate(0deg);\n  }\n}\n@keyframes fa-spin {\n  0% {\n    transform: rotate(0deg);\n  }\n  100% {\n    transform: rotate(360deg);\n  }\n}\n.fa-rotate-90 {\n  transform: rotate(90deg);\n}\n\n.fa-rotate-180 {\n  transform: rotate(180deg);\n}\n\n.fa-rotate-270 {\n  transform: rotate(270deg);\n}\n\n.fa-flip-horizontal {\n  transform: scale(-1, 1);\n}\n\n.fa-flip-vertical {\n  transform: scale(1, -1);\n}\n\n.fa-flip-both,\n.fa-flip-horizontal.fa-flip-vertical {\n  transform: scale(-1, -1);\n}\n\n.fa-rotate-by {\n  transform: rotate(var(--fa-rotate-angle, 0));\n}\n\n.fa-stack {\n  display: inline-block;\n  vertical-align: middle;\n  height: 2em;\n  position: relative;\n  width: 2.5em;\n}\n\n.fa-stack-1x,\n.fa-stack-2x {\n  bottom: 0;\n  left: 0;\n  margin: auto;\n  position: absolute;\n  right: 0;\n  top: 0;\n  z-index: var(--fa-stack-z-index, auto);\n}\n\n.svg-inline--fa.fa-stack-1x {\n  height: 1em;\n  width: 1.25em;\n}\n.svg-inline--fa.fa-stack-2x {\n  height: 2em;\n  width: 2.5em;\n}\n\n.fa-inverse {\n  color: var(--fa-inverse, #fff);\n}\n\n.sr-only,\n.fa-sr-only {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.sr-only-focusable:not(:focus),\n.fa-sr-only-focusable:not(:focus) {\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  margin: -1px;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  border-width: 0;\n}\n\n.svg-inline--fa .fa-primary {\n  fill: var(--fa-primary-color, currentColor);\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa .fa-secondary {\n  fill: var(--fa-secondary-color, currentColor);\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-primary {\n  opacity: var(--fa-secondary-opacity, 0.4);\n}\n\n.svg-inline--fa.fa-swap-opacity .fa-secondary {\n  opacity: var(--fa-primary-opacity, 1);\n}\n\n.svg-inline--fa mask .fa-primary,\n.svg-inline--fa mask .fa-secondary {\n  fill: black;\n}';function Gse(){const n=Ose,e=kse,t=We.cssPrefix,r=We.replacementClass;let i=_st;if(t!==n||r!==e){const s=new RegExp("\\.".concat(n,"\\-"),"g"),o=new RegExp("\\--".concat(n,"\\-"),"g"),a=new RegExp("\\.".concat(e),"g");i=i.replace(s,".".concat(t,"-")).replace(o,"--".concat(t,"-")).replace(a,".".concat(r))}return i}let qse=!1;function cL(){We.autoAddCss&&!qse&&(function fst(n){if(!n||!Tc)return;const e=Jn.createElement("style");e.setAttribute("type","text/css"),e.innerHTML=n;const t=Jn.head.childNodes;let r=null;for(let i=t.length-1;i>-1;i--){const s=t[i],o=(s.tagName||"").toUpperCase();["STYLE","LINK"].indexOf(o)>-1&&(r=s)}Jn.head.insertBefore(e,r)}(Gse()),qse=!0)}var yst={mixout:()=>({dom:{css:Gse,insertCss:cL}}),hooks:()=>({beforeDOMElementCreation(){cL()},beforeI2svg(){cL()}})};const Mc=q2||{};Mc[Ic]||(Mc[Ic]={}),Mc[Ic].styles||(Mc[Ic].styles={}),Mc[Ic].hooks||(Mc[Ic].hooks={}),Mc[Ic].shims||(Mc[Ic].shims=[]);var _1=Mc[Ic];const Wse=[],Kse=function(){Jn.removeEventListener("DOMContentLoaded",Kse),n_=1,Wse.map(n=>n())};let n_=!1;function L8(n){const{tag:e,attributes:t={},children:r=[]}=n;return"string"==typeof n?Hse(n):"<".concat(e," ").concat(function pst(n){return Object.keys(n||{}).reduce((e,t)=>e+"".concat(t,'="').concat(Hse(n[t]),'" '),"").trim()}(t),">").concat(r.map(L8).join(""),"</").concat(e,">")}function Qse(n,e,t){if(n&&n[e]&&n[e][t])return{prefix:e,iconName:t,icon:n[e][t]}}Tc&&(n_=(Jn.documentElement.doScroll?/^loaded|^c/:/^loaded|^i|^c/).test(Jn.readyState),n_||Jn.addEventListener("DOMContentLoaded",Kse));var lL=function(e,t,r,i){var c,u,d,s=Object.keys(e),o=s.length,a=void 0!==i?function(e,t){return function(r,i,s,o){return e.call(t,r,i,s,o)}}(t,i):t;for(void 0===r?(c=1,d=e[s[0]]):(c=0,d=r);c<o;c++)d=a(d,e[u=s[c]],u,e);return d};function uL(n){const e=function Cst(n){const e=[];let t=0;const r=n.length;for(;t<r;){const i=n.charCodeAt(t++);if(i>=55296&&i<=56319&&t<r){const s=n.charCodeAt(t++);56320==(64512&s)?e.push(((1023&i)<<10)+(1023&s)+65536):(e.push(i),t--)}else e.push(i)}return e}(n);return 1===e.length?e[0].toString(16):null}function Yse(n){return Object.keys(n).reduce((e,t)=>{const r=n[t];return r.icon?e[r.iconName]=r.icon:e[t]=r,e},{})}function dL(n,e){let t=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{skipHooks:r=!1}=t,i=Yse(e);"function"!=typeof _1.hooks.addPack||r?_1.styles[n]=he(he({},_1.styles[n]||{}),i):_1.hooks.addPack(n,Yse(e)),"fas"===n&&dL("fa",e)}const{styles:R8,shims:Est}=_1,Jse=Object.keys(rL),Tst=Jse.reduce((n,e)=>(n[e]=Object.keys(rL[e]),n),{});let fL=null,Xse={},Zse={},eoe={},toe={},noe={};const roe=()=>{const n=r=>lL(R8,(i,s,o)=>(i[o]=lL(s,r,{}),i),{});Xse=n((r,i,s)=>(i[3]&&(r[i[3]]=s),i[2]&&i[2].filter(a=>"number"==typeof a).forEach(a=>{r[a.toString(16)]=s}),r)),Zse=n((r,i,s)=>(r[s]=s,i[2]&&i[2].filter(a=>"string"==typeof a).forEach(a=>{r[a]=s}),r)),noe=n((r,i,s)=>{const o=i[2];return r[s]=s,o.forEach(a=>{r[a]=s}),r});const e="far"in R8||We.autoFetchSvg,t=lL(Est,(r,i)=>{const s=i[0];let o=i[1];const a=i[2];return"far"===o&&!e&&(o="fas"),"string"==typeof s&&(r.names[s]={prefix:o,iconName:a}),"number"==typeof s&&(r.unicodes[s.toString(16)]={prefix:o,iconName:a}),r},{names:{},unicodes:{}});eoe=t.names,toe=t.unicodes,fL=r_(We.styleDefault,{family:We.familyDefault})};function hL(n,e){return(Xse[n]||{})[e]}function U0(n,e){return(noe[n]||{})[e]}function ioe(n){return eoe[n]||{prefix:null,iconName:null}}function K2(){return fL}(function dst(n){x8.push(n)})(n=>{fL=r_(n.styleDefault,{family:We.familyDefault})}),roe();const soe=()=>({prefix:null,iconName:null,rest:[]});function r_(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{family:t=us}=e;return t!==Zg||n?Use[t][n]||Use[t][rst[t][n]]||(n in _1.styles?n:null)||null:"fad"}function ooe(n){return n.sort().filter((e,t,r)=>r.indexOf(e)===t)}function i_(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{skipLookups:t=!1}=e;let r=null;const i=YD.concat(Git),s=ooe(n.filter(f=>i.includes(f))),o=ooe(n.filter(f=>!YD.includes(f))),a=s.filter(f=>(r=f,!Lse.includes(f))),[c=null]=a,u=function xst(n){let e=us;const t=Jse.reduce((r,i)=>(r[i]="".concat(We.cssPrefix,"-").concat(i),r),{});return Rse.forEach(r=>{(n.includes(t[r])||n.some(i=>Tst[r].includes(i)))&&(e=r)}),e}(s),d=he(he({},function Dst(n){let e=[],t=null;return n.forEach(r=>{const i=function Mst(n,e){const t=e.split("-"),r=t[0],i=t.slice(1).join("-");return r!==n||""===i||function Ist(n){return~cst.indexOf(n)}(i)?null:i}(We.cssPrefix,r);i?t=i:r&&e.push(r)}),{iconName:t,rest:e}}(o)),{},{prefix:r_(c,{family:u})});return he(he(he({},d),function Pst(n){const{values:e,family:t,canonical:r,givenPrefix:i="",styles:s={},config:o={}}=n,a=t===Zg,c=e.includes("fa-duotone")||e.includes("fad");if(!a&&(c||"duotone"===o.familyDefault||("fad"===r.prefix||"fa-duotone"===r.prefix))&&(r.prefix="fad"),(e.includes("fa-brands")||e.includes("fab"))&&(r.prefix="fab"),!r.prefix&&Rst.includes(t)&&(Object.keys(s).find(p=>Nst.includes(p))||o.autoFetchSvg)){const p=kit.get(t).defaultShortPrefixId;r.prefix=p,r.iconName=U0(r.prefix,r.iconName)||r.iconName}return("fa"===r.prefix||"fa"===i)&&(r.prefix=K2()||"fas"),r}({values:n,family:u,styles:R8,config:We,canonical:d,givenPrefix:r})),function Lst(n,e,t){let{prefix:r,iconName:i}=t;if(n||!r||!i)return{prefix:r,iconName:i};const s="fa"===e?ioe(i):{},o=U0(r,i);return i=s.iconName||o||i,r=s.prefix||r,"far"===r&&!R8.far&&R8.fas&&!We.autoFetchSvg&&(r="fas"),{prefix:r,iconName:i}}(t,r,d))}const Rst=Rse.filter(n=>n!==us||n!==Zg),Nst=Object.keys(QD).filter(n=>n!==us).map(n=>Object.keys(QD[n])).flat();let aoe=[],g6={};const _6={},Ost=Object.keys(_6);function pL(n,e){for(var t=arguments.length,r=new Array(t>2?t-2:0),i=2;i<t;i++)r[i-2]=arguments[i];return(g6[n]||[]).forEach(o=>{e=o.apply(null,[e,...r])}),e}function j0(n){for(var e=arguments.length,t=new Array(e>1?e-1:0),r=1;r<e;r++)t[r-1]=arguments[r];(g6[n]||[]).forEach(s=>{s.apply(null,t)})}function Q2(){const n=arguments[0],e=Array.prototype.slice.call(arguments,1);return _6[n]?_6[n].apply(null,e):void 0}function mL(n){"fa"===n.prefix&&(n.prefix="fas");let{iconName:e}=n;const t=n.prefix||K2();if(e)return e=U0(t,e)||e,Qse(coe.definitions,t,e)||Qse(_1.styles,t,e)}const coe=new class zst{constructor(){this.definitions={}}add(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];const i=t.reduce(this._pullDefinitions,{});Object.keys(i).forEach(s=>{this.definitions[s]=he(he({},this.definitions[s]||{}),i[s]),dL(s,i[s]);const o=rL[us][s];o&&dL(o,i[s]),roe()})}reset(){this.definitions={}}_pullDefinitions(e,t){const r=t.prefix&&t.iconName&&t.icon?{0:t}:t;return Object.keys(r).map(i=>{const{prefix:s,iconName:o,icon:a}=r[i],c=a[2];e[s]||(e[s]={}),c.length>0&&c.forEach(u=>{"string"==typeof u&&(e[s][u]=a)}),e[s][o]=a}),e}},Ao={noAuto:()=>{We.autoReplaceSvg=!1,We.observeMutations=!1,j0("noAuto")},config:We,dom:{i2svg:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Tc?(j0("beforeI2svg",n),Q2("pseudoElements2svg",n),Q2("i2svg",n)):Promise.reject(new Error("Operation requires a DOM of some kind."))},watch:function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:e}=n;!1===We.autoReplaceSvg&&(We.autoReplaceSvg=!0),We.observeMutations=!0,function vst(n){Tc&&(n_?setTimeout(n,0):Wse.push(n))}(()=>{Fst({autoReplaceSvgRoot:e}),j0("watch",n)})}},parse:{icon:n=>{if(null===n)return null;if("object"==typeof n&&n.prefix&&n.iconName)return{prefix:n.prefix,iconName:U0(n.prefix,n.iconName)||n.iconName};if(Array.isArray(n)&&2===n.length){const e=0===n[1].indexOf("fa-")?n[1].slice(3):n[1],t=r_(n[0]);return{prefix:t,iconName:U0(t,e)||e}}if("string"==typeof n&&(n.indexOf("".concat(We.cssPrefix,"-"))>-1||n.match(ist))){const e=i_(n.split(" "),{skipLookups:!0});return{prefix:e.prefix||K2(),iconName:U0(e.prefix,e.iconName)||e.iconName}}if("string"==typeof n){const e=K2();return{prefix:e,iconName:U0(e,n)||n}}}},library:coe,findIconDefinition:mL,toHtml:L8},Fst=function(){let n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{autoReplaceSvgRoot:e=Jn}=n;(Object.keys(_1.styles).length>0||We.autoFetchSvg)&&Tc&&We.autoReplaceSvg&&Ao.dom.i2svg({node:e})};function s_(n,e){return Object.defineProperty(n,"abstract",{get:e}),Object.defineProperty(n,"html",{get:function(){return n.abstract.map(t=>L8(t))}}),Object.defineProperty(n,"node",{get:function(){if(!Tc)return;const t=Jn.createElement("div");return t.innerHTML=n.html,t.children}}),n}function gL(n){const{icons:{main:e,mask:t},prefix:r,iconName:i,transform:s,symbol:o,title:a,maskId:c,titleId:u,extra:d,watchable:f=!1}=n,{width:p,height:g}=t.found?t:e,y=jit.includes(r),C=[We.replacementClass,i?"".concat(We.cssPrefix,"-").concat(i):""].filter(j=>-1===d.classes.indexOf(j)).filter(j=>""!==j||!!j).concat(d.classes).join(" ");let w={children:[],attributes:he(he({},d.attributes),{},{"data-prefix":r,"data-icon":i,class:C,role:d.attributes.role||"img",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 ".concat(p," ").concat(g)})};const N=y&&!~d.classes.indexOf("fa-fw")?{width:"".concat(p/g*16*.0625,"em")}:{};f&&(w.attributes[B0]=""),a&&(w.children.push({tag:"title",attributes:{id:w.attributes["aria-labelledby"]||"title-".concat(u||D8())},children:[a]}),delete w.attributes.title);const R=he(he({},w),{},{prefix:r,iconName:i,main:e,mask:t,maskId:c,transform:s,symbol:o,styles:he(he({},N),d.styles)}),{children:O,attributes:F}=t.found&&e.found?Q2("generateAbstractMask",R)||{children:[],attributes:{}}:Q2("generateAbstractIcon",R)||{children:[],attributes:{}};return R.children=O,R.attributes=F,o?function Bst(n){let{prefix:e,iconName:t,children:r,attributes:i,symbol:s}=n;const o=!0===s?"".concat(e,"-").concat(We.cssPrefix,"-").concat(t):s;return[{tag:"svg",attributes:{style:"display: none;"},children:[{tag:"symbol",attributes:he(he({},i),{},{id:o}),children:r}]}]}(R):function Vst(n){let{children:e,main:t,mask:r,attributes:i,styles:s,transform:o}=n;if(aL(o)&&t.found&&!r.found){const{width:a,height:c}=t,u={x:a/c/2,y:.5};i.style=t_(he(he({},s),{},{"transform-origin":"".concat(u.x+o.x/16,"em ").concat(u.y+o.y/16,"em")}))}return[{tag:"svg",attributes:i,children:e}]}(R)}function loe(n){const{content:e,width:t,height:r,transform:i,title:s,extra:o,watchable:a=!1}=n,c=he(he(he({},o.attributes),s?{title:s}:{}),{},{class:o.classes.join(" ")});a&&(c[B0]="");const u=he({},o.styles);aL(i)&&(u.transform=function gst(n){let{transform:e,width:t=JD,height:r=JD,startCentered:i=!1}=n,s="";return s+=i&&xse?"translate(".concat(e.x/W2-t/2,"em, ").concat(e.y/W2-r/2,"em) "):i?"translate(calc(-50% + ".concat(e.x/W2,"em), calc(-50% + ").concat(e.y/W2,"em)) "):"translate(".concat(e.x/W2,"em, ").concat(e.y/W2,"em) "),s+="scale(".concat(e.size/W2*(e.flipX?-1:1),", ").concat(e.size/W2*(e.flipY?-1:1),") "),s+="rotate(".concat(e.rotate,"deg) "),s}({transform:i,startCentered:!0,width:t,height:r}),u["-webkit-transform"]=u.transform);const d=t_(u);d.length>0&&(c.style=d);const f=[];return f.push({tag:"span",attributes:c,children:[e]}),s&&f.push({tag:"span",attributes:{class:"sr-only"},children:[s]}),f}const{styles:_L}=_1;function yL(n){const e=n[0],t=n[1],[r]=n.slice(4);let i=null;return i=Array.isArray(r)?{tag:"g",attributes:{class:"".concat(We.cssPrefix,"-").concat(sL.GROUP)},children:[{tag:"path",attributes:{class:"".concat(We.cssPrefix,"-").concat(sL.SECONDARY),fill:"currentColor",d:r[0]}},{tag:"path",attributes:{class:"".concat(We.cssPrefix,"-").concat(sL.PRIMARY),fill:"currentColor",d:r[1]}}]}:{tag:"path",attributes:{fill:"currentColor",d:r}},{found:!0,width:e,height:t,icon:i}}const jst={found:!1,width:512,height:512};function vL(n,e){let t=e;return"fa"===e&&null!==We.styleDefault&&(e=K2()),new Promise((r,i)=>{if("fa"===t){const s=ioe(n)||{};n=s.iconName||n,e=s.prefix||e}if(n&&e&&_L[e]&&_L[e][n])return r(yL(_L[e][n]));(function $st(n,e){!Vse&&!We.showMissingIcons&&n&&console.error('Icon with name "'.concat(n,'" and prefix "').concat(e,'" is missing.'))})(n,e),r(he(he({},jst),{},{icon:We.showMissingIcons&&n&&Q2("missingIconAbstract")||{}}))})}const uoe=()=>{},bL=We.measurePerformance&&Xg&&Xg.mark&&Xg.measure?Xg:{mark:uoe,measure:uoe},N8='FA "6.7.1"',doe=n=>{bL.mark("".concat(N8," ").concat(n," ends")),bL.measure("".concat(N8," ").concat(n),"".concat(N8," ").concat(n," begins"),"".concat(N8," ").concat(n," ends"))};var CL={begin:n=>(bL.mark("".concat(N8," ").concat(n," begins")),()=>doe(n)),end:doe};const o_=()=>{};function foe(n){return"string"==typeof(n.getAttribute?n.getAttribute(B0):null)}function Kst(n){return Jn.createElementNS("http://www.w3.org/2000/svg",n)}function Qst(n){return Jn.createElement(n)}function hoe(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{ceFn:t=("svg"===n.tag?Kst:Qst)}=e;if("string"==typeof n)return Jn.createTextNode(n);const r=t(n.tag);return Object.keys(n.attributes||[]).forEach(function(s){r.setAttribute(s,n.attributes[s])}),(n.children||[]).forEach(function(s){r.appendChild(hoe(s,{ceFn:t}))}),r}const a_={replace:function(n){const e=n[0];if(e.parentNode)if(n[1].forEach(t=>{e.parentNode.insertBefore(hoe(t),e)}),null===e.getAttribute(B0)&&We.keepOriginalSource){let t=Jn.createComment(function Yst(n){let e=" ".concat(n.outerHTML," ");return e="".concat(e,"Font Awesome fontawesome.com "),e}(e));e.parentNode.replaceChild(t,e)}else e.remove()},nest:function(n){const e=n[0],t=n[1];if(~oL(e).indexOf(We.replacementClass))return a_.replace(n);const r=new RegExp("".concat(We.cssPrefix,"-.*"));if(delete t[0].attributes.id,t[0].attributes.class){const s=t[0].attributes.class.split(" ").reduce((o,a)=>(a===We.replacementClass||a.match(r)?o.toSvg.push(a):o.toNode.push(a),o),{toNode:[],toSvg:[]});t[0].attributes.class=s.toSvg.join(" "),0===s.toNode.length?e.removeAttribute("class"):e.setAttribute("class",s.toNode.join(" "))}const i=t.map(s=>L8(s)).join("\n");e.setAttribute(B0,""),e.innerHTML=i}};function poe(n){n()}function moe(n,e){const t="function"==typeof e?e:o_;if(0===n.length)t();else{let r=poe;We.mutateApproach===tst&&(r=q2.requestAnimationFrame||poe),r(()=>{const i=function Wst(){return!0===We.autoReplaceSvg?a_.replace:a_[We.autoReplaceSvg]||a_.replace}(),s=CL.begin("mutate");n.map(i),s(),t()})}}let wL=!1;function goe(){wL=!0}function EL(){wL=!1}let c_=null;function _oe(n){if(!Ase||!We.observeMutations)return;const{treeCallback:e=o_,nodeCallback:t=o_,pseudoElementsCallback:r=o_,observeMutationsRoot:i=Jn}=n;c_=new Ase(s=>{if(wL)return;const o=K2();m6(s).forEach(a=>{if("childList"===a.type&&a.addedNodes.length>0&&!foe(a.addedNodes[0])&&(We.searchPseudoElements&&r(a.target),e(a.target)),"attributes"===a.type&&a.target.parentNode&&We.searchPseudoElements&&r(a.target.parentNode),"attributes"===a.type&&foe(a.target)&&~ast.indexOf(a.attributeName))if("class"===a.attributeName&&function Gst(n){const e=n.getAttribute?n.getAttribute(ZD):null,t=n.getAttribute?n.getAttribute(eL):null;return e&&t}(a.target)){const{prefix:c,iconName:u}=i_(oL(a.target));a.target.setAttribute(ZD,c||o),u&&a.target.setAttribute(eL,u)}else(function qst(n){return n&&n.classList&&n.classList.contains&&n.classList.contains(We.replacementClass)})(a.target)&&t(a.target)})}),Tc&&c_.observe(i,{childList:!0,attributes:!0,characterData:!0,subtree:!0})}function yoe(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{styleParser:!0};const{iconName:t,prefix:r,rest:i}=function Zst(n){const e=n.getAttribute("data-prefix"),t=n.getAttribute("data-icon"),r=void 0!==n.innerText?n.innerText.trim():"";let i=i_(oL(n));return i.prefix||(i.prefix=K2()),e&&t&&(i.prefix=e,i.iconName=t),i.iconName&&i.prefix||(i.prefix&&r.length>0&&(i.iconName=function Sst(n,e){return(Zse[n]||{})[e]}(i.prefix,n.innerText)||hL(i.prefix,uL(n.innerText))),!i.iconName&&We.autoFetchSvg&&n.firstChild&&n.firstChild.nodeType===Node.TEXT_NODE&&(i.iconName=n.firstChild.data)),i}(n),s=function eot(n){const e=m6(n.attributes).reduce((i,s)=>("class"!==i.name&&"style"!==i.name&&(i[s.name]=s.value),i),{}),t=n.getAttribute("title"),r=n.getAttribute("data-fa-title-id");return We.autoA11y&&(t?e["aria-labelledby"]="".concat(We.replacementClass,"-title-").concat(r||D8()):(e["aria-hidden"]="true",e.focusable="false")),e}(n),o=pL("parseNodeAttributes",{},n);let a=e.styleParser?function Xst(n){const e=n.getAttribute("style");let t=[];return e&&(t=e.split(";").reduce((r,i)=>{const s=i.split(":"),o=s[0],a=s.slice(1);return o&&a.length>0&&(r[o]=a.join(":").trim()),r},{})),t}(n):[];return he({iconName:t,title:n.getAttribute("title"),titleId:n.getAttribute("data-fa-title-id"),prefix:r,transform:g1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,symbol:!1,extra:{classes:i,styles:a,attributes:s}},o)}const{styles:not}=_1;function voe(n){const e="nest"===We.autoReplaceSvg?yoe(n,{styleParser:!1}):yoe(n);return~e.extra.classes.indexOf(jse)?Q2("generateLayersText",n,e):Q2("generateSvgReplacementMutation",n,e)}function boe(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Tc)return Promise.resolve();const t=Jn.documentElement.classList,r=d=>t.add("".concat(Fse,"-").concat(d)),i=d=>t.remove("".concat(Fse,"-").concat(d)),s=We.autoFetchSvg?function rot(){return[...Vit,...YD]}():Lse.concat(Object.keys(not));s.includes("fa")||s.push("fa");const o=[".".concat(jse,":not([").concat(B0,"])")].concat(s.map(d=>".".concat(d,":not([").concat(B0,"])"))).join(", ");if(0===o.length)return Promise.resolve();let a=[];try{a=m6(n.querySelectorAll(o))}catch{}if(!(a.length>0))return Promise.resolve();r("pending"),i("complete");const c=CL.begin("onTree"),u=a.reduce((d,f)=>{try{const p=voe(f);p&&d.push(p)}catch(p){Vse||"MissingIcon"===p.name&&console.error(p)}return d},[]);return new Promise((d,f)=>{Promise.all(u).then(p=>{moe(p,()=>{r("active"),r("complete"),i("pending"),"function"==typeof e&&e(),c(),d()})}).catch(p=>{c(),f(p)})})}function iot(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;voe(n).then(t=>{t&&moe([t],e)})}const oot=function(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:t=g1,symbol:r=!1,mask:i=null,maskId:s=null,title:o=null,titleId:a=null,classes:c=[],attributes:u={},styles:d={}}=e;if(!n)return;const{prefix:f,iconName:p,icon:g}=n;return s_(he({type:"icon"},n),()=>(j0("beforeDOMElementCreation",{iconDefinition:n,params:e}),We.autoA11y&&(o?u["aria-labelledby"]="".concat(We.replacementClass,"-title-").concat(a||D8()):(u["aria-hidden"]="true",u.focusable="false")),gL({icons:{main:yL(g),mask:i?yL(i.icon):{found:!1,width:null,height:null,icon:{}}},prefix:f,iconName:p,transform:he(he({},g1),t),symbol:r,title:o,maskId:s,titleId:a,extra:{attributes:u,styles:d,classes:c}})))};var aot={mixout(){return{icon:(n=oot,function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=(e||{}).icon?e:mL(e||{});let{mask:i}=t;return i&&(i=(i||{}).icon?i:mL(i||{})),n(r,he(he({},t),{},{mask:i}))})};var n},hooks:()=>({mutationObserverCallbacks:n=>(n.treeCallback=boe,n.nodeCallback=iot,n)}),provides(n){n.i2svg=function(e){const{node:t=Jn,callback:r=(()=>{})}=e;return boe(t,r)},n.generateSvgReplacementMutation=function(e,t){const{iconName:r,title:i,titleId:s,prefix:o,transform:a,symbol:c,mask:u,maskId:d,extra:f}=t;return new Promise((p,g)=>{Promise.all([vL(r,o),u.iconName?vL(u.iconName,u.prefix):Promise.resolve({found:!1,width:512,height:512,icon:{}})]).then(y=>{let[C,w]=y;p([e,gL({icons:{main:C,mask:w},prefix:o,iconName:r,transform:a,symbol:c,maskId:d,title:i,titleId:s,extra:f,watchable:!0})])}).catch(g)})},n.generateAbstractIcon=function(e){let{children:t,attributes:r,main:i,transform:s,styles:o}=e;const a=t_(o);let c;return a.length>0&&(r.style=a),aL(s)&&(c=Q2("generateAbstractTransformGrouping",{main:i,transform:s,containerWidth:i.width,iconWidth:i.width})),t.push(c||i.icon),{children:t,attributes:r}}}},cot={mixout:()=>({layer(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{classes:t=[]}=e;return s_({type:"layer"},()=>{j0("beforeDOMElementCreation",{assembler:n,params:e});let r=[];return n(i=>{Array.isArray(i)?i.map(s=>{r=r.concat(s.abstract)}):r=r.concat(i.abstract)}),[{tag:"span",attributes:{class:["".concat(We.cssPrefix,"-layers"),...t].join(" ")},children:r}]})}})},lot={mixout:()=>({counter(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{title:t=null,classes:r=[],attributes:i={},styles:s={}}=e;return s_({type:"counter",content:n},()=>(j0("beforeDOMElementCreation",{content:n,params:e}),function Ust(n){const{content:e,title:t,extra:r}=n,i=he(he(he({},r.attributes),t?{title:t}:{}),{},{class:r.classes.join(" ")}),s=t_(r.styles);s.length>0&&(i.style=s);const o=[];return o.push({tag:"span",attributes:i,children:[e]}),t&&o.push({tag:"span",attributes:{class:"sr-only"},children:[t]}),o}({content:n.toString(),title:t,extra:{attributes:i,styles:s,classes:["".concat(We.cssPrefix,"-layers-counter"),...r]}})))}})},uot={mixout:()=>({text(n){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{transform:t=g1,title:r=null,classes:i=[],attributes:s={},styles:o={}}=e;return s_({type:"text",content:n},()=>(j0("beforeDOMElementCreation",{content:n,params:e}),loe({content:n,transform:he(he({},g1),t),title:r,extra:{attributes:s,styles:o,classes:["".concat(We.cssPrefix,"-layers-text"),...i]}})))}}),provides(n){n.generateLayersText=function(e,t){const{title:r,transform:i,extra:s}=t;let o=null,a=null;if(xse){const c=parseInt(getComputedStyle(e).fontSize,10),u=e.getBoundingClientRect();o=u.width/c,a=u.height/c}return We.autoA11y&&!r&&(s.attributes["aria-hidden"]="true"),Promise.resolve([e,loe({content:e.innerHTML,width:o,height:a,transform:i,title:r,extra:s,watchable:!0})])}}};const dot=new RegExp('"',"ug"),Coe=[1105920,1112319],woe=he(he(he(he({},{FontAwesome:{normal:"fas",400:"fas"}}),{"Font Awesome 6 Free":{900:"fas",400:"far"},"Font Awesome 6 Pro":{900:"fas",400:"far",normal:"far",300:"fal",100:"fat"},"Font Awesome 6 Brands":{400:"fab",normal:"fab"},"Font Awesome 6 Duotone":{900:"fad",400:"fadr",normal:"fadr",300:"fadl",100:"fadt"},"Font Awesome 6 Sharp":{900:"fass",400:"fasr",normal:"fasr",300:"fasl",100:"fast"},"Font Awesome 6 Sharp Duotone":{900:"fasds",400:"fasdr",normal:"fasdr",300:"fasdl",100:"fasdt"}}),{"Font Awesome 5 Free":{900:"fas",400:"far"},"Font Awesome 5 Pro":{900:"fas",400:"far",normal:"far",300:"fal"},"Font Awesome 5 Brands":{400:"fab",normal:"fab"},"Font Awesome 5 Duotone":{900:"fad"}}),{"Font Awesome Kit":{400:"fak",normal:"fak"},"Font Awesome Kit Duotone":{400:"fakd",normal:"fakd"}}),TL=Object.keys(woe).reduce((n,e)=>(n[e.toLowerCase()]=woe[e],n),{}),fot=Object.keys(TL).reduce((n,e)=>{const t=TL[e];return n[e]=t[900]||[...Object.entries(t)][0][1],n},{});function Eoe(n,e){const t="".concat(est).concat(e.replace(":","-"));return new Promise((r,i)=>{if(null!==n.getAttribute(t))return r();const o=m6(n.children).filter(p=>p.getAttribute(XD)===e)[0],a=q2.getComputedStyle(n,e),c=a.getPropertyValue("font-family"),u=c.match(sst),d=a.getPropertyValue("font-weight"),f=a.getPropertyValue("content");if(o&&!u)return n.removeChild(o),r();if(u&&"none"!==f&&""!==f){const p=a.getPropertyValue("content");let g=function pot(n,e){const t=n.replace(/^['"]|['"]$/g,"").toLowerCase(),r=parseInt(e),i=isNaN(r)?"normal":r;return(TL[t]||{})[i]||fot[t]}(c,d);const{value:y,isSecondary:C}=function hot(n){const e=n.replace(dot,""),t=function wst(n,e){const t=n.length;let i,r=n.charCodeAt(e);return r>=55296&&r<=56319&&t>e+1&&(i=n.charCodeAt(e+1),i>=56320&&i<=57343)?1024*(r-55296)+i-56320+65536:r}(e,0),r=t>=Coe[0]&&t<=Coe[1],i=2===e.length&&e[0]===e[1];return{value:uL(i?e[0]:e),isSecondary:r||i}}(p),w=u[0].startsWith("FontAwesome");let N=hL(g,y),R=N;if(w){const O=function Ast(n){const e=toe[n],t=hL("fas",n);return e||(t?{prefix:"fas",iconName:t}:null)||{prefix:null,iconName:null}}(y);O.iconName&&O.prefix&&(N=O.iconName,g=O.prefix)}if(!N||C||o&&o.getAttribute(ZD)===g&&o.getAttribute(eL)===R)r();else{n.setAttribute(t,R),o&&n.removeChild(o);const O=function tot(){return{iconName:null,title:null,titleId:null,prefix:null,transform:g1,symbol:!1,mask:{iconName:null,prefix:null,rest:[]},maskId:null,extra:{classes:[],styles:{},attributes:{}}}}(),{extra:F}=O;F.attributes[XD]=e,vL(N,g).then(j=>{const W=gL(he(he({},O),{},{icons:{main:j,mask:soe()},prefix:g,iconName:R,extra:F,watchable:!0})),M=Jn.createElementNS("http://www.w3.org/2000/svg","svg");"::before"===e?n.insertBefore(M,n.firstChild):n.appendChild(M),M.outerHTML=W.map(v=>L8(v)).join("\n"),n.removeAttribute(t),r()}).catch(i)}}else r()})}function mot(n){return Promise.all([Eoe(n,"::before"),Eoe(n,"::after")])}function got(n){return!(n.parentNode===document.head||~nst.indexOf(n.tagName.toUpperCase())||n.getAttribute(XD)||n.parentNode&&"svg"===n.parentNode.tagName)}function Toe(n){if(Tc)return new Promise((e,t)=>{const r=m6(n.querySelectorAll("*")).filter(got).map(mot),i=CL.begin("searchPseudoElements");goe(),Promise.all(r).then(()=>{i(),EL(),e()}).catch(()=>{i(),EL(),t()})})}var _ot={hooks:()=>({mutationObserverCallbacks:n=>(n.pseudoElementsCallback=Toe,n)}),provides(n){n.pseudoElements2svg=function(e){const{node:t=Jn}=e;We.searchPseudoElements&&Toe(t)}}};let Ioe=!1;var yot={mixout:()=>({dom:{unwatch(){goe(),Ioe=!0}}}),hooks:()=>({bootstrap(){_oe(pL("mutationObserverCallbacks",{}))},noAuto(){!function Jst(){c_&&c_.disconnect()}()},watch(n){const{observeMutationsRoot:e}=n;Ioe?EL():_oe(pL("mutationObserverCallbacks",{observeMutationsRoot:e}))}})};const Moe=n=>n.toLowerCase().split(" ").reduce((t,r)=>{const i=r.toLowerCase().split("-"),s=i[0];let o=i.slice(1).join("-");if(s&&"h"===o)return t.flipX=!0,t;if(s&&"v"===o)return t.flipY=!0,t;if(o=parseFloat(o),isNaN(o))return t;switch(s){case"grow":t.size=t.size+o;break;case"shrink":t.size=t.size-o;break;case"left":t.x=t.x-o;break;case"right":t.x=t.x+o;break;case"up":t.y=t.y-o;break;case"down":t.y=t.y+o;break;case"rotate":t.rotate=t.rotate+o}return t},{size:16,x:0,y:0,flipX:!1,flipY:!1,rotate:0});var vot={mixout:()=>({parse:{transform:n=>Moe(n)}}),hooks:()=>({parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-transform");return t&&(n.transform=Moe(t)),n}}),provides(n){n.generateAbstractTransformGrouping=function(e){let{main:t,transform:r,containerWidth:i,iconWidth:s}=e;const o={transform:"translate(".concat(i/2," 256)")},a="translate(".concat(32*r.x,", ").concat(32*r.y,") "),c="scale(".concat(r.size/16*(r.flipX?-1:1),", ").concat(r.size/16*(r.flipY?-1:1),") "),u="rotate(".concat(r.rotate," 0 0)"),p={outer:o,inner:{transform:"".concat(a," ").concat(c," ").concat(u)},path:{transform:"translate(".concat(s/2*-1," -256)")}};return{tag:"g",attributes:he({},p.outer),children:[{tag:"g",attributes:he({},p.inner),children:[{tag:t.icon.tag,children:t.icon.children,attributes:he(he({},t.icon.attributes),p.path)}]}]}}}};const IL={x:0,y:0,width:"100%",height:"100%"};function Soe(n){return n.attributes&&(n.attributes.fill||!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&(n.attributes.fill="black"),n}function bot(n){return"g"===n.tag?n.children:[n]}var Cot={hooks:()=>({parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-mask"),r=t?i_(t.split(" ").map(i=>i.trim())):soe();return r.prefix||(r.prefix=K2()),n.mask=r,n.maskId=e.getAttribute("data-fa-mask-id"),n}}),provides(n){n.generateAbstractMask=function(e){let{children:t,attributes:r,main:i,mask:s,maskId:o,transform:a}=e;const{width:c,icon:u}=i,{width:d,icon:f}=s,p=function mst(n){let{transform:e,containerWidth:t,iconWidth:r}=n;const i={transform:"translate(".concat(t/2," 256)")},s="translate(".concat(32*e.x,", ").concat(32*e.y,") "),o="scale(".concat(e.size/16*(e.flipX?-1:1),", ").concat(e.size/16*(e.flipY?-1:1),") "),a="rotate(".concat(e.rotate," 0 0)");return{outer:i,inner:{transform:"".concat(s," ").concat(o," ").concat(a)},path:{transform:"translate(".concat(r/2*-1," -256)")}}}({transform:a,containerWidth:d,iconWidth:c}),g={tag:"rect",attributes:he(he({},IL),{},{fill:"white"})},y=u.children?{children:u.children.map(Soe)}:{},C={tag:"g",attributes:he({},p.inner),children:[Soe(he({tag:u.tag,attributes:he(he({},u.attributes),p.path)},y))]},w={tag:"g",attributes:he({},p.outer),children:[C]},N="mask-".concat(o||D8()),R="clip-".concat(o||D8()),O={tag:"mask",attributes:he(he({},IL),{},{id:N,maskUnits:"userSpaceOnUse",maskContentUnits:"userSpaceOnUse"}),children:[g,w]},F={tag:"defs",children:[{tag:"clipPath",attributes:{id:R},children:bot(f)},O]};return t.push(F,{tag:"rect",attributes:he({fill:"currentColor","clip-path":"url(#".concat(R,")"),mask:"url(#".concat(N,")")},IL)}),{children:t,attributes:r}}}},wot={provides(n){let e=!1;q2.matchMedia&&(e=q2.matchMedia("(prefers-reduced-motion: reduce)").matches),n.missingIconAbstract=function(){const t=[],r={fill:"currentColor"},i={attributeType:"XML",repeatCount:"indefinite",dur:"2s"};t.push({tag:"path",attributes:he(he({},r),{},{d:"M156.5,447.7l-12.6,29.5c-18.7-9.5-35.9-21.2-51.5-34.9l22.7-22.7C127.6,430.5,141.5,440,156.5,447.7z M40.6,272H8.5 c1.4,21.2,5.4,41.7,11.7,61.1L50,321.2C45.1,305.5,41.8,289,40.6,272z M40.6,240c1.4-18.8,5.2-37,11.1-54.1l-29.5-12.6 C14.7,194.3,10,216.7,8.5,240H40.6z M64.3,156.5c7.8-14.9,17.2-28.8,28.1-41.5L69.7,92.3c-13.7,15.6-25.5,32.8-34.9,51.5 L64.3,156.5z M397,419.6c-13.9,12-29.4,22.3-46.1,30.4l11.9,29.8c20.7-9.9,39.8-22.6,56.9-37.6L397,419.6z M115,92.4 c13.9-12,29.4-22.3,46.1-30.4l-11.9-29.8c-20.7,9.9-39.8,22.6-56.8,37.6L115,92.4z M447.7,355.5c-7.8,14.9-17.2,28.8-28.1,41.5 l22.7,22.7c13.7-15.6,25.5-32.9,34.9-51.5L447.7,355.5z M471.4,272c-1.4,18.8-5.2,37-11.1,54.1l29.5,12.6 c7.5-21.1,12.2-43.5,13.6-66.8H471.4z M321.2,462c-15.7,5-32.2,8.2-49.2,9.4v32.1c21.2-1.4,41.7-5.4,61.1-11.7L321.2,462z M240,471.4c-18.8-1.4-37-5.2-54.1-11.1l-12.6,29.5c21.1,7.5,43.5,12.2,66.8,13.6V471.4z M462,190.8c5,15.7,8.2,32.2,9.4,49.2h32.1 c-1.4-21.2-5.4-41.7-11.7-61.1L462,190.8z M92.4,397c-12-13.9-22.3-29.4-30.4-46.1l-29.8,11.9c9.9,20.7,22.6,39.8,37.6,56.9 L92.4,397z M272,40.6c18.8,1.4,36.9,5.2,54.1,11.1l12.6-29.5C317.7,14.7,295.3,10,272,8.5V40.6z M190.8,50 c15.7-5,32.2-8.2,49.2-9.4V8.5c-21.2,1.4-41.7,5.4-61.1,11.7L190.8,50z M442.3,92.3L419.6,115c12,13.9,22.3,29.4,30.5,46.1 l29.8-11.9C470,128.5,457.3,109.4,442.3,92.3z M397,92.4l22.7-22.7c-15.6-13.7-32.8-25.5-51.5-34.9l-12.6,29.5 C370.4,72.1,384.4,81.5,397,92.4z"})});const s=he(he({},i),{},{attributeName:"opacity"}),o={tag:"circle",attributes:he(he({},r),{},{cx:"256",cy:"364",r:"28"}),children:[]};return e||o.children.push({tag:"animate",attributes:he(he({},i),{},{attributeName:"r",values:"28;14;28;28;14;28;"})},{tag:"animate",attributes:he(he({},s),{},{values:"1;0;1;1;0;1;"})}),t.push(o),t.push({tag:"path",attributes:he(he({},r),{},{opacity:"1",d:"M263.7,312h-16c-6.6,0-12-5.4-12-12c0-71,77.4-63.9,77.4-107.8c0-20-17.8-40.2-57.4-40.2c-29.1,0-44.3,9.6-59.2,28.7 c-3.9,5-11.1,6-16.2,2.4l-13.1-9.2c-5.6-3.9-6.9-11.8-2.6-17.2c21.2-27.2,46.4-44.7,91.2-44.7c52.3,0,97.4,29.8,97.4,80.2 c0,67.6-77.4,63.5-77.4,107.8C275.7,306.6,270.3,312,263.7,312z"}),children:e?[]:[{tag:"animate",attributes:he(he({},s),{},{values:"1;0;0;0;0;1;"})}]}),e||t.push({tag:"path",attributes:he(he({},r),{},{opacity:"0",d:"M232.5,134.5l7,168c0.3,6.4,5.6,11.5,12,11.5h9c6.4,0,11.7-5.1,12-11.5l7-168c0.3-6.8-5.2-12.5-12-12.5h-23 C237.7,122,232.2,127.7,232.5,134.5z"}),children:[{tag:"animate",attributes:he(he({},s),{},{values:"0;0;1;1;0;0;"})}]}),{tag:"g",attributes:{class:"missing"},children:t}}}};!function kst(n,e){let{mixoutsTo:t}=e;aoe=n,g6={},Object.keys(_6).forEach(r=>{-1===Ost.indexOf(r)&&delete _6[r]}),aoe.forEach(r=>{const i=r.mixout?r.mixout():{};if(Object.keys(i).forEach(s=>{"function"==typeof i[s]&&(t[s]=i[s]),"object"==typeof i[s]&&Object.keys(i[s]).forEach(o=>{t[s]||(t[s]={}),t[s][o]=i[s][o]})}),r.hooks){const s=r.hooks();Object.keys(s).forEach(o=>{g6[o]||(g6[o]=[]),g6[o].push(s[o])})}r.provides&&r.provides(_6)})}([yst,aot,cot,lot,uot,_ot,yot,vot,Cot,wot,{hooks:()=>({parseNodeAttributes(n,e){const t=e.getAttribute("data-fa-symbol");return n.symbol=null!==t&&(""===t||t),n}})}],{mixoutsTo:Ao});const Iot=Ao.parse,Mot=Ao.icon,Sot=["*"],Dot=n=>{const e={[`fa-${n.animation}`]:null!=n.animation&&!n.animation.startsWith("spin"),"fa-spin":"spin"===n.animation||"spin-reverse"===n.animation,"fa-spin-pulse":"spin-pulse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-spin-reverse":"spin-reverse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-pulse":"spin-pulse"===n.animation||"spin-pulse-reverse"===n.animation,"fa-fw":n.fixedWidth,"fa-border":n.border,"fa-inverse":n.inverse,"fa-layers-counter":n.counter,"fa-flip-horizontal":"horizontal"===n.flip||"both"===n.flip,"fa-flip-vertical":"vertical"===n.flip||"both"===n.flip,[`fa-${n.size}`]:null!==n.size,[`fa-rotate-${n.rotate}`]:null!==n.rotate,[`fa-pull-${n.pull}`]:null!==n.pull,[`fa-stack-${n.stackItemSize}`]:null!=n.stackItemSize};return Object.keys(e).map(t=>e[t]?t:null).filter(t=>t)};let Not=(()=>{class n{constructor(){this.defaultPrefix="fas",this.fallbackIcon=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Pot=(()=>{class n{constructor(){this.definitions={}}addIcons(...t){for(const r of t){r.prefix in this.definitions||(this.definitions[r.prefix]={}),this.definitions[r.prefix][r.iconName]=r;for(const i of r.icon[2])"string"==typeof i&&(this.definitions[r.prefix][i]=r)}}addIconPacks(...t){for(const r of t){const i=Object.keys(r).map(s=>r[s]);this.addIcons(...i)}}getIconDefinition(t,r){return t in this.definitions&&r in this.definitions[t]?this.definitions[t][r]:null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),zot=(()=>{class n{constructor(){this.stackItemSize="1x"}ngOnChanges(t){if("size"in t)throw new Error('fa-icon is not allowed to customize size when used inside fa-stack. Set size on the enclosing fa-stack instead: <fa-stack size="4x">...</fa-stack>.')}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ve({type:n,selectors:[["fa-icon","stackItemSize",""],["fa-duotone-icon","stackItemSize",""]],inputs:{stackItemSize:"stackItemSize",size:"size"},features:[Qr]})}}return n})(),Oot=(()=>{class n{constructor(t,r){this.renderer=t,this.elementRef=r}ngOnInit(){this.renderer.addClass(this.elementRef.nativeElement,"fa-stack")}ngOnChanges(t){"size"in t&&(null!=t.size.currentValue&&this.renderer.addClass(this.elementRef.nativeElement,`fa-${t.size.currentValue}`),null!=t.size.previousValue&&this.renderer.removeClass(this.elementRef.nativeElement,`fa-${t.size.previousValue}`))}static{this.\u0275fac=function(r){return new(r||n)(V(qs),V(dn))}}static{this.\u0275cmp=xn({type:n,selectors:[["fa-stack"]],inputs:{size:"size"},features:[Qr],ngContentSelectors:Sot,decls:1,vars:0,template:function(r,i){1&r&&(Eb(),Tb(0))},encapsulation:2})}}return n})(),Aoe=(()=>{class n{set spin(t){this.animation=t?"spin":void 0}set pulse(t){this.animation=t?"spin-pulse":void 0}constructor(t,r,i,s,o){this.sanitizer=t,this.config=r,this.iconLibrary=i,this.stackItem=s,this.classes=[],null!=o&&null==s&&console.error('FontAwesome: fa-icon and fa-duotone-icon elements must specify stackItemSize attribute when wrapped into fa-stack. Example: <fa-icon stackItemSize="2x"></fa-icon>.')}ngOnChanges(t){if(null!=this.icon||null!=this.config.fallbackIcon){if(t){const i=this.findIconDefinition(null!=this.icon?this.icon:this.config.fallbackIcon);if(null!=i){const s=this.buildParams();this.renderIcon(i,s)}}}else(()=>{throw new Error("Property `icon` is required for `fa-icon`/`fa-duotone-icon` components.")})()}render(){this.ngOnChanges({})}findIconDefinition(t){const r=((n,e)=>(n=>void 0!==n.prefix&&void 0!==n.iconName)(n)?n:"string"==typeof n?{prefix:e,iconName:n}:{prefix:n[0],iconName:n[1]})(t,this.config.defaultPrefix);return"icon"in r?r:this.iconLibrary.getIconDefinition(r.prefix,r.iconName)??((n=>{throw new Error(`Could not find icon with iconName=${n.iconName} and prefix=${n.prefix} in the icon library.`)})(r),null)}buildParams(){const t={flip:this.flip,animation:this.animation,border:this.border,inverse:this.inverse,size:this.size||null,pull:this.pull||null,rotate:this.rotate||null,fixedWidth:"boolean"==typeof this.fixedWidth?this.fixedWidth:this.config.fixedWidth,stackItemSize:null!=this.stackItem?this.stackItem.stackItemSize:null},r="string"==typeof this.transform?Iot.transform(this.transform):this.transform;return{title:this.title,transform:r,classes:[...Dot(t),...this.classes],mask:null!=this.mask?this.findIconDefinition(this.mask):null,styles:null!=this.styles?this.styles:{},symbol:this.symbol,attributes:{role:this.a11yRole}}}renderIcon(t,r){const i=Mot(t,r);this.renderedIconHTML=this.sanitizer.bypassSecurityTrustHtml(i.html.join("\n"))}static{this.\u0275fac=function(r){return new(r||n)(V(GC),V(Not),V(Pot),V(zot,8),V(Oot,8))}}static{this.\u0275cmp=xn({type:n,selectors:[["fa-icon"]],hostAttrs:[1,"ng-fa-icon"],hostVars:2,hostBindings:function(r,i){2&r&&(Co("innerHTML",i.renderedIconHTML,N7),qt("title",i.title))},inputs:{icon:"icon",title:"title",animation:"animation",spin:"spin",pulse:"pulse",mask:"mask",styles:"styles",flip:"flip",size:"size",pull:"pull",border:"border",inverse:"inverse",symbol:"symbol",rotate:"rotate",fixedWidth:"fixedWidth",classes:"classes",transform:"transform",a11yRole:"a11yRole"},features:[Qr],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return n})(),kot=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({})}}return n})();function Fot(n,e){1&n&&(re(0,"h3",9),$e(1," No hay datos que mostrar. "),ie())}const Vot=function(n){return{backgroundImage:n}},Bot=function(n){return["/editMove/",n]};function Uot(n,e){if(1&n){const t=Ws();re(0,"div",10),Pt(1,"div",11),re(2,"div",12)(3,"h4"),$e(4),ie(),re(5,"p"),$e(6),ie(),re(7,"p"),$e(8),ie(),re(9,"p"),$e(10),Pt(11,"fa-icon",13),ie(),re(12,"fa-icon",14),Qe("click",function(){const s=Oi(t).$implicit;return ki(Ve().onClickEdit(s))}),ie(),re(13,"fa-icon",15),Qe("click",function(){const s=Oi(t).$implicit;return ki(Ve().onClickDelete(s))}),ie()()()}if(2&n){const t=e.$implicit,r=Ve();fe(1),ge("ngStyle",G1(10,Vot,"url("+t.image+")")),fe(3),ai("Name: ",t.name,""),fe(2),ai("Description: ",t.descripcion,""),fe(2),sp("Alias: ",t.alias," / Author: ",t.autor,""),fe(2),ai(" Public: ",t.publico," "),fe(1),ge("icon",r.iconcheck),fe(1),ge("icon",r.iconedit)("routerLink",G1(12,Bot,t.id)),fe(1),ge("icon",r.icontrash)}}let jot=(()=>{class n{constructor(t,r){this.movesService=t,this.toastr=r,this.icontrash=Ow,this.iconedit=Cw,this.iconcheck=iE,this.moves=[{id:"",name:"",alias:"",descripcion:"",autor:"",publico:!1,image:""}]}ngOnInit(){this.movesService.getMoves().subscribe(t=>{this.moves=t}),this.toastr.success("Cargada base de datos","Actualizaci\xf3n",{positionClass:"toast-bottom-right"})}onClickEdit(t){var r=this;return D(function*(){const i=yield r.movesService.getEditMove(t);console.log(i)})()}onClickDelete(t){var r=this;return D(function*(){yield r.movesService.deleteMove(t),r.toastr.error("Movimiento borrado","Irrecuperable",{positionClass:"toast-bottom-right"})})()}static{this.\u0275fac=function(r){return new(r||n)(V(GD),V(Ec))}}static{this.\u0275cmp=xn({type:n,selectors:[["app-list-move"]],decls:12,vars:2,consts:[[1,"container","mt-4"],[1,"card"],[1,"card-body"],[1,"h3"],["routerLink","/create-move",1,"btn","btn-dark","btn-lg","float-end"],["style","margin-top: 20px",4,"ngIf"],[1,"table","mt-4","table-striped"],[1,"moves"],["class","move",4,"ngFor","ngForOf"],[2,"margin-top","20px"],[1,"move"],[1,"image",3,"ngStyle"],[1,"info"],[1,"btn","btn-outline-info","ms-3",3,"icon"],["role","img","title","Edit",1,"btn","btn-outline-info","ms-3",3,"icon","routerLink","click"],["role","img","title","Delete",1,"btn","btn-outline-danger","ms-3",3,"icon","click"]],template:function(r,i){1&r&&(re(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),$e(4," List Moves"),ie(),re(5,"button",4),$e(6," Create Move "),ie(),Le(7,Fot,2,0,"h3",5),re(8,"table",6)(9,"tbody")(10,"div",7),Le(11,Uot,14,14,"div",8),ie()()()()()()),2&r&&(fe(7),ge("ngIf",0==i.moves.length),fe(4),ge("ngForOf",i.moves))},dependencies:[Xa,Eo,Rp,Ul,Aoe],styles:[".move[_ngcontent-%COMP%]{border:1px solid black;border-radius:20px;display:grid;grid-template-columns:6fr 6fr;overflow:hidden;margin-bottom:20px}.move[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{padding:10px 20px}.move[_ngcontent-%COMP%]   .image[_ngcontent-%COMP%]{background-size:cover;background-position:center}"]})}}return n})(),xoe=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(V(qs),V(dn))}}static{this.\u0275dir=ve({type:n})}}return n})(),$0=(()=>{class n extends xoe{static{this.\u0275fac=function(){let t;return function(i){return(t||(t=zr(n)))(i||n)}}()}static{this.\u0275dir=ve({type:n,features:[vn]})}}return n})();const ia=new Me("NgValueAccessor"),Hot={provide:ia,useExisting:Lt(()=>ML),multi:!0};let ML=(()=>{class n extends $0{writeValue(t){this.setProperty("checked",t)}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=zr(n)))(i||n)}}()}static{this.\u0275dir=ve({type:n,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){1&r&&Qe("change",function(o){return i.onChange(o.target.checked)})("blur",function(){return i.onTouched()})},features:[Ln([Hot]),vn]})}}return n})();const Got={provide:ia,useExisting:Lt(()=>H0),multi:!0},Wot=new Me("CompositionEventMode");let H0=(()=>{class n extends xoe{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function qot(){const n=o2()?o2().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(V(qs),V(dn),V(Wot,8))}}static{this.\u0275dir=ve({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){1&r&&Qe("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[Ln([Got]),vn]})}}return n})();function Y2(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Doe(n){return null!=n&&"number"==typeof n.length}const Ki=new Me("NgValidators"),J2=new Me("NgAsyncValidators"),Kot=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class P8{static min(e){return function Loe(n){return e=>{if(Y2(e.value)||Y2(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function Roe(n){return e=>{if(Y2(e.value)||Y2(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return Noe(e)}static requiredTrue(e){return function Poe(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function zoe(n){return Y2(n.value)||Kot.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Ooe(n){return e=>Y2(e.value)||!Doe(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function koe(n){return e=>Doe(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Foe(n){if(!n)return l_;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Y2(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return Hoe(e)}static composeAsync(e){return Goe(e)}}function Noe(n){return Y2(n.value)?{required:!0}:null}function l_(n){return null}function Voe(n){return null!=n}function Boe(n){return Pd(n)?Kr(n):n}function Uoe(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function joe(n,e){return e.map(t=>t(n))}function $oe(n){return n.map(e=>function Qot(n){return!n.validate}(e)?e:t=>e.validate(t))}function Hoe(n){if(!n)return null;const e=n.filter(Voe);return 0==e.length?null:function(t){return Uoe(joe(t,e))}}function SL(n){return null!=n?Hoe($oe(n)):null}function Goe(n){if(!n)return null;const e=n.filter(Voe);return 0==e.length?null:function(t){return function $ot(...n){const e=U5(n),{args:t,keys:r}=tU(n),i=new Qt(s=>{const{length:o}=t;if(!o)return void s.complete();const a=new Array(o);let c=o,u=o;for(let d=0;d<o;d++){let f=!1;ni(t[d]).subscribe(On(s,p=>{f||(f=!0,u--),a[d]=p},()=>c--,void 0,()=>{(!c||!f)&&(u||s.next(r?nU(r,a):a),s.complete())}))}});return e?i.pipe(qC(e)):i}(joe(t,e).map(Boe)).pipe(dt(Uoe))}}function AL(n){return null!=n?Goe($oe(n)):null}function qoe(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Woe(n){return n._rawValidators}function Koe(n){return n._rawAsyncValidators}function xL(n){return n?Array.isArray(n)?n:[n]:[]}function u_(n,e){return Array.isArray(n)?n.includes(e):n===e}function Qoe(n,e){const t=xL(e);return xL(n).forEach(i=>{u_(t,i)||t.push(i)}),t}function Yoe(n,e){return xL(e).filter(t=>!u_(n,t))}class Joe{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=SL(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=AL(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Ss extends Joe{get formDirective(){return null}get path(){return null}}class X2 extends Joe{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class Xoe{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let z8=(()=>{class n extends Xoe{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(V(X2,2))}}static{this.\u0275dir=ve({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){2&r&&fn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[vn]})}}return n})(),O8=(()=>{class n extends Xoe{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(V(Ss,10))}}static{this.\u0275dir=ve({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){2&r&&fn("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[vn]})}}return n})();const k8="VALID",f_="INVALID",y6="PENDING",F8="DISABLED";function RL(n){return(h_(n)?n.validators:n)||null}function NL(n,e){return(h_(e)?e.asyncValidators:n)||null}function h_(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class PL{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===k8}get invalid(){return this.status===f_}get pending(){return this.status==y6}get disabled(){return this.status===F8}get enabled(){return this.status!==F8}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Qoe(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Qoe(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Yoe(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Yoe(e,this._rawAsyncValidators))}hasValidator(e){return u_(this._rawValidators,e)}hasAsyncValidator(e){return u_(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=y6,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=F8,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=k8,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===k8||this.status===y6)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?F8:k8}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=y6,this._hasOwnPendingAsyncValidator=!0;const t=Boe(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new He,this.statusChanges=new He}_calculateStatus(){return this._allControlsDisabled()?F8:this.errors?f_:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(y6)?y6:this._anyControlsHaveStatus(f_)?f_:k8}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){h_(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Zot(n){return Array.isArray(n)?SL(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function eat(n){return Array.isArray(n)?AL(n):n||null}(this._rawAsyncValidators)}}class G0 extends PL{constructor(e,t,r){super(RL(t),NL(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function tae(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new J(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function eae(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new J(1e3,"");if(!r[t])throw new J(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,s)=>{r=t(r,i,s)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const q0=new Me("CallSetDisabledState",{providedIn:"root",factory:()=>V8}),V8="always";function B8(n,e,t=V8){zL(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function rat(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&nae(n,e)})}(n,e),function sat(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function iat(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&nae(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function nat(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function m_(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),__(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function g_(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function zL(n,e){const t=Woe(n);null!==e.validator?n.setValidators(qoe(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Koe(n);null!==e.asyncValidator?n.setAsyncValidators(qoe(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();g_(e._rawValidators,i),g_(e._rawAsyncValidators,i)}function __(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=Woe(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.validator);s.length!==i.length&&(t=!0,n.setValidators(s))}}if(null!==e.asyncValidator){const i=Koe(n);if(Array.isArray(i)&&i.length>0){const s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(t=!0,n.setAsyncValidators(s))}}}const r=()=>{};return g_(e._rawValidators,r),g_(e._rawAsyncValidators,r),t}function nae(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function sae(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function oae(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const xo=class extends PL{constructor(e=null,t,r){super(RL(t),NL(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),h_(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=oae(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){sae(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){sae(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){oae(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let j8=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ve({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),fae=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({})}}return n})();const BL=new Me("NgModelWithFormControlWarning"),vat={provide:Ss,useExisting:Lt(()=>W0)};let W0=(()=>{class n extends Ss{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new He,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(__(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return B8(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){m_(t.control||null,t,!1),function lat(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function iae(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(m_(r||null,t),(n=>n instanceof xo)(i)&&(B8(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function rae(n,e){zL(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function oat(n,e){return __(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){zL(this.form,this),this._oldForm&&__(this._oldForm,this)}_checkFormPresent(){}static{this.\u0275fac=function(r){return new(r||n)(V(Ki,10),V(J2,10),V(q0,8))}}static{this.\u0275dir=ve({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){1&r&&Qe("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Ln([vat]),vn,Qr]})}}return n})();const wat={provide:X2,useExisting:Lt(()=>v6)};let v6=(()=>{class n extends X2{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new He,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function FL(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(s=>{s.constructor===H0?t=s:function cat(n){return Object.getPrototypeOf(n.constructor)===$0}(s)?r=s:i=s}),i||r||t||null}(0,s)}ngOnChanges(t){this._added||this._setUpControl(),function kL(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function p_(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(V(Ss,13),V(Ki,10),V(J2,10),V(ia,10),V(BL,8))}}static{this.\u0275dir=ve({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[Ln([wat]),vn,Qr]})}}return n})(),K0=(()=>{class n{constructor(){this._validator=l_}ngOnChanges(t){if(this.inputName in t){const r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):l_,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return null!=t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=ve({type:n,features:[Qr]})}}return n})();const Lat={provide:Ki,useExisting:Lt(()=>$8),multi:!0};let $8=(()=>{class n extends K0{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=w4,this.createValidator=t=>Noe}enabled(t){return t}static{this.\u0275fac=function(){let t;return function(i){return(t||(t=zr(n)))(i||n)}}()}static{this.\u0275dir=ve({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){2&r&&qt("required",i._enabled?"":null)},inputs:{required:"required"},features:[Ln([Lat]),vn]})}}return n})(),Aae=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({imports:[fae]})}}return n})(),Fat=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:q0,useValue:t.callSetDisabledState??V8}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({imports:[Aae]})}}return n})(),Vat=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:BL,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:q0,useValue:t.callSetDisabledState??V8}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({imports:[Aae]})}}return n})();function Bat(n,e){1&n&&Pt(0,"div",18)}let xae=(()=>{class n{constructor(t,r,i,s){this.movesService=t,this.router=r,this.toastr=i,this.aRoute=s,this.id=null,this.titulo="Create Move",this.submitted=!1,this.loading=!1,this.formulario=new G0({name:new xo("",P8.required),alias:new xo("",P8.required),descripcion:new xo("",P8.required),autor:new xo("",P8.required),publico:new xo,image:new xo("",P8.required)})}ngOnInit(){this.id=this.aRoute.snapshot.paramMap.get("id"),this.esEditar()}enviarFB(){var t=this;return D(function*(){if(t.submitted=!0,t.loading=!0,t.formulario.invalid)return t.toastr.error("Debes rellemar los campos!","Error",{positionClass:"toast-bottom-right"}),void(t.loading=!1);{const r=yield t.movesService.addMove(t.formulario.value);t.toastr.success("Movimiento Guardado con exito!","Todo ok",{positionClass:"toast-bottom-right"}),console.log(r),t.loading=!1,t.router.navigate(["/list-moves"])}})()}esEditar(){null!==this.id&&(this.titulo="Edit Move")}static{this.\u0275fac=function(r){return new(r||n)(V(GD),V(vi),V(Ec),V(Bl))}}static{this.\u0275cmp=xn({type:n,selectors:[["app-create-move"]],decls:25,vars:3,consts:[[1,"container","pt-4"],[1,"row"],[1,"col-lg-6","offset-lg-3"],[1,"card","text-center"],[1,"card-body"],["class","spinner-border text-primary float-end","role","status",4,"ngIf"],[1,"mt-4",3,"formGroup","ngSubmit"],[1,"col"],["type","text","formControlName","name","placeholder","Name",1,"form-control","form-control-lg"],["type","text","formControlName","alias","placeholder","Alias",1,"form-control","form-control-lg"],["type","text","formControlName","descripcion","placeholder","Description",1,"form-control","form-control-lg","mt-3"],["type","text","formControlName","autor","placeholder","Author",1,"form-control","form-control-lg","mt-3"],["type","text","formControlName","image","placeholder","Imagen",1,"form-control","form-control-lg","mt-3"],[1,"fs-4"],["type","checkbox","formControlName","publico","placeholder","Public",1,"Move"],[1,"mt-3"],["type","text","routerLink","/list-moves",1,"btn","btn-secondary","btn-lg","mx-3"],["type","submit",1,"btn","btn-dark","btn-lg"],["role","status",1,"spinner-border","text-primary","float-end"]],template:function(r,i){1&r&&(re(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"h3"),$e(6),Le(7,Bat,1,0,"div",5),ie(),re(8,"form",6),Qe("ngSubmit",function(){return i.enviarFB()}),re(9,"div",1)(10,"div",7),Pt(11,"input",8),ie(),re(12,"div",7),Pt(13,"input",9),ie(),Pt(14,"input",10)(15,"input",11)(16,"input",12),re(17,"label",13),Pt(18,"input",14),$e(19," Public Move"),ie(),re(20,"div",15)(21,"button",16),$e(22," Back "),ie(),re(23,"button",17),$e(24," Create "),ie()()()()()()()()()),2&r&&(fe(6),ai(" ",i.titulo," "),fe(1),ge("ngIf",i.loading),fe(1),ge("formGroup",i.formulario))},dependencies:[Eo,Ul,j8,H0,ML,z8,O8,W0,v6]})}}return n})(),y_=(()=>{class n{constructor(t){this.auth=t}register({email:t,password:r}){return $Ke(this.auth,t,r)}login({email:t,password:r}){return qKe(this.auth,t,r)}loginWithGoogle(){return WKe(this.auth,new Uqe)}logout(){return KKe(this.auth)}forgot({email:t}){return GKe(this.auth,t)}static{this.\u0275fac=function(r){return new(r||n)(de(jm))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();class jat extends xt{constructor(e=1/0,t=1/0,r=SE){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:s,_windowTime:o}=this;t||(r.push(e),!i&&r.push(s.now()+o)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,s=i.slice();for(let o=0;o<s.length&&!e.closed;o+=r?1:2)e.next(s[o]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,s=(i?1:2)*e;if(e<1/0&&s<r.length&&r.splice(0,r.length-s),!i){const o=t.now();let a=0;for(let c=1;c<r.length&&r[c]<=o;c+=2)a=c;a&&r.splice(0,a+1)}}}var n;const Gat=(n=typeof document<"u"&&document.currentScript?document.currentScript.src:void 0,function(e={}){var r,i,t=e;function s(){function T(te){const ee=k;P=b=0,k=new Map,ee.forEach(ne=>{try{ne(te)}catch(X){console.error(X)}}),this.Sa(),B&&B.pb()}let b=0,P=0,k=new Map,B=null,K=null;this.requestAnimationFrame=function(te){b||(b=requestAnimationFrame(T.bind(this)));const ee=++P;return k.set(ee,te),ee},this.cancelAnimationFrame=function(te){k.delete(te),b&&0==k.size&&(cancelAnimationFrame(b),b=0)},this.nb=function(te){K&&(document.body.remove(K),K=null),te||(K=document.createElement("div"),K.style.backgroundColor="black",K.style.position="fixed",K.style.right=0,K.style.top=0,K.style.color="white",K.style.padding="4px",K.innerHTML="RIVE FPS",te=function(ee){K.innerHTML="RIVE FPS "+ee.toFixed(1)},document.body.appendChild(K)),B=new function(){let ee=0,ne=0;this.pb=function(){var X=performance.now();ne?(++ee,1e3<(X-=ne)&&(te(1e3*ee/X),ee=ne=0)):(ne=X,ee=0)}}},this.kb=function(){K&&(document.body.remove(K),K=null),B=null},this.Sa=function(){}}function o(T){console.assert(!0);const b=new Map;let P=-1/0;this.push=function(k){return b.has(k=k+((1<<T)-1)>>T)&&clearTimeout(b.get(k)),b.set(k,setTimeout(function(){b.delete(k),0==b.length?P=-1/0:k==P&&(P=Math.max(...b.keys()),console.assert(P<k))},1e3)),P=Math.max(k,P),P<<T}}t.ready=new Promise((T,b)=>{r=T,i=b});const a="createConicGradient createImageData createLinearGradient createPattern createRadialGradient getContextAttributes getImageData getLineDash getTransform isContextLost isPointInPath isPointInStroke measureText".split(" "),c=new function(){function T(){if(!b){let gn=function(on,Je,_t){if(Je=be.createShader(Je),be.shaderSource(Je,_t),be.compileShader(Je),0<(_t=be.getShaderInfoLog(Je)).length)throw _t;be.attachShader(on,Je)};var Oe=document.createElement("canvas"),ke={alpha:1,depth:0,stencil:0,antialias:0,premultipliedAlpha:1,preserveDrawingBuffer:0,preferLowPowerToHighPerformance:0,failIfMajorPerformanceCaveat:0,enableExtensionsByDefault:1,explicitSwapControl:1,renderViaOffscreenBackBuffer:1};let be=Oe.getContext("webgl2",ke);if(be)P=2;else{if(!(be=Oe.getContext("webgl",ke)))return console.log("No WebGL support. Image mesh will not be drawn."),!1;P=1}if(k=Math.min(be.getParameter(be.MAX_RENDERBUFFER_SIZE),be.getParameter(be.MAX_TEXTURE_SIZE)),gn(Oe=be.createProgram(),be.VERTEX_SHADER,"attribute vec2 vertex;\n                attribute vec2 uv;\n                uniform vec4 mat;\n                uniform vec2 translate;\n                varying vec2 st;\n                void main() {\n                    st = uv;\n                    gl_Position = vec4(mat2(mat) * vertex + translate, 0, 1);\n                }"),gn(Oe,be.FRAGMENT_SHADER,"precision highp float;\n                uniform sampler2D image;\n                varying vec2 st;\n                void main() {\n                    gl_FragColor = texture2D(image, st);\n                }"),be.bindAttribLocation(Oe,0,"vertex"),be.bindAttribLocation(Oe,1,"uv"),be.linkProgram(Oe),0<(ke=be.getProgramInfoLog(Oe)).trim().length)throw ke;B=be.getUniformLocation(Oe,"mat"),K=be.getUniformLocation(Oe,"translate"),be.useProgram(Oe),be.bindBuffer(be.ARRAY_BUFFER,be.createBuffer()),be.enableVertexAttribArray(0),be.enableVertexAttribArray(1),be.bindBuffer(be.ELEMENT_ARRAY_BUFFER,be.createBuffer()),be.uniform1i(be.getUniformLocation(Oe,"image"),0),be.pixelStorei(be.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),b=be}return!0}let b=null,P=0,k=0,B=null,K=null,te=0,ee=0;this.yb=function(){return T(),k},this.ib=function(Oe){if(!T())return null;const ke=b.createTexture();return b.bindTexture(b.TEXTURE_2D,ke),b.texImage2D(b.TEXTURE_2D,0,b.RGBA,b.RGBA,b.UNSIGNED_BYTE,Oe),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_S,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_WRAP_T,b.CLAMP_TO_EDGE),b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MAG_FILTER,b.LINEAR),2==P?(b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR_MIPMAP_LINEAR),b.generateMipmap(b.TEXTURE_2D)):b.texParameteri(b.TEXTURE_2D,b.TEXTURE_MIN_FILTER,b.LINEAR),ke};const ne=new o(8),X=new o(8),ye=new o(10),ze=new o(10);this.mb=function(Oe,ke,be,gn,on){if(T()){var Je=ne.push(Oe),_t=X.push(ke);for(var an of((b.canvas.width!=Je||b.canvas.height!=_t)&&(b.canvas.width=Je,b.canvas.height=_t),b.viewport(0,_t-ke,Oe,ke),b.disable(b.SCISSOR_TEST),b.clearColor(0,0,0,0),b.clear(b.COLOR_BUFFER_BIT),b.enable(b.SCISSOR_TEST),be.sort((It,Xe)=>Xe.Wa-It.Wa),Je=ye.push(gn),te!=Je&&(b.bufferData(b.ARRAY_BUFFER,8*Je,b.DYNAMIC_DRAW),te=Je),Je=0,be))b.bufferSubData(b.ARRAY_BUFFER,Je,an.Fa),Je+=4*an.Fa.length;for(var Zn of(console.assert(Je==4*gn),be))b.bufferSubData(b.ARRAY_BUFFER,Je,Zn.Za),Je+=4*Zn.Za.length;for(var Os of(console.assert(Je==8*gn),Je=ze.push(on),ee!=Je&&(b.bufferData(b.ELEMENT_ARRAY_BUFFER,2*Je,b.DYNAMIC_DRAW),ee=Je),an=0,be))b.bufferSubData(b.ELEMENT_ARRAY_BUFFER,an,Os.indices),an+=2*Os.indices.length;console.assert(an==2*on),Os=0,Zn=!0,Je=an=0;for(const It of be){It.image.Ba!=Os&&(b.bindTexture(b.TEXTURE_2D,It.image.fb||null),Os=It.image.Ba),It.Bb?(b.scissor(It.Ka,_t-It.La-It.Ra,It.Ib,It.Ra),Zn=!0):Zn&&(b.scissor(0,_t-ke,Oe,ke),Zn=!1);const Xe=-2/ke;b.uniform4f(B,It.qa[0]*(be=2/Oe)*It.xa,It.qa[1]*Xe*It.ya,It.qa[2]*be*It.xa,It.qa[3]*Xe*It.ya),b.uniform2f(K,It.qa[4]*be*It.xa+be*(It.Ka-It.zb*It.xa)-1,It.qa[5]*Xe*It.ya+Xe*(It.La-It.Ab*It.ya)+1),b.vertexAttribPointer(0,2,b.FLOAT,!1,0,Je),b.vertexAttribPointer(1,2,b.FLOAT,!1,0,Je+4*gn),b.drawElements(b.TRIANGLES,It.indices.length,b.UNSIGNED_SHORT,an),Je+=4*It.Fa.length,an+=2*It.indices.length}console.assert(Je==4*gn),console.assert(an==2*on)}},this.canvas=function(){return T()&&b.canvas}};t.onRuntimeInitialized=function(){function T(_e){switch(_e){case X.srcOver:return"source-over";case X.screen:return"screen";case X.overlay:return"overlay";case X.darken:return"darken";case X.lighten:return"lighten";case X.colorDodge:return"color-dodge";case X.colorBurn:return"color-burn";case X.hardLight:return"hard-light";case X.softLight:return"soft-light";case X.difference:return"difference";case X.exclusion:return"exclusion";case X.multiply:return"multiply";case X.hue:return"hue";case X.saturation:return"saturation";case X.color:return"color";case X.luminosity:return"luminosity"}}function b(_e){return"rgba("+((16711680&_e)>>>16)+","+((65280&_e)>>>8)+","+((255&_e)>>>0)+","+((4278190080&_e)>>>24)/255+")"}function P(){0<an.length&&(c.mb(_t.drawWidth(),_t.drawHeight(),an,Zn,Os),an=[],Os=Zn=0,_t.reset(512,512));for(const _e of Je){for(const Ke of _e.fa)Ke();_e.fa=[]}Je.clear()}var k=t.RenderPaintStyle;const B=t.RenderPath,K=t.RenderPaint,te=t.Renderer,ee=t.StrokeCap,ne=t.StrokeJoin,X=t.BlendMode,ye=k.fill,ze=k.stroke,Oe=t.FillRule.evenOdd;let ke=1;var be=t.RenderImage.extend("CanvasRenderImage",{__construct:function(){this.__parent.__construct.call(this),this.Ba=ke,ke=ke+1&2147483647||1},decode:function(_e){let Ke=y3;Ke.total++;var At=this,vt=new Image;vt.src=URL.createObjectURL(new Blob([_e],{type:"image/png"})),vt.onload=function(){if(At.cb=vt,At.fb=c.ib(vt),At.size(vt.width,vt.height),Ke.loaded++,Ke.loaded===Ke.total){const it=Ke.ready;it&&(it(),Ke.ready=null)}}}}),gn=B.extend("CanvasRenderPath",{__construct:function(){this.__parent.__construct.call(this),this.ka=new Path2D},rewind:function(){this.ka=new Path2D},addPath:function(_e,Ke,At,vt,it,Wt,tt){var Ht=this.ka,ps=Ht.addPath;_e=_e.ka;const _n=new DOMMatrix;_n.a=Ke,_n.b=At,_n.c=vt,_n.d=it,_n.e=Wt,_n.f=tt,ps.call(Ht,_e,_n)},fillRule:function(_e){this.Ia=_e},moveTo:function(_e,Ke){this.ka.moveTo(_e,Ke)},lineTo:function(_e,Ke){this.ka.lineTo(_e,Ke)},cubicTo:function(_e,Ke,At,vt,it,Wt){this.ka.bezierCurveTo(_e,Ke,At,vt,it,Wt)},close:function(){this.ka.closePath()}}),on=K.extend("CanvasRenderPaint",{color:function(_e){this.Ja=b(_e)},thickness:function(_e){this.gb=_e},join:function(_e){switch(_e){case ne.miter:this.Aa="miter";break;case ne.round:this.Aa="round";break;case ne.bevel:this.Aa="bevel"}},cap:function(_e){switch(_e){case ee.butt:this.za="butt";break;case ee.round:this.za="round";break;case ee.square:this.za="square"}},style:function(_e){this.eb=_e},blendMode:function(_e){this.bb=T(_e)},clearGradient:function(){this.sa=null},linearGradient:function(_e,Ke,At,vt){this.sa={Xa:_e,Ya:Ke,Na:At,Oa:vt,Ea:[]}},radialGradient:function(_e,Ke,At,vt){this.sa={Xa:_e,Ya:Ke,Na:At,Oa:vt,Ea:[],wb:!0}},addStop:function(_e,Ke){this.sa.Ea.push({color:_e,stop:Ke})},completeGradient:function(){},draw:function(_e,Ke,At){let vt=this.eb;var it=this.Ja,Wt=this.sa;if(_e.globalCompositeOperation=this.bb,null!=Wt){it=Wt.Xa;var tt=Wt.Ya;const ps=Wt.Na;var Ht=Wt.Oa;const _n=Wt.Ea;Wt.wb?(Wt=ps-it,Ht-=tt,it=_e.createRadialGradient(it,tt,0,it,tt,Math.sqrt(Wt*Wt+Ht*Ht))):it=_e.createLinearGradient(it,tt,ps,Ht);for(let ms=0,qn=_n.length;ms<qn;ms++)it.addColorStop((tt=_n[ms]).stop,b(tt.color));this.Ja=it,this.sa=null}switch(vt){case ze:_e.strokeStyle=it,_e.lineWidth=this.gb,_e.lineCap=this.za,_e.lineJoin=this.Aa,_e.stroke(Ke);break;case ye:_e.fillStyle=it,_e.fill(Ke,At)}}});const Je=new Set;let _t=null,an=[],Zn=0,Os=0;var It=t.CanvasRenderer=te.extend("Renderer",{__construct:function(_e){this.__parent.__construct.call(this),this.ja=[1,0,0,1,0,0],this.da=_e.getContext("2d"),this.Ha=_e,this.fa=[]},save:function(){this.ja.push(...this.ja.slice(this.ja.length-6)),this.fa.push(this.da.save.bind(this.da))},restore:function(){const _e=this.ja.length-6;if(6>_e)throw"restore() called without matching save().";this.ja.splice(_e),this.fa.push(this.da.restore.bind(this.da))},transform:function(_e,Ke,At,vt,it,Wt){const tt=this.ja,Ht=tt.length-6;tt.splice(Ht,6,tt[Ht]*_e+tt[Ht+2]*Ke,tt[Ht+1]*_e+tt[Ht+3]*Ke,tt[Ht]*At+tt[Ht+2]*vt,tt[Ht+1]*At+tt[Ht+3]*vt,tt[Ht]*it+tt[Ht+2]*Wt+tt[Ht+4],tt[Ht+1]*it+tt[Ht+3]*Wt+tt[Ht+5]),this.fa.push(this.da.transform.bind(this.da,_e,Ke,At,vt,it,Wt))},rotate:function(_e){const Ke=Math.sin(_e);_e=Math.cos(_e),this.transform(_e,Ke,-Ke,_e,0,0)},_drawPath:function(_e,Ke){this.fa.push(Ke.draw.bind(Ke,this.da,_e.ka,_e.Ia===Oe?"evenodd":"nonzero"))},_drawRiveImage:function(_e,Ke,At){var vt=_e.cb;if(vt){var it=this.da,Wt=T(Ke);this.fa.push(function(){it.globalCompositeOperation=Wt,it.globalAlpha=At,it.drawImage(vt,0,0),it.globalAlpha=1})}},_getMatrix:function(_e){const Ke=this.ja,At=Ke.length-6;for(let vt=0;6>vt;++vt)_e[vt]=Ke[At+vt]},_drawImageMesh:function(_e,Ke,At,vt,it,Wt,tt,Ht,ps,_n){var ms=this.da.canvas.width,qn=this.da.canvas.height;const ha=ps-tt,hl=_n-Ht;tt=Math.max(tt,0),Ht=Math.max(Ht,0),ps=Math.min(ps,ms),_n=Math.min(_n,qn);const ks=ps-tt,Vc=_n-Ht;if(console.assert(ks<=Math.min(ha,ms)),console.assert(Vc<=Math.min(hl,qn)),!(0>=ks||0>=Vc)){ps=ks<ha||Vc<hl,ms=_n=1;var Uo=Math.ceil(ks*_n),gi=Math.ceil(Vc*ms);qn=c.yb(),Uo>qn&&(_n*=qn/Uo,Uo=qn),gi>qn&&(ms*=qn/gi,gi=qn),_t||(_t=new t.DynamicRectanizer(qn),_t.reset(512,512)),0>(qn=_t.addRect(Uo,gi))&&(P(),Je.add(this),qn=_t.addRect(Uo,gi),console.assert(0<=qn));var pl=65535&qn,ml=qn>>16;an.push({qa:this.ja.slice(this.ja.length-6),image:_e,Ka:pl,La:ml,zb:tt,Ab:Ht,Ib:Uo,Ra:gi,xa:_n,ya:ms,Fa:new Float32Array(vt),Za:new Float32Array(it),indices:new Uint16Array(Wt),Bb:ps,Wa:_e.Ba<<1|(ps?1:0)}),Zn+=vt.length,Os+=Wt.length;var fo=this.da,Bc=T(Ke);this.fa.push(function(){fo.save(),fo.resetTransform(),fo.globalCompositeOperation=Bc,fo.globalAlpha=At,fo.drawImage(c.canvas(),pl,ml,Uo,gi,tt,Ht,ks,Vc),fo.restore()})}},_clipPath:function(_e){this.fa.push(this.da.clip.bind(this.da,_e.ka,_e.Ia===Oe?"evenodd":"nonzero"))},clear:function(){Je.add(this),this.fa.push(this.da.clearRect.bind(this.da,0,0,this.Ha.width,this.Ha.height))},flush:function(){},translate:function(_e,Ke){this.transform(1,0,0,1,_e,Ke)}});t.makeRenderer=function(_e){const Ke=new It(_e),At=Ke.da;return new Proxy(Ke,{get(vt,it){if("function"==typeof vt[it])return function(...Wt){return vt[it].apply(vt,Wt)};if("function"==typeof At[it]){if(-1<a.indexOf(it))throw Error("RiveException: Method call to '"+it+"()' is not allowed, as the renderer cannot immediately pass through the return                 values of any canvas 2d context methods.");return function(...Wt){Ke.fa.push(At[it].bind(At,...Wt))}}return vt[it]},set(vt,it,Wt){if(it in At)return At[it]=Wt,!0}})},t.renderFactory={makeRenderPaint:function(){return new on},makeRenderPath:function(){return new gn},makeRenderImage:function(){return new be}};let Xe=t.load,y3=null;t.load=function(_e){return new Promise(function(Ke){let At=null;y3={total:0,loaded:0,ready:function(){Ke(At)}},At=Xe(_e),0==y3.total&&Ke(At)})},k=new s,t.requestAnimationFrame=k.requestAnimationFrame.bind(k),t.cancelAnimationFrame=k.cancelAnimationFrame.bind(k),t.enableFPSCounter=k.nb.bind(k),t.disableFPSCounter=k.kb,k.Sa=P,t.cleanup=function(){_t&&_t.delete()}};var y,C,u=Object.assign({},t),d="./this.program",f="object"==typeof window,p="function"==typeof importScripts,g="";(f||p)&&(p?g=self.location.href:typeof document<"u"&&document.currentScript&&(g=document.currentScript.src),n&&(g=n),g=0!==g.indexOf("blob:")?g.substr(0,g.replace(/[?#].*/,"").lastIndexOf("/")+1):"",p&&(C=T=>{var b=new XMLHttpRequest;return b.open("GET",T,!1),b.responseType="arraybuffer",b.send(null),new Uint8Array(b.response)}),y=(T,b,P)=>{var k=new XMLHttpRequest;k.open("GET",T,!0),k.responseType="arraybuffer",k.onload=()=>{200==k.status||0==k.status&&k.response?b(k.response):P()},k.onerror=P,k.send(null)});var R,w=t.print||console.log.bind(console),N=t.printErr||console.error.bind(console);Object.assign(t,u),u=null,t.thisProgram&&(d=t.thisProgram),t.wasmBinary&&(R=t.wasmBinary),"object"!=typeof WebAssembly&&Dt("no native wasm support detected");var F,j,M,v,E,S,A,x,I,sn,W=!1;function Xn(){var T=F.buffer;t.HEAP8=M=new Int8Array(T),t.HEAP16=E=new Int16Array(T),t.HEAP32=A=new Int32Array(T),t.HEAPU8=v=new Uint8Array(T),t.HEAPU16=S=new Uint16Array(T),t.HEAPU32=x=new Uint32Array(T),t.HEAPF32=I=new Float32Array(T),t.HEAPF64=sn=new Float64Array(T)}var we,Ie=[],Pe=[],rt=[];function mn(){var T=t.preRun.shift();Ie.unshift(T)}var Si,Hn=0,Mt=null,Ze=null;function Dt(T){throw t.onAbort&&t.onAbort(T),N(T="Aborted("+T+")"),W=!0,T=new WebAssembly.RuntimeError(T+". Build with -sASSERTIONS for more info."),i(T),T}function Gn(T){return T.startsWith("data:application/octet-stream;base64,")}if(!Gn(Si="canvas_advanced.wasm")){var $t=Si;Si=t.locateFile?t.locateFile($t,g):g+$t}function xr(T){if(T==Si&&R)return new Uint8Array(R);if(C)return C(T);throw"both async and sync fetching of the wasm failed"}function di(T,b,P){return function Dr(T){if(!R&&(f||p)){if("function"==typeof fetch&&!T.startsWith("file://"))return fetch(T,{credentials:"same-origin"}).then(b=>{if(!b.ok)throw"failed to load wasm binary file at '"+T+"'";return b.arrayBuffer()}).catch(()=>xr(T));if(y)return new Promise((b,P)=>{y(T,k=>b(new Uint8Array(k)),P)})}return Promise.resolve().then(()=>xr(T))}(T).then(k=>WebAssembly.instantiate(k,b)).then(k=>k).then(P,k=>{N("failed to asynchronously prepare wasm: "+k),Dt(k)})}var zo=T=>{for(;0<T.length;)T.shift()(t)};function Oo(T){if(void 0===T)return"_unknown";var b=(T=T.replace(/[^a-zA-Z0-9_]/g,"$")).charCodeAt(0);return 48<=b&&57>=b?`_${T}`:T}function oo(T,b){return{[T=Oo(T)]:function(){return b.apply(this,arguments)}}[T]}function aa(){this.la=[void 0],this.Qa=[]}var Gr=new aa,Ds=void 0;function ut(T){throw new Ds(T)}var hi=T=>(T||ut("Cannot use deleted val. handle = "+T),Gr.get(T).value),ur=T=>{switch(T){case void 0:return 1;case null:return 2;case!0:return 3;case!1:return 4;default:return Gr.ab({Va:1,value:T})}};function Ls(T){var b=Error,P=oo(T,function(k){this.name=T,this.message=k,void 0!==(k=Error(k).stack)&&(this.stack=this.toString()+"\n"+k.replace(/^Error(:[^\n]*)?\n/,""))});return P.prototype=Object.create(b.prototype),P.prototype.constructor=P,P.prototype.toString=function(){return void 0===this.message?this.name:`${this.name}: ${this.message}`},P}var Pa=void 0,Lc=void 0;function tn(T){for(var b="";v[T];)b+=Lc[v[T++]];return b}var ds=[];function ao(){for(;ds.length;){var T=ds.pop();T.Y.pa=!1,T.delete()}}var Et=void 0,gt={};function ko(T,b){for(void 0===b&&ut("ptr should not be undefined");T.ba;)b=T.ta(b),T=T.ba;return b}var Fo={};function sl(T){var b=tn(T=uo(T));return mi(T),b}function Rc(T,b){var P=Fo[T];return void 0===P&&ut(b+" has unknown type "+sl(T)),P}function fs(){}var Nc=!1;function ol(T){--T.count.value,0===T.count.value&&(T.ea?T.ha.ma(T.ea):T.aa.Z.ma(T.$))}function T1(T,b,P){return b===P?T:void 0===P.ba||null===(T=T1(T,b,P.ba))?null:P.lb(T)}var z6={},I1=void 0;function M1(T){throw new I1(T)}function S1(T,b){return b.aa&&b.$||M1("makeClassHandle requires ptr and ptrType"),!!b.ha!=!!b.ea&&M1("Both smartPtrType and smartPtr must be specified"),b.count={value:1},Ai(Object.create(T,{Y:{value:b}}))}function Ai(T){return typeof FinalizationRegistry>"u"?(Ai=b=>b,T):(Nc=new FinalizationRegistry(b=>{ol(b.Y)}),fs=b=>{Nc.unregister(b)},(Ai=b=>{var P=b.Y;return P.ea&&Nc.register(b,{Y:P},b),b})(T))}var ca={};function Vo(T){for(;T.length;){var b=T.pop();T.pop()(b)}}function qr(T){return this.fromWireType(A[T>>2])}var la={},co={};function pi(T,b,P){function k(ee){(ee=P(ee)).length!==T.length&&M1("Mismatched type converter count");for(var ne=0;ne<T.length;++ne)Tt(T[ne],ee[ne])}T.forEach(function(ee){co[ee]=b});var B=Array(b.length),K=[],te=0;b.forEach((ee,ne)=>{Fo.hasOwnProperty(ee)?B[ne]=Fo[ee]:(K.push(ee),la.hasOwnProperty(ee)||(la[ee]=[]),la[ee].push(()=>{B[ne]=Fo[ee],++te===K.length&&k(B)}))}),0===K.length&&k(B)}function hs(T){switch(T){case 1:return 0;case 2:return 1;case 4:return 2;case 8:return 3;default:throw new TypeError(`Unknown type size: ${T}`)}}function Tt(T,b,P={}){if(!("argPackAdvance"in b))throw new TypeError("registerType registeredInstance requires argPackAdvance");!function l3(T,b,P={}){var k=b.name;if(T||ut(`type "${k}" must have a positive integer typeid pointer`),Fo.hasOwnProperty(T)){if(P.vb)return;ut(`Cannot register type '${k}' twice`)}Fo[T]=b,delete co[T],la.hasOwnProperty(T)&&(b=la[T],delete la[T],b.forEach(B=>B()))}(T,b,P)}function Pc(T){ut(T.Y.aa.Z.name+" instance already deleted")}function ti(){}function Rs(T,b,P){if(void 0===T[b].ca){var k=T[b];T[b]=function(){return T[b].ca.hasOwnProperty(arguments.length)||ut(`Function '${P}' called with an invalid number of arguments (${arguments.length}) - expects one of (${T[b].ca})!`),T[b].ca[arguments.length].apply(this,arguments)},T[b].ca=[],T[b].ca[k.oa]=k}}function u3(T,b,P){t.hasOwnProperty(T)?((void 0===P||void 0!==t[T].ca&&void 0!==t[T].ca[P])&&ut(`Cannot register public name '${T}' twice`),Rs(t,T,T),t.hasOwnProperty(P)&&ut(`Cannot register multiple overloads of a function with the same number of arguments (${P})!`),t[T].ca[P]=b):(t[T]=b,void 0!==P&&(t[T].Jb=P))}function m5(T,b,P,k,B,K,te,ee){this.name=T,this.constructor=b,this.ia=P,this.ma=k,this.ba=B,this.qb=K,this.ta=te,this.lb=ee,this.Ta=[]}function xi(T,b,P){for(;b!==P;)b.ta||ut(`Expected null or instance of ${P.name}, got an instance of ${b.name}`),T=b.ta(T),b=b.ba;return T}function g5(T,b){return null===b?(this.Ca&&ut(`null is not a valid ${this.name}`),0):(b.Y||ut(`Cannot pass "${Bo(b)}" as a ${this.name}`),b.Y.$||ut(`Cannot pass deleted object as a pointer of type ${this.name}`),xi(b.Y.$,b.Y.aa.Z,this.Z))}function _5(T,b){if(null===b){if(this.Ca&&ut(`null is not a valid ${this.name}`),this.wa){var P=this.Da();return null!==T&&T.push(this.ma,P),P}return 0}if(b.Y||ut(`Cannot pass "${Bo(b)}" as a ${this.name}`),b.Y.$||ut(`Cannot pass deleted object as a pointer of type ${this.name}`),!this.va&&b.Y.aa.va&&ut(`Cannot convert argument of type ${b.Y.ha?b.Y.ha.name:b.Y.aa.name} to parameter type ${this.name}`),P=xi(b.Y.$,b.Y.aa.Z,this.Z),this.wa)switch(void 0===b.Y.ea&&ut("Passing raw pointer to smart pointer is illegal"),this.Hb){case 0:b.Y.ha===this?P=b.Y.ea:ut(`Cannot convert argument of type ${b.Y.ha?b.Y.ha.name:b.Y.aa.name} to parameter type ${this.name}`);break;case 1:P=b.Y.ea;break;case 2:if(b.Y.ha===this)P=b.Y.ea;else{var k=b.clone();P=this.Db(P,ur(function(){k.delete()})),null!==T&&T.push(this.ma,P)}break;default:ut("Unsupporting sharing policy")}return P}function za(T,b){return null===b?(this.Ca&&ut(`null is not a valid ${this.name}`),0):(b.Y||ut(`Cannot pass "${Bo(b)}" as a ${this.name}`),b.Y.$||ut(`Cannot pass deleted object as a pointer of type ${this.name}`),b.Y.aa.va&&ut(`Cannot convert argument of type ${b.Y.aa.name} to parameter type ${this.name}`),xi(b.Y.$,b.Y.aa.Z,this.Z))}function Ns(T,b,P,k){this.name=T,this.Z=b,this.Ca=P,this.va=k,this.wa=!1,this.ma=this.Db=this.Da=this.Ua=this.Hb=this.Cb=void 0,void 0!==b.ba?this.toWireType=_5:(this.toWireType=k?g5:za,this.ga=null)}function A1(T,b,P){t.hasOwnProperty(T)||M1("Replacing nonexistant public symbol"),void 0!==t[T].ca&&void 0!==P?t[T].ca[P]=b:(t[T]=b,t[T].oa=P)}function nn(T,b){var P=(T=tn(T)).includes("j")?((T,b)=>{var P=[];return function(){if(P.length=0,Object.assign(P,arguments),T.includes("j")){var k=t["dynCall_"+T];k=P&&P.length?k.apply(null,[b].concat(P)):k.call(null,b)}else k=we.get(b).apply(null,P);return k}})(T,b):we.get(b);return"function"!=typeof P&&ut(`unknown function pointer with signature ${T}: ${b}`),P}var al=void 0;function Ps(T,b){var k=[],B={};throw b.forEach(function P(K){B[K]||Fo[K]||(co[K]?co[K].forEach(P):(k.push(K),B[K]=!0))}),new al(`${T}: `+k.map(sl).join([", "]))}function ua(T,b,P,k,B){var K=b.length;2>K&&ut("argTypes array size mismatch! Must at least get return value and 'this' types!");var te=null!==b[1]&&null!==P,ee=!1;for(P=1;P<b.length;++P)if(null!==b[P]&&void 0===b[P].ga){ee=!0;break}var ne="void"!==b[0].name,X=K-2,ye=Array(X),ze=[],Oe=[];return function(){if(arguments.length!==X&&ut(`function ${T} called with ${arguments.length} arguments, expected ${X} args!`),Oe.length=0,ze.length=te?2:1,ze[0]=B,te){var ke=b[1].toWireType(Oe,this);ze[1]=ke}for(var be=0;be<X;++be)ye[be]=b[be+2].toWireType(Oe,arguments[be]),ze.push(ye[be]);if(be=k.apply(null,ze),ee)Vo(Oe);else for(var gn=te?1:2;gn<b.length;gn++)null!==b[gn].ga&&b[gn].ga(1===gn?ke:ye[gn-2]);return ne?b[0].fromWireType(be):void 0}}function da(T,b){for(var P=[],k=0;k<T;k++)P.push(x[b+4*k>>2]);return P}function cl(T,b,P){return T instanceof Object||ut(`${P} with invalid "this": ${T}`),T instanceof b.Z.constructor||ut(`${P} incompatible with "this" of type ${T.constructor.name}`),T.Y.$||ut(`cannot call emscripten binding method ${P} on deleted object`),xi(T.Y.$,T.Y.aa.Z,b.Z)}function zc(T){T>=Gr.Ga&&0==--Gr.get(T).Va&&Gr.$a(T)}function y5(T,b,P){switch(b){case 0:return function(k){return this.fromWireType((P?M:v)[k])};case 1:return function(k){return this.fromWireType((P?E:S)[k>>1])};case 2:return function(k){return this.fromWireType((P?A:x)[k>>2])};default:throw new TypeError("Unknown integer type: "+T)}}function Bo(T){if(null===T)return"null";var b=typeof T;return"object"===b||"array"===b||"function"===b?T.toString():""+T}function d3(T,b){switch(b){case 2:return function(P){return this.fromWireType(I[P>>2])};case 3:return function(P){return this.fromWireType(sn[P>>3])};default:throw new TypeError("Unknown float type: "+T)}}function Oc(T,b,P){switch(b){case 0:return P?function(k){return M[k]}:function(k){return v[k]};case 1:return P?function(k){return E[k>>1]}:function(k){return S[k>>1]};case 2:return P?function(k){return A[k>>2]}:function(k){return x[k>>2]};default:throw new TypeError("Unknown integer type: "+T)}}var lo=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0,Di=(T,b,P)=>{var k=b+P;for(P=b;T[P]&&!(P>=k);)++P;if(16<P-b&&T.buffer&&lo)return lo.decode(T.subarray(b,P));for(k="";b<P;){var B=T[b++];if(128&B){var K=63&T[b++];if(192==(224&B))k+=String.fromCharCode((31&B)<<6|K);else{var te=63&T[b++];65536>(B=224==(240&B)?(15&B)<<12|K<<6|te:(7&B)<<18|K<<12|te<<6|63&T[b++])?k+=String.fromCharCode(B):(B-=65536,k+=String.fromCharCode(55296|B>>10,56320|1023&B))}}else k+=String.fromCharCode(B)}return k},x1=typeof TextDecoder<"u"?new TextDecoder("utf-16le"):void 0,v5=(T,b)=>{for(var P=T>>1,k=P+b/2;!(P>=k)&&S[P];)++P;if(32<(P<<=1)-T&&x1)return x1.decode(v.subarray(T,P));for(P="",k=0;!(k>=b/2);++k){var B=E[T+2*k>>1];if(0==B)break;P+=String.fromCharCode(B)}return P},f3=(T,b,P)=>{if(void 0===P&&(P=2147483647),2>P)return 0;var k=b;P=(P-=2)<2*T.length?P/2:T.length;for(var B=0;B<P;++B)E[b>>1]=T.charCodeAt(B),b+=2;return E[b>>1]=0,b-k},h3=T=>2*T.length,p3=(T,b)=>{for(var P=0,k="";!(P>=b/4);){var B=A[T+4*P>>2];if(0==B)break;++P,65536<=B?(B-=65536,k+=String.fromCharCode(55296|B>>10,56320|1023&B)):k+=String.fromCharCode(B)}return k},kc=(T,b,P)=>{if(void 0===P&&(P=2147483647),4>P)return 0;var k=b;P=k+P-4;for(var B=0;B<T.length;++B){var K=T.charCodeAt(B);if(55296<=K&&57343>=K&&(K=65536+((1023&K)<<10)|1023&T.charCodeAt(++B)),A[b>>2]=K,(b+=4)+4>P)break}return A[b>>2]=0,b-k},Fc=T=>{for(var b=0,P=0;P<T.length;++P){var k=T.charCodeAt(P);55296<=k&&57343>=k&&++P,b+=4}return b},m3={};function D1(T){var b=m3[T];return void 0===b?tn(T):b}var Cr,ll=[],ul=[],_3={},Li=()=>{if(!Cr){var b,T={USER:"web_user",LOGNAME:"web_user",PATH:"/",PWD:"/",HOME:"/home/web_user",LANG:("object"==typeof navigator&&navigator.languages&&navigator.languages[0]||"C").replace("-","_")+".UTF-8",_:d||"./this.program"};for(b in _3)void 0===_3[b]?delete T[b]:T[b]=_3[b];var P=[];for(b in T)P.push(`${b}=${T[b]}`);Cr=P}return Cr},ka=[null,[],[]];Object.assign(aa.prototype,{get(T){return this.la[T]},has(T){return void 0!==this.la[T]},ab(T){var b=this.Qa.pop()||this.la.length;return this.la[b]=T,b},$a(T){this.la[T]=void 0,this.Qa.push(T)}}),Ds=t.BindingError=class extends Error{constructor(T){super(T),this.name="BindingError"}},Gr.la.push({value:void 0},{value:null},{value:!0},{value:!1}),Gr.Ga=Gr.la.length,t.count_emval_handles=function(){for(var T=0,b=Gr.Ga;b<Gr.la.length;++b)void 0!==Gr.la[b]&&++T;return T},Pa=t.PureVirtualError=Ls("PureVirtualError");for(var fa=Array(256),L1=0;256>L1;++L1)fa[L1]=String.fromCharCode(L1);Lc=fa,t.getInheritedInstanceCount=function(){return Object.keys(gt).length},t.getLiveInheritedInstances=function(){var b,T=[];for(b in gt)gt.hasOwnProperty(b)&&T.push(gt[b]);return T},t.flushPendingDeletes=ao,t.setDelayFunction=function(T){Et=T,ds.length&&Et&&Et(ao)},I1=t.InternalError=class extends Error{constructor(T){super(T),this.name="InternalError"}},ti.prototype.isAliasOf=function(T){if(!(this instanceof ti&&T instanceof ti))return!1;var b=this.Y.aa.Z,P=this.Y.$,k=T.Y.aa.Z;for(T=T.Y.$;b.ba;)P=b.ta(P),b=b.ba;for(;k.ba;)T=k.ta(T),k=k.ba;return b===k&&P===T},ti.prototype.clone=function(){if(this.Y.$||Pc(this),this.Y.ra)return this.Y.count.value+=1,this;var T=Ai,b=Object,P=b.create,k=Object.getPrototypeOf(this),B=this.Y;return(T=T(P.call(b,k,{Y:{value:{count:B.count,pa:B.pa,ra:B.ra,$:B.$,aa:B.aa,ea:B.ea,ha:B.ha}}}))).Y.count.value+=1,T.Y.pa=!1,T},ti.prototype.delete=function(){this.Y.$||Pc(this),this.Y.pa&&!this.Y.ra&&ut("Object already scheduled for deletion"),fs(this),ol(this.Y),this.Y.ra||(this.Y.ea=void 0,this.Y.$=void 0)},ti.prototype.isDeleted=function(){return!this.Y.$},ti.prototype.deleteLater=function(){return this.Y.$||Pc(this),this.Y.pa&&!this.Y.ra&&ut("Object already scheduled for deletion"),ds.push(this),1===ds.length&&Et&&Et(ao),this.Y.pa=!0,this},Ns.prototype.rb=function(T){return this.Ua&&(T=this.Ua(T)),T},Ns.prototype.Ma=function(T){this.ma&&this.ma(T)},Ns.prototype.argPackAdvance=8,Ns.prototype.readValueFromPointer=qr,Ns.prototype.deleteObject=function(T){null!==T&&T.delete()},Ns.prototype.fromWireType=function(T){function b(){return S1(this.Z.ia,this.wa?{aa:this.Cb,$:P,ha:this,ea:T}:{aa:this,$:T})}var P=this.rb(T);if(!P)return this.Ma(T),null;var k=function p5(T,b){return b=ko(T,b),gt[b]}(this.Z,P);if(void 0!==k)return 0===k.Y.count.value?(k.Y.$=P,k.Y.ea=T,k.clone()):(k=k.clone(),this.Ma(T),k);if(k=this.Z.qb(P),!(k=z6[k]))return b.call(this);var B=T1(P,this.Z,(k=this.va?k.hb:k.pointerType).Z);return null===B?b.call(this):S1(k.Z.ia,this.wa?{aa:k,$:B,ha:this,ea:T}:{aa:k,$:B})},al=t.UnboundTypeError=Ls("UnboundTypeError");var et={L:function(T,b,P){T=tn(T),b=Rc(b,"wrapper"),P=hi(P);var k=[].slice,B=b.Z,K=B.ia,te=B.ba.ia,ee=B.ba.constructor;for(var ne in T=oo(T,function(){B.ba.Ta.forEach(function(X){if(this[X]===te[X])throw new Pa(`Pure virtual function ${X} must be implemented in JavaScript`)}.bind(this)),Object.defineProperty(this,"__parent",{value:K}),this.__construct.apply(this,k.call(arguments))}),K.__construct=function(){this===K&&ut("Pass correct 'this' to __construct");var X=ee.implement.apply(void 0,[this].concat(k.call(arguments)));fs(X);var ye=X.Y;X.notifyOnDestruction(),ye.ra=!0,Object.defineProperties(this,{Y:{value:ye}}),Ai(this),X=ko(B,X=ye.$),gt.hasOwnProperty(X)?ut(`Tried to register registered instance: ${X}`):gt[X]=this},K.__destruct=function(){this===K&&ut("Pass correct 'this' to __destruct"),fs(this);var X=this.Y.$;X=ko(B,X),gt.hasOwnProperty(X)?delete gt[X]:ut(`Tried to unregister unregistered instance: ${X}`)},T.prototype=Object.create(K),P)T.prototype[ne]=P[ne];return ur(T)},N:function(T){var b=ca[T];delete ca[T];var P=b.Da,k=b.ma,B=b.Pa;pi([T],B.map(te=>te.ub).concat(B.map(te=>te.Fb)),te=>{var ee={};return B.forEach((ne,X)=>{var ye=te[X],ze=ne.sb,Oe=ne.tb,ke=te[X+B.length],be=ne.Eb,gn=ne.Gb;ee[ne.ob]={read:on=>ye.fromWireType(ze(Oe,on)),write:(on,Je)=>{var _t=[];be(gn,on,ke.toWireType(_t,Je)),Vo(_t)}}}),[{name:b.name,fromWireType:function(ne){var ye,X={};for(ye in ee)X[ye]=ee[ye].read(ne);return k(ne),X},toWireType:function(ne,X){for(var ye in ee)if(!(ye in X))throw new TypeError(`Missing field: "${ye}"`);var ze=P();for(ye in ee)ee[ye].write(ze,X[ye]);return null!==ne&&ne.push(k,ze),ze},argPackAdvance:8,readValueFromPointer:qr,ga:k}]})},C:function(){},J:function(T,b,P,k,B){var K=hs(P);Tt(T,{name:b=tn(b),fromWireType:function(te){return!!te},toWireType:function(te,ee){return ee?k:B},argPackAdvance:8,readValueFromPointer:function(te){if(1===P)var ee=M;else if(2===P)ee=E;else{if(4!==P)throw new TypeError("Unknown boolean type size: "+b);ee=A}return this.fromWireType(ee[te>>K])},ga:null})},f:function(T,b,P,k,B,K,te,ee,ne,X,ye,ze,Oe){ye=tn(ye),K=nn(B,K),ee&&(ee=nn(te,ee)),X&&(X=nn(ne,X)),Oe=nn(ze,Oe);var ke=Oo(ye);u3(ke,function(){Ps(`Cannot construct ${ye} due to unbound types`,[k])}),pi([T,b,P],k?[k]:[],function(be){if(be=be[0],k)var gn=be.Z,on=gn.ia;else on=ti.prototype;be=oo(ke,function(){if(Object.getPrototypeOf(this)!==Je)throw new Ds("Use 'new' to construct "+ye);if(void 0===_t.na)throw new Ds(ye+" has no accessible constructor");var Zn=_t.na[arguments.length];if(void 0===Zn)throw new Ds(`Tried to invoke ctor of ${ye} with invalid number of parameters (${arguments.length}) - expected (${Object.keys(_t.na).toString()}) parameters instead!`);return Zn.apply(this,arguments)});var Je=Object.create(on,{constructor:{value:be}});be.prototype=Je;var _t=new m5(ye,be,Je,Oe,gn,K,ee,X);_t.ba&&(void 0===_t.ba.ua&&(_t.ba.ua=[]),_t.ba.ua.push(_t)),gn=new Ns(ye,_t,!0,!1),on=new Ns(ye+"*",_t,!1,!1);var an=new Ns(ye+" const*",_t,!1,!0);return z6[T]={pointerType:on,hb:an},A1(ke,be),[gn,on,an]})},l:function(T,b,P,k,B,K,te){var ee=da(P,k);b=tn(b),K=nn(B,K),pi([],[T],function(ne){function X(){Ps(`Cannot call ${ye} due to unbound types`,ee)}var ye=`${(ne=ne[0]).name}.${b}`;b.startsWith("@@")&&(b=Symbol[b.substring(2)]);var ze=ne.Z.constructor;return void 0===ze[b]?(X.oa=P-1,ze[b]=X):(Rs(ze,b,ye),ze[b].ca[P-1]=X),pi([],ee,function(Oe){if(Oe=ua(ye,[Oe[0],null].concat(Oe.slice(1)),null,K,te),void 0===ze[b].ca?(Oe.oa=P-1,ze[b]=Oe):ze[b].ca[P-1]=Oe,ne.Z.ua)for(const ke of ne.Z.ua)ke.constructor.hasOwnProperty(b)||(ke.constructor[b]=Oe);return[]}),[]})},w:function(T,b,P,k,B,K,te,ee){b=tn(b),K=nn(B,K),pi([],[T],function(ne){var X=`${(ne=ne[0]).name}.${b}`,ye={get(){Ps(`Cannot access ${X} due to unbound types`,[P])},enumerable:!0,configurable:!0};return ye.set=ee?()=>{Ps(`Cannot access ${X} due to unbound types`,[P])}:()=>{ut(`${X} is a read-only property`)},Object.defineProperty(ne.Z.constructor,b,ye),pi([],[P],function(ze){ze=ze[0];var Oe={get:()=>ze.fromWireType(K(k)),enumerable:!0};return ee&&(ee=nn(te,ee),Oe.set=ke=>{var be=[];ee(k,ze.toWireType(be,ke)),Vo(be)}),Object.defineProperty(ne.Z.constructor,b,Oe),[]}),[]})},r:function(T,b,P,k,B,K){var te=da(b,P);B=nn(k,B),pi([],[T],function(ee){var ne=`constructor ${(ee=ee[0]).name}`;if(void 0===ee.Z.na&&(ee.Z.na=[]),void 0!==ee.Z.na[b-1])throw new Ds(`Cannot register multiple constructors with identical number of parameters (${b-1}) for class '${ee.name}'! Overload resolution is currently only performed using the parameter count, not actual type info!`);return ee.Z.na[b-1]=()=>{Ps(`Cannot construct ${ee.name} due to unbound types`,te)},pi([],te,function(X){return X.splice(1,0,null),ee.Z.na[b-1]=ua(ne,X,null,B,K),[]}),[]})},b:function(T,b,P,k,B,K,te,ee){var ne=da(P,k);b=tn(b),K=nn(B,K),pi([],[T],function(X){function ye(){Ps(`Cannot call ${ze} due to unbound types`,ne)}var ze=`${(X=X[0]).name}.${b}`;b.startsWith("@@")&&(b=Symbol[b.substring(2)]),ee&&X.Z.Ta.push(b);var Oe=X.Z.ia,ke=Oe[b];return void 0===ke||void 0===ke.ca&&ke.className!==X.name&&ke.oa===P-2?(ye.oa=P-2,ye.className=X.name,Oe[b]=ye):(Rs(Oe,b,ze),Oe[b].ca[P-2]=ye),pi([],ne,function(be){return be=ua(ze,be,X,K,te),void 0===Oe[b].ca?(be.oa=P-2,Oe[b]=be):Oe[b].ca[P-2]=be,[]}),[]})},e:function(T,b,P,k,B,K,te,ee,ne,X){b=tn(b),B=nn(k,B),pi([],[T],function(ye){var ze=`${(ye=ye[0]).name}.${b}`,Oe={get(){Ps(`Cannot access ${ze} due to unbound types`,[P,te])},enumerable:!0,configurable:!0};return Oe.set=ne?()=>{Ps(`Cannot access ${ze} due to unbound types`,[P,te])}:()=>{ut(ze+" is a read-only property")},Object.defineProperty(ye.Z.ia,b,Oe),pi([],ne?[P,te]:[P],function(ke){var be=ke[0],gn={get(){var Je=cl(this,ye,ze+" getter");return be.fromWireType(B(K,Je))},enumerable:!0};if(ne){ne=nn(ee,ne);var on=ke[1];gn.set=function(Je){var _t=cl(this,ye,ze+" setter"),an=[];ne(X,_t,on.toWireType(an,Je)),Vo(an)}}return Object.defineProperty(ye.Z.ia,b,gn),[]}),[]})},I:function(T,b){Tt(T,{name:b=tn(b),fromWireType:function(P){var k=hi(P);return zc(P),k},toWireType:function(P,k){return ur(k)},argPackAdvance:8,readValueFromPointer:qr,ga:null})},o:function(T,b,P,k){function B(){}P=hs(P),b=tn(b),B.values={},Tt(T,{name:b,constructor:B,fromWireType:function(K){return this.constructor.values[K]},toWireType:function(K,te){return te.value},argPackAdvance:8,readValueFromPointer:y5(b,P,k),ga:null}),u3(b,B)},c:function(T,b,P){var k=Rc(T,"enum");b=tn(b),T=k.constructor,k=Object.create(k.constructor.prototype,{value:{value:P},constructor:{value:oo(`${k.name}_${b}`,function(){})}}),T.values[P]=k,T[b]=k},y:function(T,b,P){P=hs(P),Tt(T,{name:b=tn(b),fromWireType:function(k){return k},toWireType:function(k,B){return B},argPackAdvance:8,readValueFromPointer:d3(b,P),ga:null})},t:function(T,b,P,k,B,K){var te=da(b,P);T=tn(T),B=nn(k,B),u3(T,function(){Ps(`Cannot call ${T} due to unbound types`,te)},b-1),pi([],te,function(ee){return A1(T,ua(T,[ee[0],null].concat(ee.slice(1)),null,B,K),b-1),[]})},k:function(T,b,P,k,B){b=tn(b),-1===B&&(B=4294967295),B=hs(P);var K=ee=>ee;if(0===k){var te=32-8*P;K=ee=>ee<<te>>>te}P=b.includes("unsigned")?function(ee,ne){return ne>>>0}:function(ee,ne){return ne},Tt(T,{name:b,fromWireType:K,toWireType:P,argPackAdvance:8,readValueFromPointer:Oc(b,B,0!==k),ga:null})},g:function(T,b,P){function k(K){return new B(x.buffer,x[1+(K>>=2)],x[K])}var B=[Int8Array,Uint8Array,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array][b];Tt(T,{name:P=tn(P),fromWireType:k,argPackAdvance:8,readValueFromPointer:k},{vb:!0})},z:function(T,b){var P="std::string"===(b=tn(b));Tt(T,{name:b,fromWireType:function(k){var B=x[k>>2],K=k+4;if(P)for(var te=K,ee=0;ee<=B;++ee){var ne=K+ee;if(ee==B||0==v[ne]){if(te=te?Di(v,te,ne-te):"",void 0===X)var X=te;else X+=String.fromCharCode(0),X+=te;te=ne+1}}else{for(X=Array(B),ee=0;ee<B;++ee)X[ee]=String.fromCharCode(v[K+ee]);X=X.join("")}return mi(k),X},toWireType:function(k,B){B instanceof ArrayBuffer&&(B=new Uint8Array(B));var K,ee,te="string"==typeof B;if(te||B instanceof Uint8Array||B instanceof Uint8ClampedArray||B instanceof Int8Array||ut("Cannot pass non-string to std::string"),P&&te)for(K=ee=0;K<B.length;++K){var ne=B.charCodeAt(K);127>=ne?ee++:2047>=ne?ee+=2:55296<=ne&&57343>=ne?(ee+=4,++K):ee+=3}else ee=B.length;if(ne=(ee=zs(4+(K=ee)+1))+4,x[ee>>2]=K,P&&te){if(te=ne,ne=K+1,K=v,0<ne){ne=te+ne-1;for(var X=0;X<B.length;++X){var ye=B.charCodeAt(X);if(55296<=ye&&57343>=ye&&(ye=65536+((1023&ye)<<10)|1023&B.charCodeAt(++X)),127>=ye){if(te>=ne)break;K[te++]=ye}else{if(2047>=ye){if(te+1>=ne)break;K[te++]=192|ye>>6}else{if(65535>=ye){if(te+2>=ne)break;K[te++]=224|ye>>12}else{if(te+3>=ne)break;K[te++]=240|ye>>18,K[te++]=128|ye>>12&63}K[te++]=128|ye>>6&63}K[te++]=128|63&ye}}K[te]=0}}else if(te)for(te=0;te<K;++te)255<(X=B.charCodeAt(te))&&(mi(ne),ut("String has UTF-16 code units that do not fit in 8 bits")),v[ne+te]=X;else for(te=0;te<K;++te)v[ne+te]=B[te];return null!==k&&k.push(mi,ee),ee},argPackAdvance:8,readValueFromPointer:qr,ga:function(k){mi(k)}})},v:function(T,b,P){if(P=tn(P),2===b)var k=v5,B=f3,K=h3,te=()=>S,ee=1;else 4===b&&(k=p3,B=kc,K=Fc,te=()=>x,ee=2);Tt(T,{name:P,fromWireType:function(ne){for(var ze,X=x[ne>>2],ye=te(),Oe=ne+4,ke=0;ke<=X;++ke){var be=ne+4+ke*b;(ke==X||0==ye[be>>ee])&&(Oe=k(Oe,be-Oe),void 0===ze?ze=Oe:(ze+=String.fromCharCode(0),ze+=Oe),Oe=be+b)}return mi(ne),ze},toWireType:function(ne,X){"string"!=typeof X&&ut(`Cannot pass non-string to C++ string type ${P}`);var ye=K(X),ze=zs(4+ye+b);return x[ze>>2]=ye>>ee,B(X,ze+4,ye+b),null!==ne&&ne.push(mi,ze),ze},argPackAdvance:8,readValueFromPointer:qr,ga:function(ne){mi(ne)}})},P:function(T,b,P,k,B,K){ca[T]={name:tn(b),Da:nn(P,k),ma:nn(B,K),Pa:[]}},O:function(T,b,P,k,B,K,te,ee,ne,X){ca[T].Pa.push({ob:tn(b),ub:P,sb:nn(k,B),tb:K,Fb:te,Eb:nn(ee,ne),Gb:X})},K:function(T,b){Tt(T,{xb:!0,name:b=tn(b),argPackAdvance:0,fromWireType:function(){},toWireType:function(){}})},u:function(T,b,P){T=hi(T),b=Rc(b,"emval::as");var k=[],B=ur(k);return x[P>>2]=B,b.toWireType(k,T)},A:function(T,b,P,k,B){T=ll[T],b=hi(b),P=D1(P);var K=[];return x[k>>2]=ur(K),T(b,P,K,B)},i:function(T,b,P,k){(T=ll[T])(b=hi(b),P=D1(P),null,k)},d:zc,h:function(T,b){var P=function g3(T,b){for(var P=Array(T),k=0;k<T;++k)P[k]=Rc(x[b+4*k>>2],"parameter "+k);return P}(T,b),k=P[0];b=k.name+"_$"+P.slice(1).map(function(te){return te.name}).join("_")+"$";var B=ul[b];if(void 0!==B)return B;var K=Array(T-1);return B=function b5(T){var b=ll.length;return ll.push(T),b}((te,ee,ne,X)=>{for(var ye=0,ze=0;ze<T-1;++ze)K[ze]=P[ze+1].readValueFromPointer(X+ye),ye+=P[ze+1].argPackAdvance;for(te=te[ee].apply(te,K),ze=0;ze<T-1;++ze)P[ze+1].jb&&P[ze+1].jb(K[ze]);if(!k.xb)return k.toWireType(ne,te)}),ul[b]=B},s:function(T){return T=D1(T),ur(t[T])},M:function(T,b){return T=hi(T),b=hi(b),ur(T[b])},n:function(T){4<T&&(Gr.get(T).Va+=1)},m:function(T){return ur(D1(T))},x:function(){return ur({})},p:function(T){Vo(hi(T)),zc(T)},j:function(T,b,P){T=hi(T),b=hi(b),P=hi(P),T[b]=P},q:function(T,b){return T=(T=Rc(T,"_emval_take_value")).readValueFromPointer(b),ur(T)},a:()=>{Dt("")},D:T=>{var b=v.length;if(2147483648<(T>>>=0))return!1;for(var P=1;4>=P;P*=2){var k=b*(1+.2/P);k=Math.min(k,T+100663296);var B=Math;k=Math.max(T,k);e:{B=B.min.call(B,2147483648,k+(65536-k%65536)%65536)-F.buffer.byteLength+65535>>>16;try{F.grow(B),Xn();var K=1;break e}catch{}K=void 0}if(K)return!0}return!1},E:(T,b)=>{var P=0;return Li().forEach(function(k,B){var K=b+P;for(B=x[T+4*B>>2]=K,K=0;K<k.length;++K)M[B++>>0]=k.charCodeAt(K);M[B>>0]=0,P+=k.length+1}),0},F:(T,b)=>{var P=Li();x[T>>2]=P.length;var k=0;return P.forEach(function(B){k+=B.length+1}),x[b>>2]=k,0},G:()=>52,B:function(){return 70},H:(T,b,P,k)=>{for(var B=0,K=0;K<P;K++){var te=x[b>>2],ee=x[b+4>>2];b+=8;for(var ne=0;ne<ee;ne++){var X=v[te+ne],ye=ka[T];0===X||10===X?((1===T?w:N)(Di(ye,0)),ye.length=0):ye.push(X)}B+=ee}return x[k>>2]=B,0}};!function(){function T(P){if(j=P=P.exports,F=j.Q,Xn(),we=j.W,Pe.unshift(j.R),Hn--,t.monitorRunDependencies&&t.monitorRunDependencies(Hn),0==Hn&&(null!==Mt&&(clearInterval(Mt),Mt=null),Ze)){var k=Ze;Ze=null,k()}return P}var b={a:et};if(Hn++,t.monitorRunDependencies&&t.monitorRunDependencies(Hn),t.instantiateWasm)try{return t.instantiateWasm(b,T)}catch(P){N("Module.instantiateWasm callback failed with error: "+P),i(P)}(function fi(T,b){var P=Si;return R||"function"!=typeof WebAssembly.instantiateStreaming||Gn(P)||P.startsWith("file://")||"function"!=typeof fetch?di(P,T,b):fetch(P,{credentials:"same-origin"}).then(k=>WebAssembly.instantiateStreaming(k,T).then(b,function(B){return N("wasm streaming compile failed: "+B),N("falling back to ArrayBuffer instantiation"),di(P,T,b)}))})(b,function(P){T(P.instance)}).catch(i)}();var dl,mi=T=>(mi=j.S)(T),zs=T=>(zs=j.T)(T),uo=T=>(uo=j.U)(T);function fl(){function T(){if(!dl&&(dl=!0,t.calledRun=!0,!W)){if(zo(Pe),r(t),t.onRuntimeInitialized&&t.onRuntimeInitialized(),t.postRun)for("function"==typeof t.postRun&&(t.postRun=[t.postRun]);t.postRun.length;){var b=t.postRun.shift();rt.unshift(b)}zo(rt)}}if(!(0<Hn)){if(t.preRun)for("function"==typeof t.preRun&&(t.preRun=[t.preRun]);t.preRun.length;)mn();zo(Ie),0<Hn||(t.setStatus?(t.setStatus("Running..."),setTimeout(function(){setTimeout(function(){t.setStatus("")},1),T()},1)):T())}}if(t.__embind_initialize_bindings=()=>(t.__embind_initialize_bindings=j.V)(),t.dynCall_jiji=(T,b,P,k,B)=>(t.dynCall_jiji=j.X)(T,b,P,k,B),Ze=function T(){dl||fl(),dl||(Ze=T)},t.preInit)for("function"==typeof t.preInit&&(t.preInit=[t.preInit]);0<t.preInit.length;)t.preInit.pop()();return fl(),e.ready});class v_{}class b_{}class y1{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?"string"==typeof e?this.lazyInit=()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof y1?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new y1;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof y1?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const s=e.value;if(s){let o=this.headers.get(t);if(!o)return;o=o.filter(a=>-1===s.indexOf(a)),0===o.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}else this.headers.delete(t),this.normalizedNames.delete(t)}}setHeaderEntries(e,t){const r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class qat{encodeKey(e){return Dae(e)}encodeValue(e){return Dae(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const Kat=/%(\d[a-f0-9])/gi,Qat={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Dae(n){return encodeURIComponent(n).replace(Kat,(e,t)=>Qat[t]??e)}function C_(n){return`${n}`}class Z2{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new qat,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function Wat(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const s=i.indexOf("="),[o,a]=-1==s?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],c=t.get(o)||[];c.push(a),t.set(o,c)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(C_):[C_(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new Z2({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(C_(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(C_(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class Yat{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Lae(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Rae(n){return typeof Blob<"u"&&n instanceof Blob}function Nae(n){return typeof FormData<"u"&&n instanceof FormData}class H8{constructor(e,t,r,i){let s;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function Jat(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params)),this.headers||(this.headers=new y1),this.context||(this.context=new Yat),this.params){const o=this.params.toString();if(0===o.length)this.urlWithParams=t;else{const a=t.indexOf("?");this.urlWithParams=t+(-1===a?"?":a<t.length-1?"&":"")+o}}else this.params=new Z2,this.urlWithParams=t}serializeBody(){return null===this.body?null:Lae(this.body)||Rae(this.body)||Nae(this.body)||function Xat(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof Z2?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Nae(this.body)?null:Rae(this.body)?this.body.type||null:Lae(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Z2?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=void 0!==e.body?e.body:this.body,o=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,a=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let c=e.headers||this.headers,u=e.params||this.params;const d=e.context??this.context;return void 0!==e.setHeaders&&(c=Object.keys(e.setHeaders).reduce((f,p)=>f.set(p,e.setHeaders[p]),c)),e.setParams&&(u=Object.keys(e.setParams).reduce((f,p)=>f.set(p,e.setParams[p]),u)),new H8(t,r,s,{params:u,headers:c,context:d,reportProgress:a,responseType:i,withCredentials:o})}}var b6=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(b6||{});class GL{constructor(e,t=200,r="OK"){this.headers=e.headers||new y1,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class qL extends GL{constructor(e={}){super(e),this.type=b6.ResponseHeader}clone(e={}){return new qL({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class C6 extends GL{constructor(e={}){super(e),this.type=b6.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new C6({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class Pae extends GL{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function WL(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let zae=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof H8)s=t;else{let c,u;c=i.headers instanceof y1?i.headers:new y1(i.headers),i.params&&(u=i.params instanceof Z2?i.params:new Z2({fromObject:i.params})),s=new H8(t,r,void 0!==i.body?i.body:null,{headers:c,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const o=nt(s).pipe(I4(c=>this.handler.handle(c)));if(t instanceof H8||"events"===i.observe)return o;const a=o.pipe(mr(c=>c instanceof C6));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return a.pipe(dt(c=>{if(null!==c.body&&!(c.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return c.body}));case"blob":return a.pipe(dt(c=>{if(null!==c.body&&!(c.body instanceof Blob))throw new Error("Response is not a Blob.");return c.body}));case"text":return a.pipe(dt(c=>{if(null!==c.body&&"string"!=typeof c.body)throw new Error("Response is not a string.");return c.body}));default:return a.pipe(dt(c=>c.body))}case"response":return a;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new Z2).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,WL(i,r))}post(t,r,i={}){return this.request("POST",t,WL(i,r))}put(t,r,i={}){return this.request("PUT",t,WL(i,r))}static{this.\u0275fac=function(r){return new(r||n)(de(v_))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();function Fae(n,e){return e(n)}function e1t(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const n1t=new Me(""),G8=new Me(""),Vae=new Me("");function r1t(){let n=null;return(e,t)=>{null===n&&(n=(me(n1t,{optional:!0})??[]).reduceRight(e1t,Fae));const r=me(pp),i=r.add();return n(e,t).pipe(tf(()=>r.remove(i)))}}let Bae=(()=>{class n extends v_{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=me(pp)}handle(t){if(null===this.chain){const i=Array.from(new Set([...this.injector.get(G8),...this.injector.get(Vae,[])]));this.chain=i.reduceRight((s,o)=>function t1t(n,e,t){return(r,i)=>t.runInContext(()=>e(r,s=>n(s,i)))}(s,o,this.injector),Fae)}const r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(tf(()=>this.pendingTasks.remove(r)))}static{this.\u0275fac=function(r){return new(r||n)(de(b_),de(Cs))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();const a1t=/^\)\]\}',?\n/;let jae=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new J(-2800,!1);const r=this.xhrFactory;return(r.\u0275loadImpl?Kr(r.\u0275loadImpl()):nt(null)).pipe(Ri(()=>new Qt(s=>{const o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((C,w)=>o.setRequestHeader(C,w.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const C=t.detectContentTypeHeader();null!==C&&o.setRequestHeader("Content-Type",C)}if(t.responseType){const C=t.responseType.toLowerCase();o.responseType="json"!==C?C:"text"}const a=t.serializeBody();let c=null;const u=()=>{if(null!==c)return c;const C=o.statusText||"OK",w=new y1(o.getAllResponseHeaders()),N=function c1t(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(o)||t.url;return c=new qL({headers:w,status:o.status,statusText:C,url:N}),c},d=()=>{let{headers:C,status:w,statusText:N,url:R}=u(),O=null;204!==w&&(O=typeof o.response>"u"?o.responseText:o.response),0===w&&(w=O?200:0);let F=w>=200&&w<300;if("json"===t.responseType&&"string"==typeof O){const j=O;O=O.replace(a1t,"");try{O=""!==O?JSON.parse(O):null}catch(W){O=j,F&&(F=!1,O={error:W,text:O})}}F?(s.next(new C6({body:O,headers:C,status:w,statusText:N,url:R||void 0})),s.complete()):s.error(new Pae({error:O,headers:C,status:w,statusText:N,url:R||void 0}))},f=C=>{const{url:w}=u(),N=new Pae({error:C,status:o.status||0,statusText:o.statusText||"Unknown Error",url:w||void 0});s.error(N)};let p=!1;const g=C=>{p||(s.next(u()),p=!0);let w={type:b6.DownloadProgress,loaded:C.loaded};C.lengthComputable&&(w.total=C.total),"text"===t.responseType&&o.responseText&&(w.partialText=o.responseText),s.next(w)},y=C=>{let w={type:b6.UploadProgress,loaded:C.loaded};C.lengthComputable&&(w.total=C.total),s.next(w)};return o.addEventListener("load",d),o.addEventListener("error",f),o.addEventListener("timeout",f),o.addEventListener("abort",f),t.reportProgress&&(o.addEventListener("progress",g),null!==a&&o.upload&&o.upload.addEventListener("progress",y)),o.send(a),s.next({type:b6.Sent}),()=>{o.removeEventListener("error",f),o.removeEventListener("abort",f),o.removeEventListener("load",d),o.removeEventListener("timeout",f),t.reportProgress&&(o.removeEventListener("progress",g),null!==a&&o.upload&&o.upload.removeEventListener("progress",y)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(de(RB))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();const KL=new Me("XSRF_ENABLED"),$ae=new Me("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Hae=new Me("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Gae{}let d1t=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=wB(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(de(Bn),de(n2),de($ae))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();function f1t(n,e){const t=n.url.toLowerCase();if(!me(KL)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=me(Gae).getToken(),i=me(Hae);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var el=function(n){return n[n.Interceptors=0]="Interceptors",n[n.LegacyInterceptors=1]="LegacyInterceptors",n[n.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",n[n.NoXsrfProtection=3]="NoXsrfProtection",n[n.JsonpSupport=4]="JsonpSupport",n[n.RequestsMadeViaParent=5]="RequestsMadeViaParent",n[n.Fetch=6]="Fetch",n}(el||{});function Q0(n,e){return{\u0275kind:n,\u0275providers:e}}function h1t(...n){const e=[zae,jae,Bae,{provide:v_,useExisting:Bae},{provide:b_,useExisting:jae},{provide:G8,useValue:f1t,multi:!0},{provide:KL,useValue:!0},{provide:Gae,useClass:d1t}];for(const t of n)e.push(...t.\u0275providers);return t2(e)}const qae=new Me("LEGACY_INTERCEPTOR_FN");let m1t=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({providers:[h1t(Q0(el.LegacyInterceptors,[{provide:qae,useFactory:r1t},{provide:G8,useExisting:qae,multi:!0}]))]})}}return n})();const w1t=new Me("Folder with Rive files"),E1t=new Me("Version used to load rive WASM"),T1t=new Me("Local path to rive WASM");let Wae=(()=>{class n{constructor(t,r,i,s){this.http=t;const o=s??"2.4.0";this.folder=r??"assets/rive",this.wasmPath=i??`https://unpkg.com/@rive-app/canvas-advanced@${o}/rive.wasm`}getRive(){var t=this;return D(function*(){if(!t.rive){const r=()=>t.wasmPath;t.rive=yield Gat({locateFile:r}),t.frame=(n=>new Qt(e=>{let t=0,r=!0;const i=s=>{const o=s-t;t=s,r?(e.next(16),r=!1):e.next(o),!e.closed&&n.requestAnimationFrame(i)};n.requestAnimationFrame(i)}))(t.rive).pipe(H5())}return t.rive})()}getAsset(t){return function Uat(n,e){const t="object"==typeof e;return new Promise((r,i)=>{const s=new Va({next:o=>{r(o),s.unsubscribe()},error:i,complete:()=>{t?r(e.defaultValue):i(new Xd)}});n.subscribe(s)})}(this.http.get(t,{responseType:"arraybuffer"}))}load(t){var r=this;return D(function*(){if("string"!=typeof t){const[a,c]=yield Promise.all([r.getRive(),t.arrayBuffer()]);return a?.load(new Uint8Array(c))}const i=`${r.folder}/${t}.riv`,[s,o]=yield Promise.all([r.getRive(),r.getAsset(i)]);if(!s)throw new Error("Could not load rive");return s.load(new Uint8Array(o))})()}static{this.\u0275fac=function(r){return new(r||n)(de(zae),de(w1t,8),de(T1t,8),de(E1t,8))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Kae(n){const e="string"==typeof n?parseInt(n):n;if("number"==typeof e)return e}const M1t=n=>null!=n;let q8=(()=>{class n{set riv(t){this.url.next(t)}set name(t){this.arboardName.next(t)}set width(t){const r=Kae(t)??this.canvas.width;this.canvas.width=r}get width(){return this.canvas.width}set height(t){const r=Kae(t)??this.canvas.height;this.canvas.height=r}get height(){return this.canvas.height}pointerMove(t){const r=Object.values(this.stateMachines).filter(s=>"pointerMove"in s);if(!r.length)return;const i=this.getTransform(t);if(i)for(const s of r)s.pointerMove(i.x,i.y)}pointerDown(t){const r=Object.values(this.stateMachines).filter(s=>"pointerDown"in s);if(!r.length)return;const i=this.getTransform(t);if(i)for(const s of r)s.pointerDown(i.x,i.y)}pointerUp(t){const r=Object.values(this.stateMachines).filter(s=>"pointerUp"in s);if(!r.length)return;const i=this.getTransform(t);if(i)for(const s of r)s.pointerUp(i.x,i.y)}constructor(t,r){var i=this;this.service=t,this.url=new Xi(null),this.arboardName=new Xi(null),this.boxes={},this.stateMachines={},this.viewbox="0 0 100% 100%",this.lazy=!1,this.fit="contain",this.alignment="center",this.artboardChange=new He,this.canvas=r.nativeElement,this.whenVisible=(n=>new Promise((e,t)=>{if(typeof window>"u")return e(!1);if(!("IntersectionObserver"in window))return e(!0);const i=new IntersectionObserver(s=>{s.forEach(o=>{0!==o.intersectionRatio!=0&&(e(!1),i.disconnect())})},{threshold:[0]});i.observe(n)}))(r.nativeElement),this.loaded=this.url.pipe(mr(M1t),My(),mr(()=>typeof window<"u"&&!!this.ctx),Ri(function(){var s=D(function*(o){if(i.file=yield i.service.load(o),i.rive=i.service.rive,!i.rive)throw new Error("Service could not load rive");i.renderer=i.rive.makeRenderer(i.canvas)});return function(o){return s.apply(this,arguments)}}()),Ri(s=>this.setArtboard()),function $at(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,H5({connector:()=>new jat(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}({bufferSize:1,refCount:!0}))}ngOnInit(){this.onReady()}ngOnDestroy(){setTimeout(()=>{this.renderer?.delete(),this.artboard?.delete(),this.file?.delete()},100)}get ctx(){return this._ctx||(this._ctx=this.canvas.getContext("2d")),this._ctx}setArtboard(){return this.arboardName.pipe(Ir(()=>this.artboard?.delete()),dt(t=>t?this.file?.artboardByName(t):this.file?.defaultArtboard()),Ir(t=>this.artboard=t),Ir(()=>this.artboardChange.emit(this.artboard)),dt(()=>!0))}get box(){const t=this.width,r=this.height,i=`${this.viewbox} ${t} ${r}`;if(!this.boxes[i]){const s=this.viewbox.split(" ");if(4!==s.length)throw new Error('View box should look like "0 0 100% 100%"');const[o,a,c,u]=s.map((d,f)=>{const p=f%2==0?t:r,g=d.endsWith("%")?parseInt(d.slice(0,-1),10)/100:parseInt(d,10)/p;return f<2?-p*g:p/g});this.boxes[i]={minX:o,minY:a,maxX:c,maxY:u}}return this.boxes[i]}get isLazy(){return!0===this.lazy||""===this.lazy}get count(){return this.artboard?.animationCount()}onReady(){return this.isLazy?Kr(this.whenVisible).pipe(mr(t=>t),Ri(()=>this.loaded)):this.loaded}draw(t,r,i){if(!this.rive)throw new Error("Could not load rive before registrating instance");if(!this.artboard)throw new Error("Could not load artboard before registrating instance");if(!this.renderer)throw new Error("Could not load renderer before registrating instance");this.renderer.clear(),function A1t(n){return"didLoop"in n}(t)?(t.advance(r),t.apply(i??1)):t.advance(r),this.artboard.advance(r),this.renderer.save(),this.renderer.align(this.rive.Fit[this.fit],this.rive.Alignment[this.alignment],this.box,this.artboard.bounds),this.artboard.draw(this.renderer),this.renderer.restore()}getTransform(t){if(!this.rive||!this.artboard)return;const r=this.canvas.getBoundingClientRect(),{clientX:i,clientY:s}=function I1t(n){return["touchstart","touchmove"].indexOf(n.type)>-1&&n.touches?.length?(n.preventDefault(),{clientX:n.touches[0].clientX,clientY:n.touches[0].clientY}):"touchend"===n.type&&n.changedTouches?.length?{clientX:n.changedTouches[0].clientX,clientY:n.changedTouches[0].clientY}:{clientX:n.clientX,clientY:n.clientY}}(t);if(!i&&!s)return;const o=i-r.left,a=s-r.top,c=this.rive.computeAlignment(this.rive.Fit[this.fit],this.rive.Alignment[this.alignment],{minX:0,minY:0,maxX:r.width,maxY:r.height},this.artboard.bounds),u=new this.rive.Mat2D;c.invert(u);const d=new this.rive.Vec2D(o,a),f=this.rive.mapXY(u,d),p=f.x(),g=f.y();return f.delete(),u.delete(),d.delete(),c.delete(),{x:p,y:g}}static{this.\u0275fac=function(r){return new(r||n)(V(Wae),V(dn))}}static{this.\u0275dir=ve({type:n,selectors:[["canvas","riv",""]],hostBindings:function(r,i){1&r&&Qe("touchmove",function(o){return i.pointerMove(o)})("mouseover",function(o){return i.pointerMove(o)})("mouseout",function(o){return i.pointerMove(o)})("mousemove",function(o){return i.pointerMove(o)})("touchstart",function(o){return i.pointerDown(o)})("mousedown",function(o){return i.pointerDown(o)})("touchend",function(o){return i.pointerUp(o)})("mouseup",function(o){return i.pointerUp(o)})},inputs:{riv:"riv",name:["artboard","name"],viewbox:"viewbox",lazy:"lazy",fit:"fit",alignment:"alignment",width:"width",height:"height"},outputs:{artboardChange:"artboardChange"},exportAs:["rivCanvas"],standalone:!0})}}return n})();function Yae(n={}){return{speed:1,playing:!1,mix:1,...n}}function x1t(n){return null!=n}let E_=(()=>{class n{set name(t){"string"==typeof t&&this.zone.runOutsideAngular(()=>{this.register(t)})}set index(t){const r="string"==typeof t?parseInt(t):t;"number"==typeof r&&this.zone.runOutsideAngular(()=>{this.register(r)})}set mix(t){const r="string"==typeof t?parseFloat(t):t;r&&r>=0&&r<=1&&this.update({mix:r})}get mix(){return this.state.getValue().mix}set speed(t){const r="string"==typeof t?parseFloat(t):t;"number"==typeof r&&this.update({speed:r})}get speed(){return this.state.getValue().speed}set play(t){!0===t||""===t?this.update({playing:!0}):!1===t&&this.update({playing:!1})}get play(){return this.state.getValue().playing}constructor(t,r,i){this.zone=t,this.canvas=r,this.service=i,this.distance=new Xi(null),this.state=new Xi(Yae()),this.load=new He}ngOnDestroy(){this.sub?.unsubscribe(),this.instance?.delete(),setTimeout(()=>this.instance?.delete(),100)}update(t){const r=Yae({...this.state.getValue(),...t});this.state.next(r)}getFrame(t){return t.playing&&this.service.frame?this.service.frame.pipe(dt(r=>[t,r])):nt(null)}initAnimation(t){if(!this.canvas.rive)throw new Error("Could not load animation instance before rive");if(!this.canvas.artboard)throw new Error("Could not load animation instance before artboard");const r="string"==typeof t?this.canvas.artboard.animationByName(t):this.canvas.artboard.animationByIndex(t);(function D1t(n,e,t){if(n)return;const r=e.name??"Default",i=e.animationCount();if("number"==typeof t)throw new Error(`Provided index "${t}" for the animation of artboard "${r}" is not available. Animation count is: ${i}`);{const s=[];for(let o=0;o<i;o++)s.push(e.animationByIndex(o).name);throw new Error(`Provided name "${t}" for the animation of artboard "${r}" is not available. Availables names are: ${JSON.stringify(s)}`)}})(r,this.canvas.artboard,t),this.instance=new this.canvas.rive.LinearAnimationInstance(r,this.canvas.artboard),this.load.emit(this.instance)}register(t){this.sub?.unsubscribe();const r=this.state.pipe(Ri(i=>this.getFrame(i)),mr(x1t),dt(([i,s])=>s/1e3*i.speed));this.sub=this.canvas.onReady().pipe(dt(()=>this.initAnimation(t)),Ri(()=>r)).subscribe(i=>this.applyChange(i))}applyChange(t){if(!this.instance)throw new Error("Could not load animation instance before running it");this.canvas.draw(this.instance,t,this.state.getValue().mix)}static{this.\u0275fac=function(r){return new(r||n)(V(pt),V(q8),V(Wae))}}static{this.\u0275dir=ve({type:n,selectors:[["riv-animation"],["","rivAnimation",""]],inputs:{name:"name",index:"index",mix:"mix",speed:"speed",play:"play"},outputs:{load:"load"},exportAs:["rivAnimation"],standalone:!0})}}return n})(),L1t=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({imports:[m1t]})}}return n})(),R1t=(()=>{class n{constructor(t,r,i){this.userService=t,this.router=r,this.toastr=i,this.formReg=new G0({email:new xo,password:new xo})}ngOnInit(){}onSubmit(){this.userService.register(this.formReg.value).then(t=>{console.log(t),this.toastr.error("User Register","save in data base",{positionClass:"toast-bottom-right"}),this.router.navigate(["/login"])}).catch(t=>console.log(t)),this.toastr.error("Error Register","Not Register",{positionClass:"toast-bottom-right"})}static{this.\u0275fac=function(r){return new(r||n)(V(y_),V(vi),V(Ec))}}static{this.\u0275cmp=xn({type:n,selectors:[["app-register"]],decls:23,vars:1,consts:[[1,"text-center","float-center"],["riv","LogoBNB","width","200","height","200"],["name","Complete","play",""],[1,"text-center"],[3,"formGroup","ngSubmit"],[1,"mb-3"],[1,"form-label"],["type","text","formControlName","email","required","",1,"form-control"],["type","email","formControlName","email","required","",1,"form-control"],["type","password","formControlName","password","required","",1,"form-control"],["type","submit","value","Sing up"],[1,"mt-4","text-center","float-center"],["type","submit","value","google",1,"me-4","btn","btn-info"],["type","submit","value","facebook",1,"me-4","btn","btn-info"],["type","submit","type","submit","value","twiter",1,"btn","btn-info"]],template:function(r,i){1&r&&(re(0,"div",0)(1,"canvas",1),Pt(2,"riv-animation",2),ie()(),re(3,"h2",3),$e(4,"Create your account"),ie(),re(5,"form",4),Qe("ngSubmit",function(){return i.onSubmit()}),re(6,"div",5)(7,"label",6),$e(8,"Aka"),ie(),Pt(9,"input",7),ie(),re(10,"div",5)(11,"label",6),$e(12,"Email"),ie(),Pt(13,"input",8),ie(),re(14,"div",5)(15,"label",6),$e(16,"Password"),ie(),Pt(17,"input",9),ie(),Pt(18,"input",10),ie(),re(19,"div",11),Pt(20,"input",12)(21,"input",13)(22,"input",14),ie()),2&r&&(fe(5),ge("formGroup",i.formReg))},dependencies:[j8,H0,z8,O8,$8,W0,v6,q8,E_],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:300px;margin:0 auto}h2[_ngcontent-%COMP%]{color:#fff;font-size:2.5em}label[_ngcontent-%COMP%]{margin-bottom:5px;color:#faebd7}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{padding:10px;margin-bottom:10px;border:1px solid #ccc;border-radius:4px}input[type=submit][_ngcontent-%COMP%]{padding:10px 20px;background-color:#4caf50;color:#fff;border:none;border-radius:4px;cursor:pointer}input[type=submit][_ngcontent-%COMP%]:hover{background-color:#45a049}"]})}}return n})(),N1t=(()=>{class n{constructor(t,r,i){this.userService=t,this.router=r,this.toastr=i,this.formLogin=new G0({email:new xo,password:new xo})}ngOnInit(){}onSubmit(){this.userService.login(this.formLogin.value).then(t=>{console.log(t),this.toastr.success("Login Successful","Login",{positionClass:"toast-bottom-right"}),this.router.navigate(["/list-move"])}).catch(t=>console.log(t)),this.toastr.success("Login Error","Login",{positionClass:"toast-bottom-right"})}onClick(){this.userService.loginWithGoogle().then(t=>{console.log(t),this.toastr.success("Login Successful","Login",{positionClass:"toast-bottom-right"}),this.router.navigate(["/list-move"])}).catch(t=>console.log(t)),this.toastr.success("Login Error","Login",{positionClass:"toast-bottom-right"})}onClickReg(){this.router.navigate(["/register"])}onClickForgot(){this.router.navigate(["/forgot"])}static{this.\u0275fac=function(r){return new(r||n)(V(y_),V(vi),V(Ec))}}static{this.\u0275cmp=xn({type:n,selectors:[["app-login"]],decls:37,vars:1,consts:[[1,"text-center","float-center"],["riv","LogoBNB","width","200","height","200"],["name","Complete","play",""],[1,"mt-4","text-center"],[1,"mt-3","text-center"],[1,"container"],[3,"formGroup","ngSubmit"],[1,"form-group"],["for","email"],["type","email","id","email","name","email","formControlName","email",1,"form-control"],["for","password"],["type","password","id","password","name","password","formControlName","password",1,"form-control"],["type","submit",1,"btn","btn-primary","btn-block"],[1,"btn","btn-danger","btn-block",3,"click"],[1,"btn","btn-link","btn-block",3,"click"],[1,"container-fluid","h-100"],[1,"row","w-100","align-items-center"],[1,"col","text-center"],["mt-4","",1,"btn","btn-info","mt-3","text-center","float-center",3,"click"],["mt-4","",3,"click"]],template:function(r,i){1&r&&(re(0,"div",0)(1,"canvas",1),Pt(2,"riv-animation",2),ie()(),re(3,"h2",3),$e(4,"Welcome Back"),ie(),re(5,"h2",4),$e(6,"Login to your account"),ie(),re(7,"div",5)(8,"form",6),Qe("ngSubmit",function(){return i.onSubmit()}),re(9,"div",7)(10,"label",8),$e(11,"Email"),ie(),Pt(12,"input",9),ie(),re(13,"div",7)(14,"label",10),$e(15,"Password"),ie(),Pt(16,"input",11),ie(),re(17,"button",12),$e(18,"Login"),ie()(),re(19,"button",13),Qe("click",function(){return i.onClick()}),$e(20,"Login with Google"),ie(),re(21,"button",14),Qe("click",function(){return i.onClickReg()}),$e(22,"Register"),ie(),re(23,"button",14),Qe("click",function(){return i.onClickForgot()}),$e(24,"Forgot Password"),ie()(),re(25,"div",15)(26,"div",16)(27,"div",17)(28,"button",18),Qe("click",function(){return i.onClick()}),$e(29," Login With Google "),ie()()(),re(30,"div",15)(31,"div",16)(32,"div",17)(33,"p",19),Qe("click",function(){return i.onClickForgot()}),$e(34,"Forgoten password."),ie(),re(35,"p",19),Qe("click",function(){return i.onClickReg()}),$e(36,"Dont have account. Sing Up."),ie()()()()()),2&r&&(fe(8),ge("formGroup",i.formLogin))},dependencies:[j8,H0,z8,O8,W0,v6,q8,E_],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:300px;margin:0 auto}h2[_ngcontent-%COMP%]{color:#fff;font-size:2.5em}label[_ngcontent-%COMP%]{margin-bottom:5px;color:#faebd7}p[_ngcontent-%COMP%]{color:#fff;font-size:1.5em}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{border:1px solid #ccc;border-radius:4px}input[type=submit][_ngcontent-%COMP%]{padding:10px 20px;background-color:#4caf50;color:#fff;border:none;border-radius:4px;cursor:pointer}input[type=submit][_ngcontent-%COMP%]:hover{background-color:#45a049}"]})}}return n})(),P1t=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=xn({type:n,selectors:[["app-list-sets"]],decls:2,vars:0,template:function(r,i){1&r&&(re(0,"p"),$e(1,"list-sets works!"),ie())}})}}return n})();function z1t(n,e){1&n&&(re(0,"h3",7),$e(1," No hay datos que mostrar. "),ie())}const O1t=function(n){return{"background-image":n}},k1t=function(n){return["/editMove/",n]};function F1t(n,e){if(1&n){const t=Ws();re(0,"tr")(1,"td")(2,"div",8),Pt(3,"div",9),re(4,"div",10)(5,"h4"),$e(6),ie(),re(7,"p"),$e(8),ie(),re(9,"p"),$e(10),ie(),re(11,"p"),$e(12),Pt(13,"fa-icon",11),ie(),re(14,"fa-icon",12),Qe("click",function(){const s=Oi(t).$implicit;return ki(Ve().onClickEdit(s))}),ie(),re(15,"fa-icon",13),Qe("click",function(){const s=Oi(t).$implicit;return ki(Ve().onClickDelete(s))}),ie()()()()()}if(2&n){const t=e.$implicit,r=Ve();fe(3),ge("ngStyle",G1(10,O1t,t.image?"url("+t.image+")":"none")),fe(3),ai("Name: ",t.name,""),fe(2),ai("Description: ",t.descripcion,""),fe(2),sp("Alias: ",t.alias," / Author: ",t.autor,""),fe(2),ai(" Public: ",t.publico," "),fe(1),ge("icon",r.iconcheck),fe(1),ge("icon",r.iconedit)("routerLink",G1(12,k1t,t.id)),fe(1),ge("icon",r.icontrash)}}let V1t=(()=>{class n{constructor(t,r){this.movesService=t,this.toastr=r,this.icontrash=Ow,this.iconedit=Cw,this.iconcheck=iE,this.moves=[{id:"",name:"",alias:"",descripcion:"",autor:"",publico:!1,image:""}]}ngOnInit(){this.movesService.getMoves().subscribe(t=>{this.moves=t}),this.toastr.success("Cargada base de datos","Actualizaci\xf3n",{positionClass:"toast-bottom-right"})}onClickEdit(t){var r=this;return D(function*(){const i=yield r.movesService.getEditMove(t);console.log(i)})()}onClickDelete(t){var r=this;return D(function*(){yield r.movesService.deleteMove(t),r.toastr.error("Movimiento borrado","Irrecuperable",{positionClass:"toast-bottom-right"})})()}static{this.\u0275fac=function(r){return new(r||n)(V(GD),V(Ec))}}static{this.\u0275cmp=xn({type:n,selectors:[["app-sets-public"]],decls:9,vars:2,consts:[[1,"container","mt-4"],[1,"card"],[1,"card-body"],[1,"h3"],["style","margin-top: 20px",4,"ngIf"],[1,"table","mt-4","table-striped"],[4,"ngFor","ngForOf"],[2,"margin-top","20px"],[1,"move"],[1,"image",3,"ngStyle"],[1,"info"],[1,"btn","btn-outline-info","ms-3",3,"icon"],["role","img","title","Edit",1,"btn","btn-outline-info","ms-3",3,"icon","routerLink","click"],["role","img","title","Delete",1,"btn","btn-outline-danger","ms-3",3,"icon","click"]],template:function(r,i){1&r&&(re(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),$e(4," List Public Moves"),ie(),Le(5,z1t,2,0,"h3",4),re(6,"table",5)(7,"tbody"),Le(8,F1t,16,14,"tr",6),ie()()()()()),2&r&&(fe(5),ge("ngIf",0==i.moves.length),fe(3),ge("ngForOf",i.moves))},dependencies:[Xa,Eo,Rp,Ul,Aoe]})}}return n})(),B1t=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=xn({type:n,selectors:[["app-sets-competicion"]],decls:2,vars:0,template:function(r,i){1&r&&(re(0,"p"),$e(1,"sets-competicion works!"),ie())}})}}return n})(),U1t=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=xn({type:n,selectors:[["app-create-sets"]],decls:2,vars:0,template:function(r,i){1&r&&(re(0,"p"),$e(1,"create-sets works!"),ie())}})}}return n})();var W8=function(n){return n.SlideLeft="SlideLeft",n.SlideRight="SlideRight",n.FadeOut="FadeOut",n}(W8||{});const j1t=function(n,e,t){return{left:n,opacity:e,transition:t}};function $1t(n,e){if(1&n&&(re(0,"div",1)(1,"div",2)(2,"canvas",3),Pt(3,"riv-animation",4),ie(),re(4,"div",5),$e(5,"Your app moves Breaking"),ie(),Pt(6,"div",6),ie()()),2&n){const t=Ve();ge("ngStyle",up(1,j1t,t.windowWidth,t.opacityChange,t.splashTransition))}}const H1t=[{path:"",redirectTo:"main",pathMatch:"full"},{path:"list-move",component:jot},{path:"list-sets",component:P1t},{path:"sets-public",component:V1t},{path:"sets-competicion",component:B1t},{path:"main",component:(()=>{class n{constructor(t){this.router=t,this.showSplash=!0,this.splashTransition="",this.windowWidth="",this.opacityChange=1,this.animationDuration=1,this.duration=3}ngOnInit(){this.startSplashAnimation(W8.FadeOut)}ngOnDestroy(){}startSplashAnimation(t){setTimeout(()=>{let r="";switch(t){case W8.SlideLeft:this.windowWidth="-"+window.innerWidth+"px",r="left "+this.animationDuration+"s";break;case W8.SlideRight:this.windowWidth=window.innerWidth+"px",r="left "+this.animationDuration+"s";break;case W8.FadeOut:r="opacity "+this.animationDuration+"s",this.opacityChange=0}this.splashTransition=r,setTimeout(()=>{this.showSplash=!this.showSplash,this.router.navigate(["/login"])},1e3*this.animationDuration)},1e3*this.duration)}static{this.\u0275fac=function(r){return new(r||n)(V(vi))}}static{this.\u0275cmp=xn({type:n,selectors:[["app-main"]],decls:1,vars:1,consts:[["class","app-splash-screen",3,"ngStyle",4,"ngIf"],[1,"app-splash-screen",3,"ngStyle"],[1,"app-splash-inner"],["riv","LogoBNB","width","300","height","300"],["name","Complete","play",""],[1,"app-label"],[1,"app-loader"]],template:function(r,i){1&r&&Le(0,$1t,7,5,"div",0),2&r&&ge("ngIf",i.showSplash)},dependencies:[Eo,Rp,q8,E_],styles:[".app-splash-screen[_ngcontent-%COMP%]{background:#000000;position:fixed;inset:0;display:flex;justify-content:center;align-items:center;width:100%;height:100%;z-index:100;opacity:1}.app-label[_ngcontent-%COMP%]{margin-top:32px;color:#fff;font-size:2em;font-family:Pacifico,cursive}.app-splash-inner[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}.app-logo[_ngcontent-%COMP%]{background:url(lighty.8f3d43db1ce6f9b1.svg);background-repeat:no-repeat;max-width:100%;background-position:center;background-size:contain;width:100px;height:100px}.app-loader[_ngcontent-%COMP%]{background:url(three-dots.08232105049052c6.svg);background-repeat:no-repeat;max-width:100%;background-position:center;background-size:contain;width:80px;height:80px;margin-top:80px}"]})}}return n})()},{path:"login",component:N1t},{path:"register",component:R1t},{path:"forgot",component:(()=>{class n{constructor(t,r,i){this.userService=t,this.router=r,this.toastr=i,this.formForgot=new G0({email:new xo})}ngOnInit(){}onSubmit(){this.userService.login(this.formForgot.value).then(t=>{console.log(t),this.toastr.error("Send Forgot","Send Mail",{positionClass:"toast-bottom-right"})}).catch(t=>console.log(t)),this.toastr.error("Error Forgot","Not Forgot",{positionClass:"toast-bottom-right"})}static{this.\u0275fac=function(r){return new(r||n)(V(y_),V(vi),V(Ec))}}static{this.\u0275cmp=xn({type:n,selectors:[["app-forgot"]],decls:11,vars:1,consts:[[1,"text-center","float-center"],["riv","LogoBNB","width","200","height","200"],["name","Complete","play",""],[1,"mt-4","text-center"],[3,"formGroup","ngSubmit"],[1,"mb-3"],["for","email",1,"form-label"],["type","email","formControlName","email","required","",1,"form-control"],["type","submit","value","Enviar"]],template:function(r,i){1&r&&(re(0,"div",0)(1,"canvas",1),Pt(2,"riv-animation",2),ie()(),re(3,"h2",3),$e(4,"Recordar pass usuario"),ie(),re(5,"form",4),Qe("ngSubmit",function(){return i.onSubmit()}),re(6,"div",5)(7,"label",6),$e(8,"Email"),ie(),Pt(9,"input",7),ie(),Pt(10,"input",8),ie()),2&r&&(fe(5),ge("formGroup",i.formForgot))},dependencies:[j8,H0,z8,O8,$8,W0,v6,q8,E_],styles:["form[_ngcontent-%COMP%]{display:flex;flex-direction:column;max-width:300px;margin:0 auto}h2[_ngcontent-%COMP%]{margin-top:32px;color:#fff;font-size:2.5em}label[_ngcontent-%COMP%]{margin-bottom:5px;color:#faebd7}p[_ngcontent-%COMP%]{padding:10px;margin-bottom:10px;color:#fff;font-size:1.5em}input[type=email][_ngcontent-%COMP%], input[type=password][_ngcontent-%COMP%]{padding:10px;margin-bottom:10px;border:1px solid #ccc;border-radius:4px}input[type=submit][_ngcontent-%COMP%]{padding:10px 20px;background-color:#4caf50;color:#fff;border:none;border-radius:4px;cursor:pointer}input[type=submit][_ngcontent-%COMP%]:hover{background-color:#45a049}"]})}}return n})()},{path:"create-move",component:xae},{path:"create-sets",component:U1t},{path:"editMove/:id",component:xae},{path:"**",redirectTo:"main",pathMatch:"full"}];let G1t=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({imports:[lj.forRoot(H1t),lj]})}}return n})(),q1t=(()=>{class n{constructor(t,r,i){this.userService=t,this.router=r,this.toastr=i}ngOnInit(){}onClick(){}onClickLogout(){this.userService.logout().then(()=>{this.toastr.error("User Logout","Send Logout",{positionClass:"toast-bottom-right"}),this.router.navigate(["/login"])}).catch(t=>console.log(t)),this.toastr.error("Error Logout","Not Logout",{positionClass:"toast-bottom-right"})}onClickLogin(){this.router.navigate(["/login"])}static{this.\u0275fac=function(r){return new(r||n)(V(y_),V(vi),V(Ec))}}static{this.\u0275cmp=xn({type:n,selectors:[["app-navbar"]],decls:9,vars:0,consts:[[1,"navbar","navbar-dark","bg-dark"],["routerLink","",1,"navbar-brand","ms-3"],[1,"btn","btn-outline-info","me-4","float-end",3,"click"],[1,"btn","btn-outline-danger","me-4","float-end",3,"click"]],template:function(r,i){1&r&&(re(0,"nav",0)(1,"a",1),$e(2,"Breaking"),re(3,"sup"),$e(4,"NoteBook"),ie()(),re(5,"button",2),Qe("click",function(){return i.onClickLogin()}),$e(6," login "),ie(),re(7,"button",3),Qe("click",function(){return i.onClickLogout()}),$e(8," Logout "),ie()())},dependencies:[Ul]})}}return n})(),W1t=(()=>{class n{constructor(){this.title="BreakingNB"}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=xn({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(r,i){1&r&&Pt(0,"main")(1,"app-navbar")(2,"router-outlet")},dependencies:[cw,q1t]})}}return n})();const K1t=["addListener","removeListener"],Q1t=["addEventListener","removeEventListener"],Y1t=["on","off"];function Qi(n,e,t,r){if(St(t)&&(r=t,t=void 0),r)return Qi(n,e,t).pipe(qC(r));const[i,s]=function Z1t(n){return St(n.addEventListener)&&St(n.removeEventListener)}(n)?Q1t.map(o=>a=>n[o](e,a,t)):function J1t(n){return St(n.addListener)&&St(n.removeListener)}(n)?K1t.map(Jae(n,e)):function X1t(n){return St(n.on)&&St(n.off)}(n)?Y1t.map(Jae(n,e)):[];if(!i&&Ey(n))return ri(o=>Qi(o,e,t))(ni(n));if(!i)throw new TypeError("Invalid event target");return new Qt(o=>{const a=(...c)=>o.next(1<c.length?c:c[0]);return i(a),()=>s(a)})}function Jae(n,e){return t=>r=>n[t](e,r)}const{isArray:tct}=Array;function Zae(n){return 1===n.length&&tct(n[0])?n[0]:n}function QL(...n){const e=U5(n),t=Zae(n);return t.length?new Qt(r=>{let i=t.map(()=>[]),s=t.map(()=>!1);r.add(()=>{i=s=null});for(let o=0;!r.closed&&o<t.length;o++)ni(t[o]).subscribe(On(r,a=>{if(i[o].push(a),i.every(c=>c.length)){const c=i.map(u=>u.shift());r.next(e?e(...c):c),i.some((u,d)=>!u.length&&s[d])&&r.complete()}},()=>{s[o]=!0,!i[o].length&&r.complete()}));return()=>{i=s=null}}):Ho}function YL(...n){const e=U5(n);return dr((t,r)=>{const i=n.length,s=new Array(i);let o=n.map(()=>!1),a=!1;for(let c=0;c<i;c++)ni(n[c]).subscribe(On(r,u=>{s[c]=u,!a&&!o[c]&&(o[c]=!0,(a=o.every(pa))&&(o=null))},yl));t.subscribe(On(r,c=>{if(a){const u=[c,...s];r.next(e?e(...u):u)}}))})}Error,Math,Math,Math;const N2t=["*"],llt=["dialog"];function X0(n){return"string"==typeof n}function Z0(n){return null!=n}function S6(n){return(n||document.body).getBoundingClientRect()}const R1e={animation:!0,transitionTimerDelayMs:5},t0t=()=>{},{transitionTimerDelayMs:n0t}=R1e,t5=new Map,io=(n,e,t,r)=>{let i=r.context||{};const s=t5.get(e);if(s)switch(r.runningTransition){case"continue":return Ho;case"stop":n.run(()=>s.transition$.complete()),i=Object.assign(s.context,i),t5.delete(e)}const o=t(e,r.animation,i)||t0t;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>o()),nt(void 0).pipe(function Zlt(n){return e=>new Qt(t=>e.subscribe({next:o=>n.run(()=>t.next(o)),error:o=>n.run(()=>t.error(o)),complete:()=>n.run(()=>t.complete())}))}(n));const a=new xt,c=new xt,u=a.pipe(function rct(...n){return e=>Zd(e,nt(...n))}(!0));t5.set(e,{transition$:a,complete:()=>{c.next(),c.complete()},context:i});const d=function e0t(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const f=Qi(e,"transitionend").pipe(Mr(u),mr(({target:g})=>g===e));(function e1e(...n){return 1===(n=Zae(n)).length?ni(n[0]):new Qt(function nct(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push(ni(n[r]).subscribe(On(e,i=>{if(t){for(let s=0;s<t.length;s++)s!==r&&t[s].unsubscribe();t=null}e.next(i)})))}}(n))})(function Xae(n=0,e,t=SGe){let r=-1;return null!=e&&(vN(e)?t=e:r=e),new Qt(i=>{let s=function ect(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;s<0&&(s=0);let o=0;return t.schedule(function(){i.closed||(i.next(o++),0<=r?this.schedule(void 0,r):i.complete())},s)})}(d+n0t).pipe(Mr(u)),f,c).pipe(Mr(u)).subscribe(()=>{t5.delete(e),n.run(()=>{o(),a.next(),a.complete()})})}),a.asObservable()};let L_=(()=>{class n{constructor(){this.animation=R1e.animation}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),U1e=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({})}}return n})(),j1e=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({})}}return n})(),G1e=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({})}}return n})(),q1e=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({})}}return n})();var Pn=function(n){return n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown",n}(Pn||{});typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const Z1e=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function ece(n){const e=Array.from(n.querySelectorAll(Z1e)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let hce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({})}}return n})(),gce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({})}}return n})();class i3{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let t3t=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(Bi(1)).subscribe(()=>{io(this._zone,this._el.nativeElement,(t,r)=>{r&&S6(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return io(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}static{this.\u0275fac=function(r){return new(r||n)(V(dn),V(pt))}}static{this.\u0275cmp=xn({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(r,i){2&r&&(ws("modal-backdrop"+(i.backdropClass?" "+i.backdropClass:"")),fn("show",!i.animation)("fade",i.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[Qs],decls:0,vars:0,template:function(r,i){},encapsulation:2})}}return n})();class _ce{update(e){}close(e){}dismiss(e){}}const n3t=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],r3t=["animation","backdropClass"];class i3t{_applyWindowOptions(e,t){n3t.forEach(r=>{Z0(t[r])&&(e[r]=t[r])})}_applyBackdropOptions(e,t){r3t.forEach(r=>{Z0(t[r])&&(e[r]=t[r])})}update(e){this._applyWindowOptions(this._windowCmptRef.instance,e),this._backdropCmptRef&&this._backdropCmptRef.instance&&this._applyBackdropOptions(this._backdropCmptRef.instance,e)}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Mr(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Mr(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new xt,this._dismissed=new xt,this._hidden=new xt,e.instance.dismissEvent.subscribe(s=>{this.dismiss(s)}),this.result=new Promise((s,o)=>{this._resolve=s,this._reject=o}),this.result.then(null,()=>{})}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function x1e(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():nt(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),QL(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var TR=function(n){return n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC",n}(TR||{});let s3t=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new xt,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new He,this.shown=new xt,this.hidden=new xt}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":X0(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Bi(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},o=QL(io(this._zone,t,()=>t.classList.remove("show"),r),io(this._zone,this._dialogEl.nativeElement,()=>{},r));return o.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),o}_show(){const t={animation:this.animation,runningTransition:"continue"};QL(io(this._zone,this._elRef.nativeElement,(s,o)=>{o&&S6(s),s.classList.add("show")},t),io(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{Qi(t,"keydown").pipe(Mr(this._closed$),mr(i=>i.which===Pn.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(TR.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;Qi(this._dialogEl.nativeElement,"mousedown").pipe(Mr(this._closed$),Ir(()=>r=!1),Ri(()=>Qi(t,"mouseup").pipe(Mr(this._closed$),Bi(1))),mr(({target:i})=>t===i)).subscribe(()=>{r=!0}),Qi(t,"click").pipe(Mr(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(TR.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=ece(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&io(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}static{this.\u0275fac=function(r){return new(r||n)(V(Bn),V(dn),V(pt))}}static{this.\u0275cmp=xn({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(r,i){if(1&r&&Nl(llt,7),2&r){let s;En(s=function Tn(){return function khe(n,e){return n[Ua].queries[e].queryList}(se(),TP())}())&&(i._dialogEl=s.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(r,i){2&r&&(qt("aria-modal",!0)("aria-labelledby",i.ariaLabelledBy)("aria-describedby",i.ariaDescribedBy),ws("modal d-block"+(i.windowClass?" "+i.windowClass:"")),fn("fade",i.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[Qs],ngContentSelectors:N2t,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(r,i){1&r&&(Eb(),re(0,"div",0,1)(2,"div",2),Tb(3),ie()()),2&r&&ws("modal-dialog"+(i.size?" modal-"+i.size:"")+(i.centered?" modal-dialog-centered":"")+i.fullscreenClass+(i.scrollable?" modal-dialog-scrollable":"")+(i.modalDialogClass?" "+i.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2})}}return n})(),o3t=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:s,paddingRight:o}=i;if(t>0){const a=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${a+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=o),i.overflow=s}}static{this.\u0275fac=function(r){return new(r||n)(de(Bn))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),a3t=(()=>{class n{constructor(t,r,i,s,o,a,c){this._applicationRef=t,this._injector=r,this._environmentInjector=i,this._document=s,this._scrollBar=o,this._rendererFactory=a,this._ngZone=c,this._activeWindowCmptHasChanged=new xt,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._modalRefs=[],this._windowCmpts=[],this._activeInstances=new He,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const u=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const i=Qi(e,"focusin").pipe(Mr(t),dt(s=>s.target));Qi(e,"keydown").pipe(Mr(t),mr(s=>s.which===Pn.Tab),YL(i)).subscribe(([s,o])=>{const[a,c]=ece(e);(o===a||o===e)&&s.shiftKey&&(c.focus(),s.preventDefault()),o===c&&!s.shiftKey&&(a.focus(),s.preventDefault())}),r&&Qi(e,"click").pipe(Mr(t),YL(i),dt(s=>s[1])).subscribe(s=>s.focus())})})(this._ngZone,u.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(u.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const s=i.container instanceof HTMLElement?i.container:Z0(i.container)?this._document.querySelector(i.container):this._document.body,o=this._rendererFactory.createRenderer(null,null);if(!s)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const a=new _ce,c=(t=i.injector||t).get(Cs,null)||this._environmentInjector,u=this._getContentRef(t,c,r,a,i);let d=!1!==i.backdrop?this._attachBackdrop(s):void 0,f=this._attachWindowComponent(s,u.nodes),p=new i3t(f,u,d,i.beforeDismiss);return this._registerModalRef(p),this._registerWindowCmpt(f),p.hidden.pipe(Bi(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(o.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),a.close=g=>{p.close(g)},a.dismiss=g=>{p.dismiss(g)},a.update=g=>{p.update(g)},p.update(i),1===this._modalRefs.length&&o.addClass(this._document.body,"modal-open"),d&&d.instance&&d.changeDetectorRef.detectChanges(),f.changeDetectorRef.detectChanges(),p}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=pC(t3t,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=pC(s3t,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_getContentRef(t,r,i,s,o){return i?i instanceof hr?this._createFromTemplateRef(i,s):X0(i)?this._createFromString(i):this._createFromComponent(t,r,i,s,o):new i3([])}_createFromTemplateRef(t,r){const s=t.createEmbeddedView({$implicit:r,close(o){r.close(o)},dismiss(o){r.dismiss(o)}});return this._applicationRef.attachView(s),new i3([s.rootNodes],s)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new i3([[r]])}_createFromComponent(t,r,i,s,o){const c=pC(i,{environmentInjector:r,elementInjector:tr.create({providers:[{provide:_ce,useValue:s}],parent:t})}),u=c.location.nativeElement;return o.scrollable&&u.classList.add("component-host-scrollable"),this._applicationRef.attachView(c.hostView),new i3([[u]],c.hostView,c)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}static{this.\u0275fac=function(r){return new(r||n)(de(wa),de(tr),de(Cs),de(Bn),de(o3t),de(t4),de(pt))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),c3t=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}static{this.\u0275fac=function(r){return new(r||n)(de(L_))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),l3t=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}static{this.\u0275fac=function(r){return new(r||n)(de(tr),de(a3t),de(c3t))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),yce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({providers:[l3t]})}}return n})(),Cce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({})}}return n})(),xce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({})}}return n})(),Dce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({})}}return n})(),Lce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({})}}return n})(),Rce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({})}}return n})(),Nce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({})}}return n})(),Pce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({})}}return n})(),zce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({})}}return n})(),Oce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({})}}return n})();new Me("live announcer delay",{providedIn:"root",factory:function T3t(){return 100}});let kce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({})}}return n})(),Fce=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({})}}return n})();const M3t=[U1e,j1e,G1e,q1e,hce,gce,yce,Cce,Fce,xce,Dce,Lce,Rce,Nce,Pce,zce,Oce,kce];let S3t=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({imports:[M3t,U1e,j1e,G1e,q1e,hce,gce,yce,Cce,Fce,xce,Dce,Lce,Rce,Nce,Pce,zce,Oce,kce]})}}return n})();const A3t_firebase={projectId:"breakingnotebooknew",appId:"1:604425769462:web:2d77e32570a5f6cfc277d7",storageBucket:"breakingnotebooknew.appspot.com",locationId:"europe-west",apiKey:"AIzaSyD4fHOczQ_nG7jFeoy1NWGpyirrsuFjuV4",authDomain:"breakingnotebooknew.firebaseapp.com",messagingSenderId:"604425769462",measurementId:"G-776EN7Y524"};function Vce(n){return new J(3e3,!1)}function rl(n){switch(n.length){case 0:return new I8;case 1:return n[0];default:return new yse(n)}}function Bce(n,e,t=new Map,r=new Map){const i=[],s=[];let o=-1,a=null;if(e.forEach(c=>{const u=c.get("offset"),d=u==o,f=d&&a||new Map;c.forEach((p,g)=>{let y=g,C=p;if("offset"!==g)switch(y=n.normalizePropertyName(y,i),C){case"!":C=t.get(g);break;case wc:C=r.get(g);break;default:C=n.normalizeStyleValue(g,y,C,i)}f.set(y,C)}),d||s.push(f),a=f,o=u}),i.length)throw function J3t(n){return new J(3502,!1)}();return s}function MR(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&SR(t,"start",n)));break;case"done":n.onDone(()=>r(t&&SR(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&SR(t,"destroy",n)))}}function SR(n,e,t){const s=AR(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),o=n._data;return null!=o&&(s._data=o),s}function AR(n,e,t,r,i="",s=0,o){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:s,disabled:!!o}}function No(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function Uce(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}const l4t=(()=>typeof document>"u"?null:document.documentElement)();function xR(n){const e=n.parentNode||n.host||null;return e===l4t?null:e}let s3=null,jce=!1;function $ce(n,e){for(;e;){if(e===n)return!0;e=xR(e)}return!1}function Hce(n,e,t){if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]}let Gce=(()=>{class n{validateStyleProperty(t){return function d4t(n){s3||(s3=function f4t(){return typeof document<"u"?document.body:null}()||{},jce=!!s3.style&&"WebkitAppearance"in s3.style);let e=!0;return s3.style&&!function u4t(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in s3.style,!e&&jce&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in s3.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return $ce(t,r)}getParentElement(t){return xR(t)}query(t,r,i){return Hce(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,s,o,a=[],c){return new I8(i,s)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})(),DR=(()=>{class n{static{this.NOOP=new Gce}}return n})();const h4t=1e3,LR="ng-enter",H_="ng-leave",G_="ng-trigger",q_=".ng-trigger",Wce="ng-animating",RR=".ng-animating";function Ac(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:NR(parseFloat(e[1]),e[2])}function NR(n,e){return"s"===e?n*h4t:n}function W_(n,e,t){return n.hasOwnProperty("duration")?n:function m4t(n,e,t){let i,s=0,o="";if("string"==typeof n){const a=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===a)return e.push(Vce()),{duration:0,delay:0,easing:""};i=NR(parseFloat(a[1]),a[2]);const c=a[3];null!=c&&(s=NR(parseFloat(c),a[4]));const u=a[5];u&&(o=u)}else i=n;if(!t){let a=!1,c=e.length;i<0&&(e.push(function x3t(){return new J(3100,!1)}()),a=!0),s<0&&(e.push(function D3t(){return new J(3101,!1)}()),a=!0),a&&e.splice(c,0,Vce())}return{duration:i,delay:s,easing:o}}(n,e,t)}function o5(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function Kce(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function il(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function C1(n,e,t){e.forEach((r,i)=>{const s=zR(i);t&&!t.has(i)&&t.set(i,n.style[s]),n.style[s]=r})}function o3(n,e){e.forEach((t,r)=>{const i=zR(r);n.style[i]=""})}function a5(n){return Array.isArray(n)?1==n.length?n[0]:gse(n):n}const PR=new RegExp("{{\\s*(.+?)\\s*}}","g");function Yce(n){let e=[];if("string"==typeof n){let t;for(;t=PR.exec(n);)e.push(t[1]);PR.lastIndex=0}return e}function c5(n,e,t){const r=n.toString(),i=r.replace(PR,(s,o)=>{let a=e[o];return null==a&&(t.push(function R3t(n){return new J(3003,!1)}()),a=""),a.toString()});return i==r?n:i}function K_(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const y4t=/-+([a-z0-9])/g;function zR(n){return n.replace(y4t,(...e)=>e[1].toUpperCase())}function Po(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function N3t(n){return new J(3004,!1)}()}}function Jce(n,e){return window.getComputedStyle(n)[e]}const Q_="*";function C4t(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function w4t(n,e,t){if(":"==n[0]){const c=function E4t(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function W3t(n){return new J(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof c)return void e.push(c);n=c}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function q3t(n){return new J(3015,!1)}()),e;const i=r[1],s=r[2],o=r[3];e.push(Xce(i,o));"<"==s[0]&&!(i==Q_&&o==Q_)&&e.push(Xce(o,i))}(r,t,e)):t.push(n),t}const Y_=new Set(["true","1"]),J_=new Set(["false","0"]);function Xce(n,e){const t=Y_.has(n)||J_.has(n),r=Y_.has(e)||J_.has(e);return(i,s)=>{let o=n==Q_||n==i,a=e==Q_||e==s;return!o&&t&&"boolean"==typeof i&&(o=i?Y_.has(n):J_.has(n)),!a&&r&&"boolean"==typeof s&&(a=s?Y_.has(e):J_.has(e)),o&&a}}const T4t=new RegExp("s*:selfs*,?","g");function OR(n,e,t,r){return new I4t(n).build(e,t,r)}class I4t{constructor(e){this._driver=e}build(e,t,r){const i=new A4t(t);return this._resetContextStyleTimingState(i),Po(this,a5(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const s=[],o=[];return"@"==e.name.charAt(0)&&t.errors.push(function z3t(){return new J(3006,!1)}()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),0==a.type){const c=a,u=c.name;u.toString().split(/\s*,\s*/).forEach(d=>{c.name=d,s.push(this.visitState(c,t))}),c.name=u}else if(1==a.type){const c=this.visitTransition(a,t);r+=c.queryCount,i+=c.depCount,o.push(c)}else t.errors.push(function O3t(){return new J(3007,!1)}())}),{type:7,name:e.name,states:s,transitions:o,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const s=new Set,o=i||{};r.styles.forEach(a=>{a instanceof Map&&a.forEach(c=>{Yce(c).forEach(u=>{o.hasOwnProperty(u)||s.add(u)})})}),s.size&&(K_(s.values()),t.errors.push(function k3t(n,e){return new J(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=Po(this,a5(e.animation),t);return{type:1,matchers:C4t(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:a3(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>Po(this,r,t)),options:a3(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const s=e.steps.map(o=>{t.currentTime=r;const a=Po(this,o,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:3,steps:s,options:a3(e.options)}}visitAnimate(e,t){const r=function D4t(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return kR(W_(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(s=>"{"==s.charAt(0)&&"{"==s.charAt(1))){const s=kR(0,0,"");return s.dynamic=!0,s.strValue=t,s}const i=W_(t,e);return kR(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,s=e.styles?e.styles:T8({});if(5==s.type)i=this.visitKeyframes(s,t);else{let o=e.styles,a=!1;if(!o){a=!0;const u={};r.easing&&(u.easing=r.easing),o=T8(u)}t.currentTime+=r.duration+r.delay;const c=this.visitStyle(o,t);c.isEmptyStep=a,i=c}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)"string"==typeof a?a===wc?r.push(a):t.errors.push(new J(3002,!1)):r.push(Kce(a));let s=!1,o=null;return r.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(o=a.get("easing"),a.delete("easing")),!s))for(let c of a.values())if(c.toString().indexOf("{{")>=0){s=!0;break}}),{type:6,styles:r,easing:o,offset:e.offset,containsDynamicStyles:s,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,s=t.currentTime;r&&s>0&&(s-=r.duration+r.delay),e.styles.forEach(o=>{"string"!=typeof o&&o.forEach((a,c)=>{const u=t.collectedStyles.get(t.currentQuerySelector),d=u.get(c);let f=!0;d&&(s!=i&&s>=d.startTime&&i<=d.endTime&&(t.errors.push(function V3t(n,e,t,r,i){return new J(3010,!1)}()),f=!1),s=d.startTime),f&&u.set(c,{startTime:s,endTime:i}),t.options&&function _4t(n,e,t){const r=e.params||{},i=Yce(n);i.length&&i.forEach(s=>{r.hasOwnProperty(s)||t.push(function L3t(n){return new J(3001,!1)}())})}(a,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function B3t(){return new J(3011,!1)}()),r;let s=0;const o=[];let a=!1,c=!1,u=0;const d=e.steps.map(N=>{const R=this._makeStyleAst(N,t);let O=null!=R.offset?R.offset:function x4t(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(R.styles),F=0;return null!=O&&(s++,F=R.offset=O),c=c||F<0||F>1,a=a||F<u,u=F,o.push(F),R});c&&t.errors.push(function U3t(){return new J(3012,!1)}()),a&&t.errors.push(function j3t(){return new J(3200,!1)}());const f=e.steps.length;let p=0;s>0&&s<f?t.errors.push(function $3t(){return new J(3202,!1)}()):0==s&&(p=1/(f-1));const g=f-1,y=t.currentTime,C=t.currentAnimateTimings,w=C.duration;return d.forEach((N,R)=>{const O=p>0?R==g?1:p*R:o[R],F=O*w;t.currentTime=y+C.delay+F,C.duration=F,this._validateStyleAst(N,t),N.offset=O,r.styles.push(N)}),r}visitReference(e,t){return{type:8,animation:Po(this,a5(e.animation),t),options:a3(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:a3(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:a3(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[s,o]=function M4t(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(T4t,"")),n=n.replace(/@\*/g,q_).replace(/@\w+/g,t=>q_+"-"+t.slice(1)).replace(/:animating/g,RR),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+s:s,No(t.collectedStyles,t.currentQuerySelector,new Map);const a=Po(this,a5(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:s,limit:i.limit||0,optional:!!i.optional,includeSelf:o,animation:a,originalSelector:e.selector,options:a3(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function H3t(){return new J(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:W_(e.timings,t.errors,!0);return{type:12,animation:Po(this,a5(e.animation),t),timings:r,options:null}}}class A4t{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function a3(n){return n?(n=o5(n)).params&&(n.params=function S4t(n){return n?o5(n):null}(n.params)):n={},n}function kR(n,e,t){return{duration:n,delay:e,easing:t}}function FR(n,e,t,r,i,s,o=null,a=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:s,totalTime:i+s,easing:o,subTimeline:a}}class X_{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const N4t=new RegExp(":enter","g"),z4t=new RegExp(":leave","g");function VR(n,e,t,r,i,s=new Map,o=new Map,a,c,u=[]){return(new O4t).buildKeyframes(n,e,t,r,i,s,o,a,c,u)}class O4t{buildKeyframes(e,t,r,i,s,o,a,c,u,d=[]){u=u||new X_;const f=new BR(e,t,u,i,s,d,[]);f.options=c;const p=c.delay?Ac(c.delay):0;f.currentTimeline.delayNextStep(p),f.currentTimeline.setStyles([o],null,f.errors,c),Po(this,r,f);const g=f.timelines.filter(y=>y.containsAnimation());if(g.length&&a.size){let y;for(let C=g.length-1;C>=0;C--){const w=g[C];if(w.element===t){y=w;break}}y&&!y.allowOnlyTimelineStyles()&&y.setStyles([a],null,f.errors,c)}return g.length?g.map(y=>y.buildKeyframes()):[FR(t,[],[],[],0,p,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),s=t.currentTimeline.currentTime,o=this._visitSubInstructions(r,i,i.options);s!=o&&t.transformIntoNewTimeline(o)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const s=i?.delay;if(s){const o="number"==typeof s?s:Ac(c5(s,i?.params??{},t.errors));r.delayNextStep(o)}}}_visitSubInstructions(e,t,r){let s=t.currentTimeline.currentTime;const o=null!=r.duration?Ac(r.duration):null,a=null!=r.delay?Ac(r.delay):null;return 0!==o&&e.forEach(c=>{const u=t.appendInstructionToTimeline(c,o,a);s=Math.max(s,u.duration+u.delay)}),s}visitReference(e,t){t.updateOptions(e.options,!0),Po(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const s=e.options;if(s&&(s.params||s.delay)&&(i=t.createSubContext(s),i.transformIntoNewTimeline(),null!=s.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Z_);const o=Ac(s.delay);i.delayNextStep(o)}e.steps.length&&(e.steps.forEach(o=>Po(this,o,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const s=e.options&&e.options.delay?Ac(e.options.delay):0;e.steps.forEach(o=>{const a=t.createSubContext(e.options);s&&a.delayNextStep(s),Po(this,o,a),i=Math.max(i,a.currentTimeline.currentTime),r.push(a.currentTimeline)}),r.forEach(o=>t.currentTimeline.mergeTimelineCollectedStyles(o)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return W_(t.params?c5(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const s=e.style;5==s.type?this.visitKeyframes(s,t):(t.incrementTime(r.duration),this.visitStyle(s,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const s=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(s):r.setStyles(e.styles,s,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,s=r.duration,a=t.createSubContext().currentTimeline;a.easing=r.easing,e.styles.forEach(c=>{a.forwardTime((c.offset||0)*s),a.setStyles(c.styles,c.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+s),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},s=i.delay?Ac(i.delay):0;s&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Z_);let o=r;const a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let c=null;a.forEach((u,d)=>{t.currentQueryIndex=d;const f=t.createSubContext(e.options,u);s&&f.delayNextStep(s),u===t.element&&(c=f.currentTimeline),Po(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe(),o=Math.max(o,f.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(o),c&&(t.currentTimeline.mergeTimelineCollectedStyles(c),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,s=e.timings,o=Math.abs(s.duration),a=o*(t.currentQueryTotal-1);let c=o*t.currentQueryIndex;switch(s.duration<0?"reverse":s.easing){case"reverse":c=a-c;break;case"full":c=r.currentStaggerTime}const d=t.currentTimeline;c&&d.delayNextStep(c);const f=d.currentTime;Po(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-f+(i.startTime-r.currentTimeline.startTime)}}const Z_={};class BR{constructor(e,t,r,i,s,o,a,c){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=s,this.errors=o,this.timelines=a,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=Z_,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=c||new ey(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Ac(r.duration)),null!=r.delay&&(i.delay=Ac(r.delay));const s=r.params;if(s){let o=i.params;o||(o=this.options.params={}),Object.keys(s).forEach(a=>{(!t||!o.hasOwnProperty(a))&&(o[a]=c5(s[a],o,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,s=new BR(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return s.previousNode=this.previousNode,s.currentAnimateTimings=this.currentAnimateTimings,s.options=this._copyOptions(),s.updateOptions(e),s.currentQueryIndex=this.currentQueryIndex,s.currentQueryTotal=this.currentQueryTotal,s.parentContext=this,this.subContextCount++,s}transformIntoNewTimeline(e){return this.previousNode=Z_,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},s=new k4t(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(s),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,s,o){let a=[];if(i&&a.push(this.element),e.length>0){e=(e=e.replace(N4t,"."+this._enterClassName)).replace(z4t,"."+this._leaveClassName);let u=this._driver.query(this.element,e,1!=r);0!==r&&(u=r<0?u.slice(u.length+r,u.length):u.slice(0,r)),a.push(...u)}return!s&&0==a.length&&o.push(function G3t(n){return new J(3014,!1)}()),a}}class ey{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new ey(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||wc),this._currentKeyframe.set(t,wc);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const s=i&&i.params||{},o=function F4t(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let s of r)t.set(s,wc)}else il(i,t)}),t}(e,this._globalTimelineStyles);for(let[a,c]of o){const u=c5(c,s,r);this._pendingStyles.set(a,u),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??wc),this._updateStyle(a,u)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((a,c)=>{const u=il(a,new Map,this._backFill);u.forEach((d,f)=>{"!"===d?e.add(f):d===wc&&t.add(f)}),r||u.set("offset",c/this.duration),i.push(u)});const s=e.size?K_(e.values()):[],o=t.size?K_(t.values()):[];if(r){const a=i[0],c=new Map(a);a.set("offset",0),c.set("offset",1),i=[a,c]}return FR(this.element,i,s,o,this.duration,this.startTime,this.easing,!1)}}class k4t extends ey{constructor(e,t,r,i,s,o,a=!1){super(e,t,o.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=s,this._stretchStartingKeyframe=a,this.timings={duration:o.duration,delay:o.delay,easing:o.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const s=[],o=r+t,a=t/o,c=il(e[0]);c.set("offset",0),s.push(c);const u=il(e[0]);u.set("offset",t2e(a)),s.push(u);const d=e.length-1;for(let f=1;f<=d;f++){let p=il(e[f]);const g=p.get("offset");p.set("offset",t2e((t+g*r)/o)),s.push(p)}r=o,t=0,i="",e=s}return FR(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function t2e(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class UR{}const V4t=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class B4t extends UR{normalizePropertyName(e,t){return zR(e)}normalizeStyleValue(e,t,r,i){let s="";const o=r.toString().trim();if(V4t.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)s="px";else{const a=r.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&0==a[1].length&&i.push(function P3t(n,e){return new J(3005,!1)}())}return o+s}}function n2e(n,e,t,r,i,s,o,a,c,u,d,f,p){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:s,toState:r,toStyles:o,timelines:a,queriedElements:c,preStyleProps:u,postStyleProps:d,totalTime:f,errors:p}}const jR={};class r2e{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function U4t(n,e,t,r,i){return n.some(s=>s(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,s,o,a,c,u,d){const f=[],p=this.ast.options&&this.ast.options.params||jR,y=this.buildStyles(r,a&&a.params||jR,f),C=c&&c.params||jR,w=this.buildStyles(i,C,f),N=new Set,R=new Map,O=new Map,F="void"===i,j={params:j4t(C,p),delay:this.ast.options?.delay},W=d?[]:VR(e,t,this.ast.animation,s,o,y,w,j,u,f);let M=0;if(W.forEach(E=>{M=Math.max(E.duration+E.delay,M)}),f.length)return n2e(t,this._triggerName,r,i,F,y,w,[],[],R,O,M,f);W.forEach(E=>{const S=E.element,A=No(R,S,new Set);E.preStyleProps.forEach(I=>A.add(I));const x=No(O,S,new Set);E.postStyleProps.forEach(I=>x.add(I)),S!==t&&N.add(S)});const v=K_(N.values());return n2e(t,this._triggerName,r,i,F,y,w,W,v,R,O,M)}}function j4t(n,e){const t=o5(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class $4t{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=o5(this.defaultParams);return Object.keys(e).forEach(s=>{const o=e[s];null!==o&&(i[s]=o)}),this.styles.styles.forEach(s=>{"string"!=typeof s&&s.forEach((o,a)=>{o&&(o=c5(o,i,t));const c=this.normalizer.normalizePropertyName(a,t);o=this.normalizer.normalizeStyleValue(a,c,o,t),r.set(a,o)})}),r}}class G4t{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new $4t(i.style,i.options&&i.options.params||{},r))}),i2e(this.states,"true","1"),i2e(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new r2e(e,i,this.states))}),this.fallbackTransition=function q4t(n,e,t){return new r2e(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(o,a)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(o=>o.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function i2e(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const W4t=new X_;class K4t{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],s=OR(this._driver,t,r,[]);if(r.length)throw function X3t(n){return new J(3503,!1)}();this._animations.set(e,s)}_buildPlayer(e,t,r){const i=e.element,s=Bce(this._normalizer,e.keyframes,t,r);return this._driver.animate(i,s,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],s=this._animations.get(e);let o;const a=new Map;if(s?(o=VR(this._driver,t,s,LR,H_,new Map,new Map,r,W4t,i),o.forEach(d=>{const f=No(a,d.element,new Map);d.postStyleProps.forEach(p=>f.set(p,null))})):(i.push(function Z3t(){return new J(3300,!1)}()),o=[]),i.length)throw function e4t(n){return new J(3504,!1)}();a.forEach((d,f)=>{d.forEach((p,g)=>{d.set(g,this._driver.computeStyle(f,g,wc))})});const u=rl(o.map(d=>{const f=a.get(d.element);return this._buildPlayer(d,new Map,f)}));return this._playersById.set(e,u),u.onDestroy(()=>this.destroy(e)),this.players.push(u),u}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function t4t(n){return new J(3301,!1)}();return t}listen(e,t,r,i){const s=AR(t,"","","");return MR(this._getPlayer(e),r,s,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const s=this._getPlayer(e);switch(r){case"play":s.play();break;case"pause":s.pause();break;case"reset":s.reset();break;case"restart":s.restart();break;case"finish":s.finish();break;case"init":s.init();break;case"setPosition":s.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const s2e="ng-animate-queued",$R="ng-animate-disabled",Z4t=[],o2e={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},eut={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},La="__ng_removed";class HR{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function iut(n){return n??null}(r?e.value:e),r){const s=o5(e);delete s.value,this.options=s}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const l5="void",GR=new HR(l5);class tut{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,oa(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function n4t(n,e){return new J(3302,!1)}();if(null==r||0==r.length)throw function r4t(n){return new J(3303,!1)}();if(!function sut(n){return"start"==n||"done"==n}(r))throw function i4t(n,e){return new J(3400,!1)}();const s=No(this._elementListeners,e,[]),o={name:t,phase:r,callback:i};s.push(o);const a=No(this._engine.statesByElement,e,new Map);return a.has(t)||(oa(e,G_),oa(e,G_+"-"+t),a.set(t,GR)),()=>{this._engine.afterFlush(()=>{const c=s.indexOf(o);c>=0&&s.splice(c,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function s4t(n){return new J(3401,!1)}();return t}trigger(e,t,r,i=!0){const s=this._getTrigger(t),o=new qR(this.id,t,e);let a=this._engine.statesByElement.get(e);a||(oa(e,G_),oa(e,G_+"-"+t),this._engine.statesByElement.set(e,a=new Map));let c=a.get(t);const u=new HR(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&c&&u.absorbOptions(c.options),a.set(t,u),c||(c=GR),u.value!==l5&&c.value===u.value){if(!function cut(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const s=t[i];if(!e.hasOwnProperty(s)||n[s]!==e[s])return!1}return!0}(c.params,u.params)){const C=[],w=s.matchStyles(c.value,c.params,C),N=s.matchStyles(u.value,u.params,C);C.length?this._engine.reportError(C):this._engine.afterFlush(()=>{o3(e,w),C1(e,N)})}return}const p=No(this._engine.playersByElement,e,[]);p.forEach(C=>{C.namespaceId==this.id&&C.triggerName==t&&C.queued&&C.destroy()});let g=s.matchTransition(c.value,u.value,e,u.params),y=!1;if(!g){if(!i)return;g=s.fallbackTransition,y=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:g,fromState:c,toState:u,player:o,isFallbackTransition:y}),y||(oa(e,s2e),o.onStart(()=>{L6(e,s2e)})),o.onDone(()=>{let C=this.players.indexOf(o);C>=0&&this.players.splice(C,1);const w=this._engine.playersByElement.get(e);if(w){let N=w.indexOf(o);N>=0&&w.splice(N,1)}}),this.players.push(o),p.push(o),o}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,q_,!0);r.forEach(i=>{if(i[La])return;const s=this._engine.fetchNamespacesByElement(i);s.size?s.forEach(o=>o.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const s=this._engine.statesByElement.get(e),o=new Map;if(s){const a=[];if(s.forEach((c,u)=>{if(o.set(u,c.value),this._triggers.has(u)){const d=this.trigger(e,u,l5,i);d&&a.push(d)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,o),r&&rl(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(s=>{const o=s.name;if(i.has(o))return;i.add(o);const c=this._triggers.get(o).fallbackTransition,u=r.get(o)||GR,d=new HR(l5),f=new qR(this.id,o,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:o,transition:c,fromState:u,toState:d,player:f,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const s=r.players.length?r.playersByQueriedElement.get(e):[];if(s&&s.length)i=!0;else{let o=e;for(;o=o.parentNode;)if(r.statesByElement.get(o)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const s=e[La];(!s||s===o2e)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){oa(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const s=r.element,o=this._elementListeners.get(s);o&&o.forEach(a=>{if(a.name==r.triggerName){const c=AR(s,r.triggerName,r.fromState.value,r.toState.value);c._data=e,MR(r.player,a.phase,c,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const s=r.transition.ast.depCount,o=i.transition.ast.depCount;return 0==s||0==o?s-o:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}}class nut{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,s)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new tut(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let o=!1,a=this.driver.getParentElement(t);for(;a;){const c=i.get(a);if(c){const u=r.indexOf(c);r.splice(u+1,0,e),o=!0;break}a=this.driver.getParentElement(a)}o||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{const r=this._fetchNamespace(e);this.namespacesByHostElement.delete(r.hostElement);const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1),r.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const s=this._fetchNamespace(i.namespaceId);s&&t.add(s)}return t}trigger(e,t,r,i){if(ty(t)){const s=this._fetchNamespace(e);if(s)return s.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!ty(t))return;const s=t[La];if(s&&s.setForRemoval){s.setForRemoval=!1,s.setForMove=!0;const o=this.collectedLeaveElements.indexOf(t);o>=0&&this.collectedLeaveElements.splice(o,1)}if(e){const o=this._fetchNamespace(e);o&&o.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),oa(e,$R)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),L6(e,$R))}removeNode(e,t,r){if(ty(t)){const i=e?this._fetchNamespace(e):null;i?i.removeNode(t,r):this.markElementAsRemoved(e,t,!1,r);const s=this.namespacesByHostElement.get(t);s&&s.id!==e&&s.removeNode(t,r)}else this._onRemovalComplete(t,r)}markElementAsRemoved(e,t,r,i,s){this.collectedLeaveElements.push(t),t[La]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:s}}listen(e,t,r,i,s){return ty(t)?this._fetchNamespace(e).listen(t,r,i,s):()=>{}}_buildInstruction(e,t,r,i,s){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,s)}destroyInnerAnimations(e){let t=this.driver.query(e,q_,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,RR,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return rl(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[La];if(t&&t.setForRemoval){if(e[La]=o2e,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains($R)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)oa(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?rl(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function o4t(n){return new J(3402,!1)}()}_flushAnimations(e,t){const r=new X_,i=[],s=new Map,o=[],a=new Map,c=new Map,u=new Map,d=new Set;this.disabledNodes.forEach(we=>{d.add(we);const Ie=this.driver.query(we,".ng-animate-queued",!0);for(let Pe=0;Pe<Ie.length;Pe++)d.add(Ie[Pe])});const f=this.bodyNode,p=Array.from(this.statesByElement.keys()),g=l2e(p,this.collectedEnterElements),y=new Map;let C=0;g.forEach((we,Ie)=>{const Pe=LR+C++;y.set(Ie,Pe),we.forEach(rt=>oa(rt,Pe))});const w=[],N=new Set,R=new Set;for(let we=0;we<this.collectedLeaveElements.length;we++){const Ie=this.collectedLeaveElements[we],Pe=Ie[La];Pe&&Pe.setForRemoval&&(w.push(Ie),N.add(Ie),Pe.hasAnimation?this.driver.query(Ie,".ng-star-inserted",!0).forEach(rt=>N.add(rt)):R.add(Ie))}const O=new Map,F=l2e(p,Array.from(N));F.forEach((we,Ie)=>{const Pe=H_+C++;O.set(Ie,Pe),we.forEach(rt=>oa(rt,Pe))}),e.push(()=>{g.forEach((we,Ie)=>{const Pe=y.get(Ie);we.forEach(rt=>L6(rt,Pe))}),F.forEach((we,Ie)=>{const Pe=O.get(Ie);we.forEach(rt=>L6(rt,Pe))}),w.forEach(we=>{this.processLeaveNode(we)})});const j=[],W=[];for(let we=this._namespaceList.length-1;we>=0;we--)this._namespaceList[we].drainQueuedTransitions(t).forEach(Pe=>{const rt=Pe.player,mn=Pe.element;if(j.push(rt),this.collectedEnterElements.length){const $t=mn[La];if($t&&$t.setForMove){if($t.previousTriggersValues&&$t.previousTriggersValues.has(Pe.triggerName)){const xr=$t.previousTriggersValues.get(Pe.triggerName),Dr=this.statesByElement.get(Pe.element);if(Dr&&Dr.has(Pe.triggerName)){const di=Dr.get(Pe.triggerName);di.value=xr,Dr.set(Pe.triggerName,di)}}return void rt.destroy()}}const Hn=!f||!this.driver.containsElement(f,mn),Mt=O.get(mn),Ze=y.get(mn),Dt=this._buildInstruction(Pe,r,Ze,Mt,Hn);if(Dt.errors&&Dt.errors.length)return void W.push(Dt);if(Hn)return rt.onStart(()=>o3(mn,Dt.fromStyles)),rt.onDestroy(()=>C1(mn,Dt.toStyles)),void i.push(rt);if(Pe.isFallbackTransition)return rt.onStart(()=>o3(mn,Dt.fromStyles)),rt.onDestroy(()=>C1(mn,Dt.toStyles)),void i.push(rt);const Gn=[];Dt.timelines.forEach($t=>{$t.stretchStartingKeyframe=!0,this.disabledNodes.has($t.element)||Gn.push($t)}),Dt.timelines=Gn,r.append(mn,Dt.timelines),o.push({instruction:Dt,player:rt,element:mn}),Dt.queriedElements.forEach($t=>No(a,$t,[]).push(rt)),Dt.preStyleProps.forEach(($t,xr)=>{if($t.size){let Dr=c.get(xr);Dr||c.set(xr,Dr=new Set),$t.forEach((di,fi)=>Dr.add(fi))}}),Dt.postStyleProps.forEach(($t,xr)=>{let Dr=u.get(xr);Dr||u.set(xr,Dr=new Set),$t.forEach((di,fi)=>Dr.add(fi))})});if(W.length){const we=[];W.forEach(Ie=>{we.push(function a4t(n,e){return new J(3505,!1)}())}),j.forEach(Ie=>Ie.destroy()),this.reportError(we)}const M=new Map,v=new Map;o.forEach(we=>{const Ie=we.element;r.has(Ie)&&(v.set(Ie,Ie),this._beforeAnimationBuild(we.player.namespaceId,we.instruction,M))}),i.forEach(we=>{const Ie=we.element;this._getPreviousPlayers(Ie,!1,we.namespaceId,we.triggerName,null).forEach(rt=>{No(M,Ie,[]).push(rt),rt.destroy()})});const E=w.filter(we=>d2e(we,c,u)),S=new Map;c2e(S,this.driver,R,u,wc).forEach(we=>{d2e(we,c,u)&&E.push(we)});const x=new Map;g.forEach((we,Ie)=>{c2e(x,this.driver,new Set(we),c,"!")}),E.forEach(we=>{const Ie=S.get(we),Pe=x.get(we);S.set(we,new Map([...Ie?.entries()??[],...Pe?.entries()??[]]))});const I=[],sn=[],Xn={};o.forEach(we=>{const{element:Ie,player:Pe,instruction:rt}=we;if(r.has(Ie)){if(d.has(Ie))return Pe.onDestroy(()=>C1(Ie,rt.toStyles)),Pe.disabled=!0,Pe.overrideTotalTime(rt.totalTime),void i.push(Pe);let mn=Xn;if(v.size>1){let Mt=Ie;const Ze=[];for(;Mt=Mt.parentNode;){const Dt=v.get(Mt);if(Dt){mn=Dt;break}Ze.push(Mt)}Ze.forEach(Dt=>v.set(Dt,mn))}const Hn=this._buildAnimation(Pe.namespaceId,rt,M,s,x,S);if(Pe.setRealPlayer(Hn),mn===Xn)I.push(Pe);else{const Mt=this.playersByElement.get(mn);Mt&&Mt.length&&(Pe.parentPlayer=rl(Mt)),i.push(Pe)}}else o3(Ie,rt.fromStyles),Pe.onDestroy(()=>C1(Ie,rt.toStyles)),sn.push(Pe),d.has(Ie)&&i.push(Pe)}),sn.forEach(we=>{const Ie=s.get(we.element);if(Ie&&Ie.length){const Pe=rl(Ie);we.setRealPlayer(Pe)}}),i.forEach(we=>{we.parentPlayer?we.syncPlayerEvents(we.parentPlayer):we.destroy()});for(let we=0;we<w.length;we++){const Ie=w[we],Pe=Ie[La];if(L6(Ie,H_),Pe&&Pe.hasAnimation)continue;let rt=[];if(a.size){let Hn=a.get(Ie);Hn&&Hn.length&&rt.push(...Hn);let Mt=this.driver.query(Ie,RR,!0);for(let Ze=0;Ze<Mt.length;Ze++){let Dt=a.get(Mt[Ze]);Dt&&Dt.length&&rt.push(...Dt)}}const mn=rt.filter(Hn=>!Hn.destroyed);mn.length?out(this,Ie,mn):this.processLeaveNode(Ie)}return w.length=0,I.forEach(we=>{this.players.push(we),we.onDone(()=>{we.destroy();const Ie=this.players.indexOf(we);this.players.splice(Ie,1)}),we.play()}),I}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,s){let o=[];if(t){const a=this.playersByQueriedElement.get(e);a&&(o=a)}else{const a=this.playersByElement.get(e);if(a){const c=!s||s==l5;a.forEach(u=>{u.queued||!c&&u.triggerName!=i||o.push(u)})}}return(r||i)&&(o=o.filter(a=>!(r&&r!=a.namespaceId||i&&i!=a.triggerName))),o}_beforeAnimationBuild(e,t,r){const s=t.element,o=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:t.triggerName;for(const c of t.timelines){const u=c.element,d=u!==s,f=No(r,u,[]);this._getPreviousPlayers(u,d,o,a,t.toState).forEach(g=>{const y=g.getRealPlayer();y.beforeDestroy&&y.beforeDestroy(),g.destroy(),f.push(g)})}o3(s,t.fromStyles)}_buildAnimation(e,t,r,i,s,o){const a=t.triggerName,c=t.element,u=[],d=new Set,f=new Set,p=t.timelines.map(y=>{const C=y.element;d.add(C);const w=C[La];if(w&&w.removedBeforeQueried)return new I8(y.duration,y.delay);const N=C!==c,R=function aut(n){const e=[];return u2e(n,e),e}((r.get(C)||Z4t).map(M=>M.getRealPlayer())).filter(M=>!!M.element&&M.element===C),O=s.get(C),F=o.get(C),j=Bce(this._normalizer,y.keyframes,O,F),W=this._buildPlayer(y,j,R);if(y.subTimeline&&i&&f.add(C),N){const M=new qR(e,a,C);M.setRealPlayer(W),u.push(M)}return W});u.forEach(y=>{No(this.playersByQueriedElement,y.element,[]).push(y),y.onDone(()=>function rut(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,y.element,y))}),d.forEach(y=>oa(y,Wce));const g=rl(p);return g.onDestroy(()=>{d.forEach(y=>L6(y,Wce)),C1(c,t.toStyles)}),f.forEach(y=>{No(i,y,[]).push(g)}),g}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new I8(e.duration,e.delay)}}class qR{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new I8,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>MR(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){No(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function ty(n){return n&&1===n.nodeType}function a2e(n,e){const t=n.style.display;return n.style.display=e??"none",t}function c2e(n,e,t,r,i){const s=[];t.forEach(c=>s.push(a2e(c)));const o=[];r.forEach((c,u)=>{const d=new Map;c.forEach(f=>{const p=e.computeStyle(u,f,i);d.set(f,p),(!p||0==p.length)&&(u[La]=eut,o.push(u))}),n.set(u,d)});let a=0;return t.forEach(c=>a2e(c,s[a++])),o}function l2e(n,e){const t=new Map;if(n.forEach(a=>t.set(a,[])),0==e.length)return t;const i=new Set(e),s=new Map;function o(a){if(!a)return 1;let c=s.get(a);if(c)return c;const u=a.parentNode;return c=t.has(u)?u:i.has(u)?1:o(u),s.set(a,c),c}return e.forEach(a=>{const c=o(a);1!==c&&t.get(c).push(a)}),t}function oa(n,e){n.classList?.add(e)}function L6(n,e){n.classList?.remove(e)}function out(n,e,t){rl(t).onDone(()=>n.processLeaveNode(e))}function u2e(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof yse?u2e(r.players,e):e.push(r)}}function d2e(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(s=>i.add(s)):e.set(n,r),t.delete(n),!0}class ny{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,s)=>{},this._transitionEngine=new nut(e,t,r),this._timelineEngine=new K4t(e,t,r),this._transitionEngine.onRemovalComplete=(i,s)=>this.onRemovalComplete(i,s)}registerTrigger(e,t,r,i,s){const o=e+"-"+i;let a=this._triggerCache[o];if(!a){const c=[],d=OR(this._driver,s,c,[]);if(c.length)throw function Y3t(n,e){return new J(3404,!1)}();a=function H4t(n,e,t){return new G4t(n,e,t)}(i,d,this._normalizer),this._triggerCache[o]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r){this._transitionEngine.removeNode(e,t,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[s,o]=Uce(r);this._timelineEngine.command(s,t,o,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,s){if("@"==r.charAt(0)){const[o,a]=Uce(r);return this._timelineEngine.listen(o,t,a,s)}return this._transitionEngine.listen(e,t,r,i,s)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}}let uut=(()=>{class n{static{this.initialStylesByElement=new WeakMap}constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let s=n.initialStylesByElement.get(t);s||n.initialStylesByElement.set(t,s=new Map),this._initialStyles=s}start(){this._state<1&&(this._startStyles&&C1(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(C1(this._element,this._initialStyles),this._endStyles&&(C1(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(o3(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(o3(this._element,this._endStyles),this._endStyles=null),C1(this._element,this._initialStyles),this._state=3)}}return n})();function WR(n){let e=null;return n.forEach((t,r)=>{(function dut(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class f2e{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;const t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:Jce(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class fut{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return $ce(e,t)}getParentElement(e){return xR(e)}query(e,t,r){return Hce(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,s,o=[]){const c={duration:r,delay:i,fill:0==i?"both":"forwards"};s&&(c.easing=s);const u=new Map,d=o.filter(g=>g instanceof f2e);(function v4t(n,e){return 0===n||0===e})(r,i)&&d.forEach(g=>{g.currentSnapshot.forEach((y,C)=>u.set(C,y))});let f=function g4t(n){return n.length?n[0]instanceof Map?n:n.map(e=>Kce(e)):[]}(t).map(g=>il(g));f=function b4t(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((s,o)=>{r.has(o)||i.push(o),r.set(o,s)}),i.length)for(let s=1;s<e.length;s++){let o=e[s];i.forEach(a=>o.set(a,Jce(n,a)))}}return e}(e,f,u);const p=function lut(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=WR(e[0]),e.length>1&&(r=WR(e[e.length-1]))):e instanceof Map&&(t=WR(e)),t||r?new uut(n,t,r):null}(e,f);return new f2e(e,f,c,p)}}let hut=(()=>{class n extends pse{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:qo.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?gse(t):t;return h2e(this._renderer,null,r,"register",[i]),new put(r,this._renderer)}static{this.\u0275fac=function(r){return new(r||n)(de(t4),de(Bn))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();class put extends nit{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new mut(this._id,e,t||{},this._renderer)}}class mut{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return h2e(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function h2e(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const p2e="@.disabled";let gut=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,r.onRemovalComplete=(s,o)=>{const a=o?.parentNode(s);a&&o.removeChild(a,s)}}createRenderer(t,r){const s=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let d=this._rendererCache.get(s);return d||(d=new m2e("",s,this.engine,()=>this._rendererCache.delete(s)),this._rendererCache.set(s,d)),d}const o=r.id,a=r.id+"-"+this._currentId;this._currentId++,this.engine.register(a,t);const c=d=>{Array.isArray(d)?d.forEach(c):this.engine.registerTrigger(o,a,t,d.name,d)};return r.data.animation.forEach(c),new _ut(this,a,s,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&queueMicrotask(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(s=>{const[o,a]=s;o(a)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}static{this.\u0275fac=function(r){return new(r||n)(de(t4),de(ny),de(pt))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();class m2e{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==p2e?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class _ut extends m2e{constructor(e,t,r,i,s){super(t,r,i,s),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==p2e?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function yut(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let s=t.slice(1),o="";return"@"!=s.charAt(0)&&([s,o]=function vut(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(s)),this.engine.listen(this.namespaceId,i,s,o,a=>{this.factory.scheduleListenerCallback(a._data||-1,r,a)})}return this.delegate.listen(e,t,r)}}let but=(()=>{class n extends ny{constructor(t,r,i,s){super(t.body,r,i)}ngOnDestroy(){this.flush()}static{this.\u0275fac=function(r){return new(r||n)(de(Bn),de(DR),de(UR),de(wa))}}static{this.\u0275prov=pe({token:n,factory:n.\u0275fac})}}return n})();const g2e=[{provide:pse,useClass:hut},{provide:UR,useFactory:function Cut(){return new B4t}},{provide:ny,useClass:but},{provide:t4,useFactory:function wut(n,e,t){return new gut(n,e,t)},deps:[UC,ny,pt]}],KR=[{provide:DR,useFactory:()=>new fut},{provide:Yz,useValue:"BrowserAnimations"},...g2e],_2e=[{provide:DR,useClass:Gce},{provide:Yz,useValue:"NoopAnimations"},...g2e];let Eut=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?_2e:KR}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n})}static{this.\u0275inj=kt({providers:KR,imports:[QB]})}}return n})();const y2e="firebasestorage.googleapis.com";class br extends t1{constructor(e,t,r=0){super(QR(e),`Firebase Storage: ${t} (${QR(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,br.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return QR(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}var lr=function(n){return n.UNKNOWN="unknown",n.OBJECT_NOT_FOUND="object-not-found",n.BUCKET_NOT_FOUND="bucket-not-found",n.PROJECT_NOT_FOUND="project-not-found",n.QUOTA_EXCEEDED="quota-exceeded",n.UNAUTHENTICATED="unauthenticated",n.UNAUTHORIZED="unauthorized",n.UNAUTHORIZED_APP="unauthorized-app",n.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",n.INVALID_CHECKSUM="invalid-checksum",n.CANCELED="canceled",n.INVALID_EVENT_NAME="invalid-event-name",n.INVALID_URL="invalid-url",n.INVALID_DEFAULT_BUCKET="invalid-default-bucket",n.NO_DEFAULT_BUCKET="no-default-bucket",n.CANNOT_SLICE_BLOB="cannot-slice-blob",n.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",n.NO_DOWNLOAD_URL="no-download-url",n.INVALID_ARGUMENT="invalid-argument",n.INVALID_ARGUMENT_COUNT="invalid-argument-count",n.APP_DELETED="app-deleted",n.INVALID_ROOT_OPERATION="invalid-root-operation",n.INVALID_FORMAT="invalid-format",n.INTERNAL_ERROR="internal-error",n.UNSUPPORTED_ENVIRONMENT="unsupported-environment",n}(lr||{});function QR(n){return"storage/"+n}function JR(n){return new br(lr.INVALID_ARGUMENT,n)}function E2e(){return new br(lr.APP_DELETED,"The Firebase app was deleted.")}class As{constructor(e,t){this.bucket=e,this.path_=t}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,t){let r;try{r=As.makeFromUrl(e,t)}catch{return new As(e,"")}if(""===r.path)return r;throw function Nut(n){return new br(lr.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+n+"'.")}(e)}static makeFromUrl(e,t){let r=null;const i="([A-Za-z0-9.\\-_]+)",a=new RegExp("^gs://"+i+"(/(.*))?$","i");function u(F){F.path_=decodeURIComponent(F.path)}const f=t.replace(/[.]/g,"\\."),O=[{regex:a,indices:{bucket:1,path:3},postModify:function s(F){"/"===F.path.charAt(F.path.length-1)&&(F.path_=F.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${f}/v[A-Za-z0-9_]+/b/${i}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:u},{regex:new RegExp(`^https?://${t===y2e?"(?:storage.googleapis.com|storage.cloud.google.com)":t}/${i}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:u}];for(let F=0;F<O.length;F++){const j=O[F],W=j.regex.exec(e);if(W){let v=W[j.indices.path];v||(v=""),r=new As(W[j.indices.bucket],v),j.postModify(r);break}}if(null==r)throw function Rut(n){return new br(lr.INVALID_URL,"Invalid URL '"+n+"'.")}(e);return r}}class Vut{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}function ZR(n,e,t,r){if(r<e)throw JR(`Invalid value for '${n}'. Expected ${e} or greater.`);if(r>t)throw JR(`Invalid value for '${n}'. Expected ${t} or less.`)}var R6=function(n){return n[n.NO_ERROR=0]="NO_ERROR",n[n.NETWORK_ERROR=1]="NETWORK_ERROR",n[n.ABORT=2]="ABORT",n}(R6||{});class Gut{constructor(e,t,r,i,s,o,a,c,u,d,f,p=!0){this.url_=e,this.method_=t,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=c,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=p,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((g,y)=>{this.resolve_=g,this.reject_=y,this.start_()})}start_(){const t=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const c=this.callback_(a,a.getResponse());!function jut(n){return void 0!==n}(c)?s():s(c)}catch(c){o(c)}else if(null!==a){const c=function YR(){return new br(lr.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}();c.serverResponse=a.getErrorText(),o(this.errorCallback_?this.errorCallback_(a,c):c)}else o(i.canceled?this.appDelete_?E2e():function C2e(){return new br(lr.CANCELED,"User canceled the upload/download.")}():function b2e(){return new br(lr.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}())};this.canceled_?t(0,new sy(!1,null,!0)):this.backoffId_=function But(n,e,t){let r=1,i=null,s=null,o=!1,a=0;function c(){return 2===a}let u=!1;function d(...w){u||(u=!0,e.apply(null,w))}function f(w){i=setTimeout(()=>{i=null,n(g,c())},w)}function p(){s&&clearTimeout(s)}function g(w,...N){if(u)return void p();if(w)return p(),void d.call(null,w,...N);if(c()||o)return p(),void d.call(null,w,...N);let O;r<64&&(r*=2),1===a?(a=2,O=0):O=1e3*(r+Math.random()),f(O)}let y=!1;function C(w){y||(y=!0,p(),!u&&(null!==i?(w||(a=2),clearTimeout(i),f(0)):w||(a=1)))}return f(0),s=setTimeout(()=>{o=!0,C(!0)},t),C}((r,i)=>{if(i)return void r(!1,new sy(!1,null,!0));const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{null!==this.progressCallback_&&this.progressCallback_(a.loaded,a.lengthComputable?a.total:-1)};null!==this.progressCallback_&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===R6.NO_ERROR,c=s.getStatus();if(!a||function M2e(n,e){const t=n>=500&&n<600,i=-1!==[408,429].indexOf(n),s=-1!==e.indexOf(n);return t||i||s}(c,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===R6.ABORT;return void r(!1,new sy(!1,null,d))}const u=-1!==this.successCodes_.indexOf(c);r(!0,new sy(u,s))})},t,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,null!==this.backoffId_&&function Uut(n){n(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}}class sy{constructor(e,t,r){this.wasSuccessCode=e,this.connection=t,this.canceled=!!r}}class c3{constructor(e,t){this._service=e,this._location=t instanceof As?t:As.makeFromUrl(t,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,t){return new c3(e,t)}get root(){const e=new As(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return function L2e(n){const e=n.lastIndexOf("/",n.length-2);return-1===e?n:n.slice(e+1)}(this._location.path)}get storage(){return this._service}get parent(){const e=function s6t(n){if(0===n.length)return null;const e=n.lastIndexOf("/");return-1===e?"":n.slice(0,e)}(this._location.path);if(null===e)return null;const t=new As(this._location.bucket,e);return new c3(this._service,t)}_throwIfRoot(e){if(""===this._location.path)throw function Fut(n){return new br(lr.INVALID_ROOT_OPERATION,"The operation '"+n+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}(e)}}function q2e(n,e){const t=e?.storageBucket;return null==t?null:As.makeFromBucketSpec(t,n)}class oN{constructor(e,t,r,i,s){this.app=e,this._authProvider=t,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=y2e,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=i?As.makeFromBucketSpec(i,this._host):q2e(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._bucket=null!=this._url?As.makeFromBucketSpec(this._url,e):q2e(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){ZR("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){ZR("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){var e=this;return D(function*(){if(e._overrideAuthToken)return e._overrideAuthToken;const t=e._authProvider.getImmediate({optional:!0});if(t){const r=yield t.getToken();if(null!==r)return r.accessToken}return null})()}_getAppCheckToken(){var e=this;return D(function*(){const t=e._appCheckProvider.getImmediate({optional:!0});return t?(yield t.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new c3(this,e)}_makeRequest(e,t,r,i,s=!0){if(this._deleted)return new Vut(E2e());{const o=function Yut(n,e,t,r,i,s,o=!0){const a=function I2e(n){const e=encodeURIComponent;let t="?";for(const r in n)n.hasOwnProperty(r)&&(t=t+(e(r)+"=")+e(n[r])+"&");return t=t.slice(0,-1),t}(n.urlParams),c=n.url+a,u=Object.assign({},n.headers);return function Kut(n,e){e&&(n["X-Firebase-GMPID"]=e)}(u,e),function qut(n,e){null!==e&&e.length>0&&(n.Authorization="Firebase "+e)}(u,t),function Wut(n,e){n["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}(u,s),function Qut(n,e){null!==e&&(n["X-Firebase-AppCheck"]=e)}(u,r),new Gut(c,n.method,u,n.body,n.successCodes,n.additionalRetryCodes,n.handler,n.errorHandler,n.timeout,n.progressCallback,i,o)}(e,this._appId,r,i,t,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,t){var r=this;return D(function*(){const[i,s]=yield Promise.all([r._getAuthToken(),r._getAppCheckToken()]);return r._makeRequest(e,t,i,s).getPromise()})()}}const W2e="@firebase/storage";function H6t(n=Cm(),e){const r=Df(n=Jr(n),"storage").getImmediate({identifier:e}),i=HQ("storage");return i&&function G6t(n,e,t,r={}){!function $6t(n,e,t,r={}){n.host=`${e}:${t}`,n._protocol="http";const{mockUserToken:i}=r;i&&(n._overrideAuthToken="string"==typeof i?i:KQ(i,n.app.options.projectId))}(n,e,t,r)}(r,...i),r}function q6t(n,{instanceIdentifier:e}){const t=n.getProvider("app").getImmediate(),r=n.getProvider("auth-internal"),i=n.getProvider("app-check-internal");return new oN(t,r,i,e,Gl)}!function W6t(){Hl(new u2("storage",q6t,"PUBLIC").setMultipleInstances(!0)),Ui(W2e,"0.13.2",""),Ui(W2e,"0.13.2","esm2017")}();class aN{constructor(e){return e}}const cN=new Me("angularfire2.storage-instances");function Y6t(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new aN(r)}}const J6t={provide:class K6t{constructor(){return Em("storage")}},deps:[[new Vi,cN]]},X6t={provide:aN,useFactory:function Q6t(n,e){const t=xE("storage",n,e);return t&&new aN(t)},deps:[[new Vi,cN],k4]};function Z6t(n,...e){return Ui("angularfire",Nf.full,"gcs"),t2([X6t,J6t,{provide:cN,useFactory:Y6t(n),multi:!0,deps:[pt,tr,Tm,Im,[new Vi,BI],[new Vi,DE],...e]}])}const edt=Is(H6t,!0);let tdt=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Gt({type:n,bootstrap:[W1t]})}static{this.\u0275inj=kt({providers:[FGe(()=>VGe(A3t_firebase)),jKe(()=>HKe()),Yrt(()=>tit()),Z6t(()=>edt())],imports:[QB,xB,G1t,S3t,Fat,kot,Vat,Iit.forRoot(),Eut,L1t]})}}return n})();Tpe().bootstrapModule(tdt).catch(n=>console.error(n))},73:()=>{const St=":";Error;const $6=function(q,...U){if($6.translate){const oe=$6.translate(q,U);q=oe[0],U=oe[1]}let Z=B5(q[0],q.raw[0]);for(let oe=1;oe<q.length;oe++)Z+=U[oe-1]+B5(q[oe],q.raw[oe]);return Z},vy=":";function B5(q,U){return U.charAt(0)===vy?q.substring(function U6(q,U){for(let Z=1,oe=1;Z<q.length;Z++,oe++)if("\\"===U[oe])oe++;else if(q[Z]===St)return Z;throw new Error(`Unterminated $localize metadata block in "${U}".`)}(q,U)+1):q}globalThis.$localize=$6}},St=>{var Hc=Gc=>St(St.s=Gc);Hc(73),Hc(270)}]);